'use strict';const a12_0x28a6=['display-none','#export-save-button','arrayBuffer','5MDVKCV','download','61588xjJhYf','stringify','3157ySAdZk','files','none','remove','soulStateV02','removeChild','length','utf-8','79199OeSHbj','style','57769WxIHam','querySelector','1697911wcrtRP','Invalid\x20savefile','called\x20export\x20handler','1605179QMIwsw','body','click','value','appendChild','14UESHaj','change','href','setAttribute','buffer','data:application/octet-stream','gameStateV02','save.fear','1573633JOVGLZ','log','addEventListener','parse','decode','display','getItem','classList','#import-save-file-input','337ideRSq'];(function(_0x991d67,_0x32bc0a){const _0x4a23d6=a12_0x521f;while(!![]){try{const _0x2a433e=parseInt(_0x4a23d6(0x12e))+-parseInt(_0x4a23d6(0x130))*parseInt(_0x4a23d6(0x128))+-parseInt(_0x4a23d6(0x10f))+parseInt(_0x4a23d6(0x11f))+parseInt(_0x4a23d6(0x112))+-parseInt(_0x4a23d6(0x117))*-parseInt(_0x4a23d6(0x10d))+parseInt(_0x4a23d6(0x138))*-parseInt(_0x4a23d6(0x12c));if(_0x2a433e===_0x32bc0a)break;else _0x991d67['push'](_0x991d67['shift']());}catch(_0x21d5c6){_0x991d67['push'](_0x991d67['shift']());}}}(a12_0x28a6,0xd99d7));function a12_0x521f(_0x15136a,_0x65f2e9){return a12_0x521f=function(_0x28a61f,_0x521f87){_0x28a61f=_0x28a61f-0x10c;let _0x397a8e=a12_0x28a6[_0x28a61f];return _0x397a8e;},a12_0x521f(_0x15136a,_0x65f2e9);}function importSaveFile(_0x5b3169){const _0x268133=a12_0x521f;let _0x2d5534,_0x12fe3a,_0x2a2636;try{const _0x1d89ff=JSON['parse'](_0x5b3169);({gameStateV02:_0x2d5534,soulStateV02:_0x12fe3a,containerVersion:_0x2a2636}=_0x1d89ff);if(!_0x2d5534||!_0x12fe3a||!_0x2a2636)throw new Error(_0x268133(0x110));if(_0x2a2636!==0x1)throw new Error(_0x268133(0x110));}catch(_0x424071){return![];}return document['querySelector']('.black-screen')[_0x268133(0x126)][_0x268133(0x133)](_0x268133(0x129)),setTimeout(()=>location['reload'](),0x3e8),{'gameState':_0x2d5534,'soulState':_0x12fe3a};}function exportSaveFile(){const _0x1dc2f1=a12_0x521f,_0x492c8f=JSON[_0x1dc2f1(0x122)](localStorage[_0x1dc2f1(0x125)](_0x1dc2f1(0x11d))),_0x3141a9=JSON['parse'](localStorage['getItem'](_0x1dc2f1(0x134))),_0xdf8e42={'gameStateV02':_0x492c8f,'soulStateV02':_0x3141a9,'containerVersion':0x1},_0x271fdb=JSON[_0x1dc2f1(0x12f)](_0xdf8e42),_0x2774ab=new TextEncoder(),_0x36feb8=_0x2774ab['encode'](_0x271fdb),_0x5aad5b=XOR(_0x36feb8);return _0x5aad5b;}async function saveUploadHandler(_0x20763e){const _0x181bea=a12_0x521f,_0x5931b6=document[_0x181bea(0x10e)](_0x181bea(0x127));if(_0x5931b6[_0x181bea(0x131)][_0x181bea(0x136)]!==0x1)return;const _0xc10984=_0x5931b6[_0x181bea(0x131)][0x0],_0x4f3289=new Uint8Array(await _0xc10984[_0x181bea(0x12b)]()),_0x9aa34f=XOR(_0x4f3289),_0x3e9374=new TextDecoder(_0x181bea(0x137)),_0x593454=_0x3e9374[_0x181bea(0x123)](_0x9aa34f),_0x267641=importSaveFile(_0x593454);return _0x5931b6[_0x181bea(0x115)]='',!_0x267641?_0x20763e({'success':![],'reason':'The\x20file\x20uploaded\x20was\x20not\x20recognized\x20as\x20a\x20valid\x20Feartress\x20save\x20file.'}):_0x20763e({'success':!![],'data':_0x267641});}function exportButtonHandler(_0x130b61){const _0x58595d=a12_0x521f;console[_0x58595d(0x120)](_0x58595d(0x111));const _0xdf27b=exportSaveFile(),_0x55bc38=URL['createObjectURL'](new Blob([_0xdf27b[_0x58595d(0x11b)]],{'type':_0x58595d(0x11c)})),_0x287814=document['createElement']('a');_0x287814[_0x58595d(0x11a)](_0x58595d(0x119),_0x55bc38),_0x287814[_0x58595d(0x11a)](_0x58595d(0x12d),_0x58595d(0x11e)),_0x287814[_0x58595d(0x10c)][_0x58595d(0x124)]=_0x58595d(0x132),document[_0x58595d(0x113)][_0x58595d(0x116)](_0x287814),_0x287814[_0x58595d(0x114)](),document[_0x58595d(0x113)][_0x58595d(0x135)](_0x287814);}function XOR(_0x4df96d){const _0x401a35=a12_0x521f,_0x1b9c4d=new Uint8Array([0x48,0x49,0x43,0x77,0x6e,0x41,0x6e,0x6e,0x77,0x6e,0x5f,0x52,0x79,0x6c,0x65,0x68]),_0x2256a2=_0x4df96d['byteLength'];let _0x48acf6=new Uint8Array(_0x2256a2);for(let _0x3c4924=0x0;_0x3c4924<_0x2256a2;_0x3c4924++){_0x48acf6[_0x3c4924]=_0x4df96d[_0x3c4924]^_0x1b9c4d[_0x3c4924%_0x1b9c4d[_0x401a35(0x136)]];}return _0x48acf6;}export function attachClickSaveHandlers(_0xc2477c){const _0x4230ed=a12_0x521f,_0x288c5f=document['querySelector'](_0x4230ed(0x12a)),_0x3b5139=document['querySelector']('#import-save-button'),_0x4f0fb2=document[_0x4230ed(0x10e)](_0x4230ed(0x127));_0x288c5f[_0x4230ed(0x121)](_0x4230ed(0x114),exportButtonHandler),_0x4f0fb2[_0x4230ed(0x121)](_0x4230ed(0x118),()=>{saveUploadHandler(_0xc2477c);}),_0x3b5139[_0x4230ed(0x121)](_0x4230ed(0x114),_0x41cc18=>{_0x4f0fb2['click']();});}