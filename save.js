'use strict';const a12_0x5688=['384713ywfEEh','href','called\x20export\x20handler','utf-8','setAttribute','.black-screen','byteLength','save.fear','Invalid\x20savefile','download','2539axyCbM','encode','value','463707DuwHYM','length','body','#import-save-file-input','283746TgVecD','display','removeChild','123YvOTid','683388uKTDJN','files','log','createObjectURL','2uFsBEc','appendChild','data:application/octet-stream','style','322147qkuLIw','click','#import-save-button','The\x20file\x20uploaded\x20was\x20not\x20recognized\x20as\x20a\x20valid\x20Feartress\x20save\x20file.','decode','createElement','1lKSAFG','373582sZWlLG','parse','arrayBuffer','soulStateV02','querySelector','getItem','addEventListener'];(function(_0x4f6407,_0x40fae6){const _0x51cacf=a12_0x3d42;while(!![]){try{const _0x2499f8=-parseInt(_0x51cacf(0xe8))+parseInt(_0x51cacf(0xf7))+parseInt(_0x51cacf(0xe0))+parseInt(_0x51cacf(0xdd))*parseInt(_0x51cacf(0xe7))+parseInt(_0x51cacf(0xf0))*parseInt(_0x51cacf(0xec))+-parseInt(_0x51cacf(0xe4))+-parseInt(_0x51cacf(0xf6))*parseInt(_0x51cacf(0xfe));if(_0x2499f8===_0x40fae6)break;else _0x4f6407['push'](_0x4f6407['shift']());}catch(_0x361994){_0x4f6407['push'](_0x4f6407['shift']());}}}(a12_0x5688,0x6beb1));function importSaveFile(_0x159692){const _0x3fd0eb=a12_0x3d42;let _0x39dd69,_0x1c15bf,_0x342dd8;try{const _0x280ebf=JSON[_0x3fd0eb(0xf8)](_0x159692);({gameStateV02:_0x39dd69,soulStateV02:_0x1c15bf,containerVersion:_0x342dd8}=_0x280ebf);if(!_0x39dd69||!_0x1c15bf||!_0x342dd8)throw new Error(_0x3fd0eb(0xdb));if(_0x342dd8!==0x1)throw new Error(_0x3fd0eb(0xdb));}catch(_0x282e0b){return![];}return document['querySelector'](_0x3fd0eb(0xd8))['classList']['remove']('display-none'),setTimeout(()=>location['reload'](),0x3e8),{'gameState':_0x39dd69,'soulState':_0x1c15bf};}function a12_0x3d42(_0x5c42e3,_0xc947a4){return a12_0x3d42=function(_0x5688a5,_0x3d428d){_0x5688a5=_0x5688a5-0xd7;let _0xe4ddcb=a12_0x5688[_0x5688a5];return _0xe4ddcb;},a12_0x3d42(_0x5c42e3,_0xc947a4);}function exportSaveFile(){const _0x18cdd6=a12_0x3d42,_0x1beab6=JSON[_0x18cdd6(0xf8)](localStorage['getItem']('gameStateV02')),_0x52595f=JSON[_0x18cdd6(0xf8)](localStorage[_0x18cdd6(0xfc)](_0x18cdd6(0xfa))),_0x35c786={'gameStateV02':_0x1beab6,'soulStateV02':_0x52595f,'containerVersion':0x1},_0x3f310b=JSON['stringify'](_0x35c786),_0x520bb3=new TextEncoder(),_0x20c312=_0x520bb3[_0x18cdd6(0xde)](_0x3f310b),_0x3a9947=XOR(_0x20c312);return _0x3a9947;}async function saveUploadHandler(_0x20cb00){const _0x456502=a12_0x3d42,_0x59370d=document[_0x456502(0xfb)](_0x456502(0xe3));if(_0x59370d[_0x456502(0xe9)]['length']!==0x1)return;const _0x3c83a5=_0x59370d[_0x456502(0xe9)][0x0],_0x16ac5f=new Uint8Array(await _0x3c83a5[_0x456502(0xf9)]()),_0x57c3d6=XOR(_0x16ac5f),_0x3c3321=new TextDecoder(_0x456502(0x101)),_0x16c2fd=_0x3c3321[_0x456502(0xf4)](_0x57c3d6),_0x3842fc=importSaveFile(_0x16c2fd);return _0x59370d[_0x456502(0xdf)]='',!_0x3842fc?_0x20cb00({'success':![],'reason':_0x456502(0xf3)}):_0x20cb00({'success':!![],'data':_0x3842fc});}function exportButtonHandler(_0x4b34d0){const _0x3f30ad=a12_0x3d42;console[_0x3f30ad(0xea)](_0x3f30ad(0x100));const _0x4dea68=exportSaveFile(),_0x148f63=URL[_0x3f30ad(0xeb)](new Blob([_0x4dea68['buffer']],{'type':_0x3f30ad(0xee)})),_0x500bcc=document[_0x3f30ad(0xf5)]('a');_0x500bcc[_0x3f30ad(0xd7)](_0x3f30ad(0xff),_0x148f63),_0x500bcc['setAttribute'](_0x3f30ad(0xdc),_0x3f30ad(0xda)),_0x500bcc[_0x3f30ad(0xef)][_0x3f30ad(0xe5)]='none',document[_0x3f30ad(0xe2)][_0x3f30ad(0xed)](_0x500bcc),_0x500bcc['click'](),document[_0x3f30ad(0xe2)][_0x3f30ad(0xe6)](_0x500bcc);}function XOR(_0x3e3eef){const _0x29a9f2=a12_0x3d42,_0x283626=new Uint8Array([0x48,0x49,0x43,0x77,0x6e,0x41,0x6e,0x6e,0x77,0x6e,0x5f,0x52,0x79,0x6c,0x65,0x68]),_0x10da74=_0x3e3eef[_0x29a9f2(0xd9)];let _0x10f1c0=new Uint8Array(_0x10da74);for(let _0xc62639=0x0;_0xc62639<_0x10da74;_0xc62639++){_0x10f1c0[_0xc62639]=_0x3e3eef[_0xc62639]^_0x283626[_0xc62639%_0x283626[_0x29a9f2(0xe1)]];}return _0x10f1c0;}export function attachClickSaveHandlers(_0x500b75){const _0x349663=a12_0x3d42,_0x158e3b=document[_0x349663(0xfb)]('#export-save-button'),_0x154675=document[_0x349663(0xfb)](_0x349663(0xf2)),_0xd615cc=document[_0x349663(0xfb)](_0x349663(0xe3));_0x158e3b['addEventListener'](_0x349663(0xf1),exportButtonHandler),_0xd615cc[_0x349663(0xfd)]('change',()=>{saveUploadHandler(_0x500b75);}),_0x154675[_0x349663(0xfd)]('click',_0x20dd0b=>{const _0x583b18=_0x349663;_0xd615cc[_0x583b18(0xf1)]();});}