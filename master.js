'use strict';const a10_0x2f9a=['.building-tooltip-effect1','charSlot','equipment','holy','scoutingType','bag-btn-2','name','grid-container','denseForestsIII','inherit','woodcutter','chestItem','./svgs/','guardPostOfFrost','perksUnlocked','garden-grid-cell-selected','denseForestsI*','rgb(46,\x20172,\x20255)','attributes','kettle-cell-selected','unit-tooltip-right','remove','addEventListener','frostAtk','code','sacrificialAltar','isKnowledgeUnlocked','#loading-screen','build-menu-page-btn-left','error','Calc\x20win\x20chance','fill','close-building-info-card-button','#continue-playing-btn','moving-building-img','%\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x20\x27combat-log-result-container\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Result:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22combat-log-result\x22>&nbsp;</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stat','.gold-container','reset-game-button','pointer-events-none','t42','productionBonusOnePower','.worker-unit-tooltip','decrease-civil-unit-button','.building-tooltip-cost1-img','imgFileName','soothsayer','fadein','fireMasteryI*','increases','enhancedImp','bloodBasinAmount','strength','color','elapsedTime','building-info-card','<div\x20class=\x22combat-log-types-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27combat-log-types-icons\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20class=\x27combat-log-icon\x27\x20src=\x22svgs/','.army-unit-tooltip\x20.unit-tooltip-img','complete','tier1','length','Slot1','pagodaOfFire','272249whTNPj','selected-tile','produces','playerUnitsInCombat','perkPoints','tick.js','enemy-building-unit-count','Sacrifice','#close-tech-tree-button','.garden-grid-cell','isEquipmentUnlocked','goblinTower','enhancedBloodPortal','round','increase-civil-unit-button','#iron-production-rate','armyPopulation','#tech-tree-button','feverfew','innerHTML','statType','armyHeading','every','isWoodcutterUnlocked','#commandPost','#herbalist-card','.warehouse-building-tooltip-effect-container','#stone-resource-card','#combat-screen','collegeOfArcanumAmount','fireAtk','bloodPortal','left:\x20','combat-screen','97duYvgh','.building-tooltip-effect2-img','display-none','#build-menu-page-btns-container','380656nAhswK','onmousemove','stone','toast-hover','close-victory-defeat-button','unit-targeted','collegeOfFrost','defeat','isFarmerUnlocked','.adsbygoogle','.toast-container','Carnival!\x20Your\x20production\x20is\x20increased\x20by\x20','#knowledge-max','.settings-button','random','army-unit-tab','svgs/gold_icon.svg','unitType','querySelector','soulStateV02','.png','#blood-per-second','.building-card:not(.display-none)','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20class=\x27combat-log-icon\x27\x20src=\x22svgs/','bloodleaf','buildingsUnlocked','enhancedCollegeOfArcanum','toFixed','html','.worker-unit-tooltip\x20.unit-tooltip-cost-1','techTree','.production-stats-btn','#herbalGarden-card','effect','#inventory-btn','forEach','increase-iron-production-button','fireMasteryIII','fullscreenElement','herbalGardenAmount','civilUnits','isGathererUnlocked','teleportation|enhancedTeleportation','isArmyTabUnlocked','offsetTop','Max\x20+','event','.army-unit-tooltip\x20.unit-tooltip-cost-1','t50','combatStat','px;\x20top:\x20','style','isPlayersTurn','src','.army-unit-tooltip\x20.unit-tooltip-cost-3-img','svgs/humans_icon.svg','.worker-unit-consumption-1-img','_icon.svg','\x20Max','blacksmith','t44','#blood-resource-card','consumes','forge','setProperty','increase-blood-production-button','dataset','activePotionEffect','endsWith','.storage-upgrade-tooltip-cost3-img','tile-overlay','.combat-gold-count','scale(','ATK\x20+','kettleSlot','sacrificialBlood','army','#miner-card','frost','.worker-unit-consumption-1','.worker-unit-production-1','collegeOfFrostAmount','.building-upgrade-tooltip-effect-img','.svg','getElementsByClassName','barracksAmount','.resource-overflow','t43','foundryAmount','enemy-army-card','building-upgrade-button','buildingLevels','doubleProductionBonus','.warehouse-building-tooltip-effect1','decrease-army-unit-button','carnivalFactor','reload','.potion-effect-timer','.potion-recipe-book-btn','enhancedTreant','Max\x20workers\x20+','currentCombatGold','def','hut','.building-tooltip-cost2','t33','.victory-gold-container','.building-upgrade-tooltip-cost3','statBuff','exitFullscreen','quarryAmount','pow','KeyS','.settings-menu','KeyM','army-heading-active','herbalist','fireMage','plant','#loading-progress','load','stringify','.army-unit-tooltip\x20.unit-tooltip-type-2-img','charAt','.shop-item-container','.select-army-card-container[data-unit-type=\x22','mouseover','map-grid','arcaneMasteryI*','.perk-point-count','.building-tooltip-effect2','Click\x20again\x20to\x20confirm','hops','chest-img-rare','demonicFury','postMessage','t34','arcaneMasteryIII','Inventory\x20is\x20full!\x20<br>\x20Make\x20room\x20or\x20discard\x20loot.','graveyard','.worker-unit-consumption-2','warehouseAmount','#calc-win-cost-knowledge','nextEventTime','.building-tooltip-cost3-img','Click\x20the\x20chest\x20to\x20add\x20your\x20<br>\x20loot\x20to\x20your\x20inventory.','.item-name','toLocaleString','.plant-progress-bar-inner','unholyAtk','sawmillAmount','transition','prestige-button-hover','frostMasteryII','class','fadein\x201s\x20reverse\x20ease-in\x20running','.open-chest-button','bloodPortalAmount','reduce','#retreat-cost','pagodaOfArcanum','mountains','plotNum','gameStateV02','moving-building-container','enemy-coin\x20coins-','perks-available','character-slot','#tech-tree-menu','churchRuins','frostTalentScouting','blood-resource-card','toString','rainingBlood','unit-active','building-destroyed','build-menu-page-btn-right','commandPostAmount','tiles','.import-error-message','#build-menu-page-btn-right','Click\x20again\x20to\x20confirm\x20demolition','progress','Open\x20chest','bloodBasin','svgs/stone_icon.svg','demolish-building-button','add','productionBonusOne','itemName','collegeAmount','isChampionMenuUnlocked','sacrifice-unit-button','classList','guardPostOfFire','imp','in-combat-unit','firstChild','#food-per-second','humans','.chest-img','babysBreath','.plant-count','collegeOfFireAmount','commandPost','t60','druid','.unit-card-middle','nature','productionBonusTwo','#resolve-cost-equipment','prestige-wave','isHerbalistUnlocked','#champion-menu','fireTalentScouting','padStart','units','bagSlot','.combat-stats-container','parse','#woodcutter-card','.building-tooltip-effect-container','isBlacksmithUnlocked','.combat-speed-btn','.army-unit-tooltip-cost-3-container','bathHouse','#resolve-button','currentlyFighting','t57','denseForests','chest-img-common','.building-upgrade-tooltip-cost4','epic','wood','frostMasteryIII','buildingType','#shop-menu','perk-cell','building','isIronUnlocked','%c\x0aA\x20DEMON\x20WILL\x20HAUNT\x20\x0a\x20YOU\x20IF\x20YOU\x20CHEAT!\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20,\x20,\x20,\x0a\x20\x20\x20^\x20\x20\x20\x20\x20^|\x20|\x20|\x0a\x20\x20\x20|\x20L\x20/\x20||_|_/\x0a\x20\x20\x20(--\x20--)\x20_|\x0a\x20\x20\x20([-\x20-])//|\x0a\x20\x20\x20(\x20[\x20]\x20)\x20\x20|\x0a','slice','#equipment-per-second','.building-tooltip-img','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20=\x20','pre-fight-menu','barracks','rgb(17,\x2017,\x2017)','hover-overlay','upkeep','.storage-upgrade-tooltip-cost1','indexOf','toggle','demonicFertilityIII','334419ckPeBZ','.building-card','#magic-count','isScholarUnlocked','children','victory','.warehouse-building-tooltip-effect2','bookOfMages','push','.army-unit-tooltip\x20.unit-tooltip-attack','buildings','.warehouse-building-tooltip-effect5','army-unit-menu','.army-unit-tooltip','.toast-img','ceil','iron','naturesVengeance','.auto-convert-button-container','deltaY','flyAgaric','unit-tab-active','keys','fireMasteryII','plantType','isMinerUnlocked','#stone-per-second','/sec','replace','chest-img-','tier3','middle','arcaneTalentScouting','#blood-count','1OFEpbr','.tech-tree','#upgrade-iron-storage-card','alternativeBloodSource','Convert\x20scholar\x20to\x20mage','.storage-upgrade-button','demonicFertilityII','10x','isImpUnlocked','defense','getItem','Character','.potion-effect-text','build-menu','.warehouse-building-tooltip-effect3','find','description','building-under-attack','alternativeBloodSource|bloodyMess','KeyT','attackTypes','character-stat-percentage','archer','building-action-ready','#calc-win-cost-gold','flying','.victory-description','toUpperCase','clientX','.population-container','.building-upgrade-tooltip-cost1-img','rotateX(55deg)\x20rotateZ(45deg)\x20scale(','plants','.army-unit-tooltip\x20.unit-tooltip-name','#equipment-resource-card','#map-grid','collegeOfFire','Population','demonicFuryI*','droughtFactor','#soul-perk-btn','enemy-army-heading','-count','display','banditsCamp','click-active','success','includes','rgb(238,\x20238,\x20238)','%\x20<br>\x20plant\x20growth\x20/\x20sec','image_files/','#knowledge-count','.character-stat-container','.plant-progress-bar-outer','decrease-blood-production-button','production','scholar','.building-upgrade-tooltip','#iron-count','herbalGarden','shopItemsOwned','squire','Amount','cavalier','.building-upgrade-tooltip-cost2','.worker-unit-tooltip\x20.unit-tooltip-name','prestige','unit-blocked','#alchemistHut','filter','frostMastery','-container','button-disabled','width','bloodyMess','x\x20ATK\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22combat-log-kill-chance-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x20\x27combat-log-result-container\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Kill\x20chance:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22combat-log-kill-chance\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','civil-unit-tab','farmAmount','armyUnits','isWoodUnlocked','timer','#civil-population-count','cancel-pre-fight-button','#alchemistHut-card','arcaneMastery','#magic-resource-card','min','match','potionRecipeBook','natureAtk','#wood-max','#defeat-container','civilPopulation','#wood-resource-card','isBloodUnlocked','animationDelay','#perk-champion-menu-btns-container','extraBag2','has-plant','#win-time','frostMage','_ready','#food-count','map','bloodDemon','fairyWand','alert','getElementById','left','legend','ranged','Summon','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VS\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27combat-log-types-icons\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20class=\x27combat-log-icon\x27\x20src=\x22svgs/','.army-unit-tooltip\x20.unit-tooltip-type-2-text','floor','fs-off-icon','enhancedSuccubus','.building-upgrade-tooltip-cost2-img','#iron-resource-card','./image_files/herbalGarden_ready.png','#bag-2','isSuccubusUnlocked','setAttribute','1.25x','.building-tooltip-cost4-img','--ad-container-width','font-family:\x20monospace','329425wSrQyr','#bathHouse-card','#champion-menu-button','.sell-item-square','#stone-max','unitsInCombat','from','#bag-btn-3','.storage-upgrade-tooltip-effect-img','max','gatherer','453223Vuzngw','.building-upgrade-tooltip-cost1','#herbalGarden','lastChild','resolveCost','bronzeFennel','gold','#unit-tab-container','enhancedCollegeOfFire','removeChild','scale(1.4)','demonicFuryIII','army-unlocked-population-container','cost-too-high','#bag-1','#equipment-count','mousedown','succubus','values','.building-tooltip-cost4','#cleared-board-screen','.worker-unit-production-1-img','.army-unit-tooltip\x20.unit-tooltip-cost-1-img','rain','warlord','.unit-tooltip-cost-1-container','totalItemBonuses','slot','eagle','requestFullscreen','.building-tooltip-effect1-img','sacrificialAltarAmount','college','decrease-iron-production-button','tech-tree-tooltips','mouseleave','fs-on-icon','#character-btn','civil-unit-menu','innerText','.army-unit-tooltip\x20.unit-tooltip-cost-3','resourceType','locked','unit-tooltip-middle','gameWon','extraBag1','Inventory\x20full!','.toast-type','.building-tooltip','guardPostOfArcanum','.army-unit-tooltip\x20.unit-tooltip-upkeep-1','demonicFuryII','/sec\x20+','#food-resource-card','resetDecreaseUnitBtns','.perk-cell','parentElement','t51','storageLevels','enemy-unit-count','obtained-stroke','Max\x20army\x20+','animation','quarry','.kettle-container','enhancedBloodDemon','abandon-reset-game','naturesVengeanceII','mouseup','.building-action-percentage','plot-locked','in-combat-enemy-army-card','pageX','demonicFertility','buildings-dark','#humans-max','isTechTreeUnlocked','warehouse','forbiddenTemple','pageY','Drought!\x20Your\x20food\x20production\x20is\x20decreased\x20by\x20','t49','unit-hit','isStoneUnlocked','.building-upgrade-button','#blood-production-rate','treant','unitingTheElements','isCombat','champion-menu-tab-btn-active','increase-army-button','/min','#calc-win-chance-btn','#character-menu','atk','onmessage','offsetLeft','.army-unit-tooltip\x20.unit-tooltip-defense','perk-obtained','.building-upgrade-tooltip-cost3-img','abandonedMine','selected-','carnival','#win-chance','rgb(255,\x20116,\x20116)','inventory-stats-btn-active','farmer','Atk','rgb(196,\x20196,\x20196)','.army-unit-tooltip-cost-2-container','querySelectorAll','turnTimer','go-dark','#humans-per-minute','#victory-defeat-screen','food','alchemistHut','decrease-army-button','enemyUnitsInCombat','1tnXMHW','.worker-unit-tooltip\x20.unit-tooltip-upkeep-1-img','call','flyingAtk','preventDefault','Factor','tile-jiggle','-menu','farm','onmousedown','move-mode-active','data','fog','rarity','openpages','_icon.svg\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isFriendly','#wood-per-second','clientY','unholy','.storage-upgrade-tooltip-cost4-img','unitElements','Raining\x20Blood!\x20Your\x20blood\x20production\x20is\x20increased\x20by\x201\x20per\x20blood\x20basin\x20per\x20second.','629zVdoJR','#bag-btn-2','#magic-max','transform','senseFear','.coins-','#build-menu-page-btn-left','svgs/','prestigebutton\x204s\x20infinite\x20ease-in-out','miner','tech-tree-grid-item','building-png','savingDice','alchemistHutAmount','arcaneAtk','bloodProductionRate','enhanced','#stone-count','forgeAmount','civil','combat_simulation.js','cost','bathHouseAmount','-overlay','isMagicUnlocked','59171QnRjrb','foundry','unset','KeyI','t41','enemyBuildingType','meleeAtk','.unit-card-right','value','fire','.storage-upgrade-tooltip-cost2','#blacksmith-card','saffronMilkcap','collegeToggles','#commandPost-card','#blood-max','appendChild','Allows\x20for\x20brewing\x20potions','.storage-upgrade-tooltip-cost3','ironProductionRate','wrongrecipe\x200.5s\x20ease-in-out','#retreat-button','.storage-upgrade-tooltip-cost4','inventory-tab-active','None','-card','#army-population-count','combatInterval','item-img','t59','.item-tooltip','.potion-effect-container','documentElement','rainFactor','drought','frostMasteryI*','spAtkBuff','.worker-unit-tooltip\x20.unit-tooltip-img','setItem','enhancedCollegeOfFrost','sawmill','.toast-name','in-combat-count','.army-unit-tooltip\x20.unit-tooltip-type-1-img','#wood-count','gameState','knowledge-max','key','fireMastery','building-max','smooth-transition','arcaneMage','bag-btn-1','#food-max','Counter','_icon.svg\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Sell','arcaneMasteryII','.storage-upgrade-tooltip-cost2-img','#scholar-card','perkName','.army-unit-card[data-unit-type=\x22','#farmer-card','bookOfAlchemy','#knowledge-resource-card','.auto-convert-container','fadeout','zoom-out','tech-tree-tooltip','.legend-container','#iron-per-second','melee','plots','move-mode-button','bind','bluePinkgill','TalentScouting','isHumansUnlocked','isBloodDemonUnlocked','spAtkType','+1\x20plot','img','knowledge','.combat-log-result','hit\x200.5s\x20ease-in-out','toggle-full-screen-button','plant-ready','tile-overlay-image','rangedAtk','#buildings','click','denseForestsII','t35','.building-action-button-fill','soulState','brightness(1.2)\x20sepia(10)\x20hue-rotate(-50deg)\x20saturate(5)','plant-img','createElement','enhancedSacrificialAltar','#resolve-cost-gold','hutAmount','.kettle-cell','chest','Sell?','.worker-unit-tooltip\x20.unit-tooltip-cost-2-img','Retire','Combat\x20speed:\x205x','reset-game-popup','doubleProductionBonusPower','collegeOfArcanum','px;','.prestige-button','productionBonusTwoPower','top','Escape','.army-unit-tooltip\x20.unit-tooltip-upkeep-1-img','blood','arcane','160px','updateUnlocks','holyAtk','retreatCost','controlledTiles','enhancedTreantII','magic','your-army-heading','close-enemy-menu-button','.building-tooltip-cost2-img','#calc-win-chance-progress-bar-fill','naturesVengeanceIII','attack','height','Rain!\x20Your\x20food\x20production\x20is\x20increased\x20by\x20','#humans-count','some','body','Combat\x20speed:\x2010x','.prestige-counter-container'];const a10_0x16d27a=a10_0x33f7;(function(_0x2ccce4,_0xfd3869){const _0x2a5195=a10_0x33f7;while(!![]){try{const _0x4b7cf7=parseInt(_0x2a5195(0x2b8))+-parseInt(_0x2a5195(0x20c))+-parseInt(_0x2a5195(0x44a))*-parseInt(_0x2a5195(0x346))+parseInt(_0x2a5195(0x22e))*-parseInt(_0x2a5195(0x35f))+-parseInt(_0x2a5195(0x32f))*-parseInt(_0x2a5195(0x428))+parseInt(_0x2a5195(0x2ad))+-parseInt(_0x2a5195(0x44e));if(_0x4b7cf7===_0xfd3869)break;else _0x2ccce4['push'](_0x2ccce4['shift']());}catch(_0x50b097){_0x2ccce4['push'](_0x2ccce4['shift']());}}}(a10_0x2f9a,0x536a0));import{attachClickSaveHandlers}from'./save.js';import{generateItem}from'./generate_loot.js';import{loadItemIMGS,moveItem,moveItemStop,abandonMoveItem,sellItem,updateGoldCount,loadItemPlaceholderIMGS,showItemTooltip}from'./inventory.js';import{workers,friendlyArmyUnits,friendlyUnits,enemyUnits,armyUnits}from'./units.js';import{buildings}from'./buildings.js';import{kettle,makePotion,newRecipeList,potionEffects,potionEffectPower}from'./alchemy_recipes.js';import{closeRecipeBook}from'./potion_recipe_book.js';import{loadShopPrices,initShop}from'./shop.js';const $=document[a10_0x16d27a(0x460)][a10_0x16d27a(0x3a9)](document),civilUnitTypes=Object['keys'](workers),armyUnitTypes=Object[a10_0x16d27a(0x222)](armyUnits),friendlyArmyUnitTypes=Object[a10_0x16d27a(0x222)](friendlyArmyUnits),friendlyUnitTypes=Object[a10_0x16d27a(0x222)](friendlyUnits),enemyUnitTypes=Object['keys'](enemyUnits),initCivilUnitCounts=()=>civilUnitTypes[a10_0x16d27a(0x4ec)]((_0x581464,_0x539347)=>({..._0x581464,[_0x539347]:0x0}),{}),initArmyUnitCounts=()=>friendlyArmyUnitTypes[a10_0x16d27a(0x4ec)]((_0x213b47,_0x4c5dd4)=>({..._0x213b47,[_0x4c5dd4]:0x0}),{}),initBuildingsUnlocked=()=>Object[a10_0x16d27a(0x222)](buildings)[a10_0x16d27a(0x4ec)]((_0x492e63,_0x581102)=>({..._0x492e63,[_0x581102]:![]}),{}),initBuildingAmounts=()=>Object[a10_0x16d27a(0x222)](buildings)['reduce']((_0x1bb623,_0xda48a9)=>({..._0x1bb623,[_0xda48a9+a10_0x16d27a(0x26c)]:0x0}),{}),allPerks=[...document['querySelectorAll'](a10_0x16d27a(0x2ef))][a10_0x16d27a(0x295)](_0x46f5fb=>_0x46f5fb['dataset'][a10_0x16d27a(0x39b)])['filter'](_0x1a97ab=>_0x1a97ab);let originalGameState={'elapsedTime':0x0,'nextEventTime':0x0,'humans':0x5,'food':0x64,'wood':0x0,'stone':0x0,'iron':0x0,'equipment':0x0,'knowledge':0x0,'blood':0x0,'magic':0x0,'civilPopulation':0x0,'armyPopulation':0x0,'storageLevels':{'food':0x1,'wood':0x1,'stone':0x1,'iron':0x1,'equipment':0x1},'civilUnits':initCivilUnitCounts(),'armyUnits':initArmyUnitCounts(),'isHumansUnlocked':!![],'isFoodUnlocked':!![],'isWoodUnlocked':![],'isStoneUnlocked':![],'isIronUnlocked':![],'isEquipmentUnlocked':![],'isKnowledgeUnlocked':![],'isBloodUnlocked':![],'isMagicUnlocked':![],'isGathererUnlocked':!![],'isWoodcutterUnlocked':![],'isMinerUnlocked':![],'isFarmerUnlocked':![],'isScholarUnlocked':![],'isBlacksmithUnlocked':![],'isHerbalistUnlocked':![],'isImpUnlocked':![],'isSuccubusUnlocked':![],'isBloodDemonUnlocked':![],'isArmyTabUnlocked':![],'isTechTreeUnlocked':![],'isChampionMenuUnlocked':![],'perksUnlocked':[],'buildingsUnlocked':initBuildingsUnlocked(),'buildingLevels':{'hut':0x1,'sawmill':0x1,'quarry':0x1,'foundry':0x1,'forge':0x1,'farm':0x1,'barracks':0x1,'college':0x1,'bloodBasin':0x1,'sacrificialAltar':0x1,'bathHouse':0x1},...initBuildingAmounts(),'bloodProductionRate':0.5,'ironProductionRate':0.5,'bloodPortalCounter':0x0,'collegeOfFireCounter':0x0,'collegeOfFrostCounter':0x0,'collegeOfArcanumCounter':0x0,'droughtFactor':0x1,'rainFactor':0x1,'carnivalFactor':0x1,'combatInterval':0xa,'isCombat':![],'isPlayersTurn':null,'turnTimer':0x0,'playerUnitsInCombat':null,'enemyUnitsInCombat':null,'currentlyFighting':null,'resolveCost':{},'retreatCost':0x0,'isGameAlreadyRunning':![],'unitsInCombat':{},'perkPoints':0x0,'chestItem':{},'currentCombatGold':0x0,'tiles':{'t1':a10_0x16d27a(0x427),'t2':'guardPostOfFire','t3':a10_0x16d27a(0x4d9),'t4':a10_0x16d27a(0x4ef),'t5':a10_0x16d27a(0x4f7),'t6':'mountains','t7':a10_0x16d27a(0x2e9),'t8':a10_0x16d27a(0x4ee),'t9':a10_0x16d27a(0x1d0),'t10':'guardPostOfFire','t11':a10_0x16d27a(0x31c),'t12':a10_0x16d27a(0x3c5),'t13':a10_0x16d27a(0x306),'t14':a10_0x16d27a(0x4d9),'t15':a10_0x16d27a(0x2e9),'t16':'guardPostOfArcanum','t17':a10_0x16d27a(0x433),'t18':a10_0x16d27a(0x31c),'t19':a10_0x16d27a(0x4d9),'t20':'banditsCamp','t21':a10_0x16d27a(0x4f7),'t22':a10_0x16d27a(0x306),'t23':a10_0x16d27a(0x25a),'t24':a10_0x16d27a(0x4f7),'t25':a10_0x16d27a(0x4ef),'t26':'churchRuins','t27':'goblinTower','t28':a10_0x16d27a(0x306),'t29':a10_0x16d27a(0x25a),'t30':'goblinTower','t31':a10_0x16d27a(0x4ef),'t32':a10_0x16d27a(0x306),'t33':null,'t34':null,'t35':null,'t36':null,'t37':a10_0x16d27a(0x4d9),'t38':a10_0x16d27a(0x31c),'t39':a10_0x16d27a(0x3c5),'t40':a10_0x16d27a(0x4d9),'t41':null,'t42':null,'t43':null,'t44':null,'t45':a10_0x16d27a(0x31c),'t46':'churchRuins','t47':a10_0x16d27a(0x31c),'t48':a10_0x16d27a(0x306),'t49':null,'t50':null,'t51':null,'t52':null,'t53':a10_0x16d27a(0x433),'t54':a10_0x16d27a(0x4ef),'t55':a10_0x16d27a(0x3f6),'t56':a10_0x16d27a(0x3f6),'t57':null,'t58':null,'t59':null,'t60':null,'t61':a10_0x16d27a(0x25a),'t62':a10_0x16d27a(0x4d9),'t63':a10_0x16d27a(0x3f6),'t64':'pagodaOfFrost'},'plots':{'p1':{'plant':null,'progress':0x0},'p2':{'plant':null,'progress':0x0},'p3':{'plant':null,'progress':0x0},'p4':{'plant':null,'progress':0x0},'p5':{'plant':null,'progress':0x0},'p6':{'plant':null,'progress':0x0},'p7':{'plant':null,'progress':0x0},'p8':{'plant':null,'progress':0x0},'p9':{'plant':null,'progress':0x0}},'plants':{'babysBreath':0x0,'hops':0x0,'bronzeFennel':0x0,'feverfew':0x0,'fairyWand':0x0,'bloodleaf':0x0,'flyAgaric':0x0,'saffronMilkcap':0x0,'pinstripeCalathea':0x0,'bluePinkgill':0x0},'activePotionEffect':{'name':null,'strength':null,'timer':0x0},'collegeToggles':{'collegeOfFire':![],'collegeOfFrost':![],'collegeOfArcanum':![]},'controlledTiles':[a10_0x16d27a(0x4b7),a10_0x16d27a(0x4d6),a10_0x16d27a(0x3bb),'t36',a10_0x16d27a(0x363),a10_0x16d27a(0x411),a10_0x16d27a(0x4a5),a10_0x16d27a(0x48a),a10_0x16d27a(0x309),a10_0x16d27a(0x47e),a10_0x16d27a(0x2f1),'t52',a10_0x16d27a(0x1f2),'t58',a10_0x16d27a(0x37c),a10_0x16d27a(0x1db)]},originalSoulState={'characterName':a10_0x16d27a(0x239),'prestige':0x1,'shopItemsOwned':[],'gold':0x0,'headSlot1':{},'chestSlot1':{},'legsSlot1':{},'feetSlot1':{},'mainHandSlot1':{},'offHandSlot1':{},'finger1Slot1':{},'finger2Slot1':{},'artifactSlot1':{},'headSlot2':{},'chestSlot2':{},'legsSlot2':{},'feetSlot2':{},'mainHandSlot2':{},'offHandSlot2':{},'finger1Slot2':{},'finger2Slot2':{},'artifactSlot2':{},'i1':{},'i2':{},'i3':{},'i4':{},'i5':{},'i6':{},'i7':{},'i8':{},'i9':{},'i10':{},'i11':{},'i12':{},'i13':{},'i14':{},'i15':{},'i16':{},'i17':{},'i18':{},'i19':{},'i20':{},'i21':{},'i22':{},'i23':{},'i24':{},'i25':{},'i26':{},'i27':{},'i28':{},'i29':{},'i30':{},'i31':{},'i32':{},'i33':{},'i34':{},'i35':{},'i36':{},'i37':{},'i38':{},'i39':{},'i40':{},'i41':{},'i42':{},'i43':{},'i44':{},'i45':{},'i46':{},'i47':{},'i48':{},'i49':{},'i50':{},'i51':{},'i52':{},'i53':{},'i54':{},'i55':{},'i56':{},'i57':{},'i58':{},'i59':{},'i60':{},'i61':{},'i62':{},'i63':{},'i64':{},'i65':{},'i66':{},'i67':{},'i68':{},'i69':{},'i70':{},'i71':{},'i72':{},'i73':{},'i74':{},'i75':{},'i76':{},'i77':{},'i78':{},'i79':{},'i80':{},'i81':{},'i82':{},'i83':{},'i84':{},'i85':{},'i86':{},'i87':{},'i88':{},'i89':{},'i90':{},'i91':{},'i92':{},'i93':{},'i94':{},'i95':{},'i96':{}},gameState=JSON['parse'](localStorage['getItem']('gameStateV02'))||JSON[a10_0x16d27a(0x1e9)](JSON['stringify'](originalGameState)),soulState=JSON[a10_0x16d27a(0x1e9)](localStorage[a10_0x16d27a(0x238)]('soulStateV02'))||JSON[a10_0x16d27a(0x1e9)](JSON['stringify'](originalSoulState));const equippedSlotNames=Object[a10_0x16d27a(0x222)](originalSoulState)['filter'](_0x82b3e=>_0x82b3e[a10_0x16d27a(0x285)](a10_0x16d27a(0x426))),bagSlotNames=Object[a10_0x16d27a(0x222)](originalSoulState)[a10_0x16d27a(0x273)](_0xed7917=>_0xed7917[a10_0x16d27a(0x285)](/^i\d+$/));function getBonus(_0x4bb45e,_0xf8ca9a){const _0x5d2549=a10_0x16d27a;switch(_0xf8ca9a){case _0x4bb45e[_0x5d2549(0x40d)]:return _0x4bb45e[_0x5d2549(0x4ba)];case _0x4bb45e[_0x5d2549(0x3ae)]:return _0x4bb45e[_0x5d2549(0x383)];case _0x4bb45e[_0x5d2549(0x50a)]:return _0x4bb45e[_0x5d2549(0x412)];case _0x4bb45e[_0x5d2549(0x1df)]:return _0x4bb45e['productionBonusTwoPower'];case _0x4bb45e['doubleProductionBonus']:return _0x4bb45e['doubleProductionBonusPower'];default:return 0x0;}}function optimizeForBonus(_0x353694){const _0x5d7742=a10_0x16d27a;for(const _0x213841 of equippedSlotNames){const _0x4491b0=_0x213841['match'](/^([^\d]*)\d*Slot1/)[0x1],_0x2c1f5a=bagSlotNames[_0x5d7742(0x4ec)]((_0x4a588c,_0x4f21f4)=>{const _0x1f7666=_0x5d7742,_0x4412a4=soulState[_0x4f21f4];if(_0x4412a4[_0x1f7666(0x2d3)]===_0x4491b0&&getBonus(_0x4412a4,_0x353694)>getBonus(soulState[_0x4a588c],_0x353694))return _0x4f21f4;else return _0x4a588c;},_0x213841);_0x2c1f5a!==_0x213841&&([soulState[_0x2c1f5a],soulState[_0x213841]]=[soulState[_0x213841],soulState[_0x2c1f5a]]);}updateTotalItemBonuses(),loadItemIMGS(soulState);}const optimizeForBonusBtns=document[a10_0x16d27a(0x326)](a10_0x16d27a(0x262));optimizeForBonusBtns[a10_0x16d27a(0x471)](function(_0x4f3038){const _0x1b1b69=a10_0x16d27a;_0x4f3038['addEventListener'](_0x1b1b69(0x3b9),()=>optimizeForBonus(_0x4f3038[_0x1b1b69(0x490)][_0x1b1b69(0x43c)]));}),localStorage[a10_0x16d27a(0x33d)]=Date['now']();const onLocalStorageEvent=function(_0x376715){const _0xdf376f=a10_0x16d27a;_0x376715[_0xdf376f(0x38e)]==_0xdf376f(0x33d)&&(tickWorker['terminate'](),location['href']='/');};window[a10_0x16d27a(0x3ff)]('storage',onLocalStorageEvent,![]),initShop(soulState);const eventContainer=$('#event-container'),eventText=$('#event-description'),ticksPerSecond=0x5,eventTexts={get 'drought'(){const _0x5e388d=a10_0x16d27a;return _0x5e388d(0x308)+Math[_0x5e388d(0x435)]((0x1-gameState['droughtFactor'])*0x64)+'%.';},get 'rain'(){const _0x4b6af9=a10_0x16d27a;return _0x4b6af9(0x3e3)+Math['round']((gameState['rainFactor']-0x1)*0x64)+'%.';},get 'carnival'(){const _0x5c24c3=a10_0x16d27a;return _0x5c24c3(0x459)+Math[_0x5c24c3(0x435)]((gameState[_0x5c24c3(0x4ad)]-0x1)*0x64)+'%.';},get 'rainingBlood'(){const _0x1568e6=a10_0x16d27a;return _0x1568e6(0x345);}};function setNextEventTime(){const _0x482d8f=a10_0x16d27a;gameState[_0x482d8f(0x4dd)]=gameState['elapsedTime']+0x258*ticksPerSecond+Math[_0x482d8f(0x2a0)](Math['random']()*0x258*ticksPerSecond);}gameState['elapsedTime']===0x0&&setNextEventTime();function initEventUI(){const _0xa7b480=a10_0x16d27a,_0x432a65=[_0xa7b480(0x381),_0xa7b480(0x2cf),_0xa7b480(0x31e)][_0xa7b480(0x23d)](_0x1b4a17=>gameState[_0x1b4a17+_0xa7b480(0x334)]!==0x1);_0x432a65?showEvent(_0x432a65):(eventContainer[_0xa7b480(0x1cf)][_0xa7b480(0x3fe)](...eventContainer['classList']),eventText[_0xa7b480(0x2df)]='');}initEventUI();function showEvent(_0x4858b3){const _0x17c251=a10_0x16d27a;eventContainer[_0x17c251(0x1cf)][_0x17c251(0x509)](_0x17c251(0x298),_0x4858b3),eventText['innerText']=eventTexts[_0x4858b3];}function droughtInit(){const _0x43c524=a10_0x16d27a,_0x3f7719=(0x6+Math[_0x43c524(0x2a0)](Math['random']()*0x4))/0xa;gameState[_0x43c524(0x255)]=_0x3f7719,showEvent(_0x43c524(0x381));};function rainInit(){const _0x46ff70=a10_0x16d27a,_0x41099c=(0xf+Math[_0x46ff70(0x2a0)](Math[_0x46ff70(0x45c)]()*0x4))/0xa;gameState['rainFactor']=_0x41099c,showEvent('rain');};function carnivalInit(){const _0x9e1496=a10_0x16d27a,_0x4f9ab1=(0xb+Math[_0x9e1496(0x2a0)](Math[_0x9e1496(0x45c)]()*0x4))/0xa;gameState[_0x9e1496(0x4ad)]=_0x4f9ab1,showEvent('carnival');};function eventTerminate(){const _0x204f9c=a10_0x16d27a;eventContainer[_0x204f9c(0x1cf)]=[],eventText['innerText']='',gameState['droughtFactor']=0x1,gameState[_0x204f9c(0x380)]=0x1,gameState[_0x204f9c(0x4ad)]=0x1;};let baseUnitEfficiency={'gatherer':0x1,'woodcutter':0x1,'miner':0x1,'farmer':0x2,'scholar':0.2,'blacksmith':0.2,'herbalist':0.03};const unitFoodConsumption=friendlyUnitTypes[a10_0x16d27a(0x4ec)]((_0xbabaa0,_0x9e8515)=>({..._0xbabaa0,[_0x9e8515]:friendlyUnits[_0x9e8515][a10_0x16d27a(0x207)][a10_0x16d27a(0x32b)]||0x0}),{}),originalUnitAttack=armyUnitTypes['reduce']((_0x17fd64,_0x3fa1c9)=>({..._0x17fd64,[_0x3fa1c9]:armyUnits[_0x3fa1c9][a10_0x16d27a(0x316)]}),{});let unitAttack=JSON['parse'](JSON[a10_0x16d27a(0x4c7)](originalUnitAttack));const originalUnitDefense=armyUnitTypes[a10_0x16d27a(0x4ec)]((_0x117c58,_0x47a9be)=>({..._0x117c58,[_0x47a9be]:armyUnits[_0x47a9be][a10_0x16d27a(0x4b4)]}),{});let unitDefense=JSON[a10_0x16d27a(0x1e9)](JSON[a10_0x16d27a(0x4c7)](originalUnitDefense));const unitAttackTypes=armyUnitTypes[a10_0x16d27a(0x4ec)]((_0x5886e3,_0x4b31e3)=>({..._0x5886e3,[_0x4b31e3]:armyUnits[_0x4b31e3][a10_0x16d27a(0x242)]}),{}),rockPaperScissorsMap={'melee':a10_0x16d27a(0x3d4),'ranged':a10_0x16d27a(0x247),'flying':a10_0x16d27a(0x3a6),'fire':a10_0x16d27a(0x49c),'frost':a10_0x16d27a(0x1de),'arcane':a10_0x16d27a(0x29c),'nature':a10_0x16d27a(0x3ec),'holy':'unholy','unholy':a10_0x16d27a(0x368)},unitWeaknessTypes={...unitAttackTypes};for(const unit in unitWeaknessTypes){unitWeaknessTypes[unit]=unitWeaknessTypes[unit][a10_0x16d27a(0x295)](_0x120227=>Object[a10_0x16d27a(0x222)](rockPaperScissorsMap)[a10_0x16d27a(0x23d)](_0x5c90e5=>rockPaperScissorsMap[_0x5c90e5]===_0x120227));}let totalItemBonuses=window[a10_0x16d27a(0x2d2)]={'atk':0x0,'def':0x0,'meleeAtk':0x0,'rangedAtk':0x0,'flyingAtk':0x0,'arcaneAtk':0x0,'fireAtk':0x0,'frostAtk':0x0,'natureAtk':0x0,'holyAtk':0x0,'unholyAtk':0x0,'humans':0x0,'food':0x0,'wood':0x0,'stone':0x0,'iron':0x0,'equipment':0x0,'knowledge':0x0,'blood':0x0};function getPotionCombatBoost(_0x42ce83){const _0x584654=a10_0x16d27a,_0xa4b191=potionEffects[gameState[_0x584654(0x491)]?.[_0x584654(0x3ef)]];if(_0xa4b191?.[_0x584654(0x46f)]==_0x42ce83)return potionEffectPower[_0x584654(0x47f)][gameState[_0x584654(0x491)]['strength']];else return 0x0;}function getPotionResourceBoost(_0x45a5f9){const _0x73cc54=a10_0x16d27a,_0x464931=potionEffects[gameState['activePotionEffect']?.[_0x73cc54(0x3ef)]];if(_0x464931?.[_0x73cc54(0x46f)]==_0x45a5f9)return potionEffectPower[_0x73cc54(0x265)][gameState[_0x73cc54(0x491)][_0x73cc54(0x41d)]];else return 0x0;}const resourceEfficiency={get 'humans'(){const _0x1f6931=a10_0x16d27a;return gameState[_0x1f6931(0x4ad)]*(0x1+totalItemBonuses[_0x1f6931(0x1d5)]+getPotionResourceBoost(_0x1f6931(0x1d5))+[0x0,0.3,0.6,0x1][getPerkCount('demonicFertilityI*')]);},get 'food'(){const _0x1f6628=a10_0x16d27a;return gameState['droughtFactor']*gameState['rainFactor']*gameState[_0x1f6628(0x4ad)]*(0x1+totalItemBonuses[_0x1f6628(0x32b)]+getPotionResourceBoost(_0x1f6628(0x32b)));},get 'wood'(){const _0x3e6f7a=a10_0x16d27a;return gameState['carnivalFactor']*(0x1+totalItemBonuses[_0x3e6f7a(0x1f7)]+getPotionResourceBoost(_0x3e6f7a(0x1f7))+[0x0,0.1,0.2,0.3][getPerkCount(_0x3e6f7a(0x3f9))]);},get 'stone'(){const _0x35143c=a10_0x16d27a;return gameState[_0x35143c(0x4ad)]*(0x1+totalItemBonuses['stone']+getPotionResourceBoost('stone'));},get 'iron'(){const _0x418531=a10_0x16d27a;return gameState['carnivalFactor']*(0x1+totalItemBonuses[_0x418531(0x21c)]+getPotionResourceBoost(_0x418531(0x21c)));},get 'equipment'(){const _0x44689a=a10_0x16d27a;return gameState[_0x44689a(0x4ad)]*(0x1+totalItemBonuses['equipment']+getPotionResourceBoost(_0x44689a(0x3eb)));},get 'knowledge'(){const _0x4411aa=a10_0x16d27a;return gameState['carnivalFactor']*(0x1+totalItemBonuses['knowledge']+getPotionResourceBoost(_0x4411aa(0x3b1)));},get 'blood'(){const _0x3d4f18=a10_0x16d27a;return gameState[_0x3d4f18(0x4ad)]*(0x1+totalItemBonuses['blood']+getPotionResourceBoost(_0x3d4f18(0x3d3)));}},calcBuildingEfficiency={'sawmill':({buildingLevels:_0xa1487d})=>0.4*Math[a10_0x16d27a(0x4bd)](1.07,_0xa1487d[a10_0x16d27a(0x387)]),'quarry':({buildingLevels:_0x55d824})=>0.4*Math['pow'](1.07,_0x55d824[a10_0x16d27a(0x2f7)]),'foundry':({buildingLevels:_0x1a52d8})=>_0x1a52d8[a10_0x16d27a(0x360)],'forge':({buildingLevels:_0x4ce6e1})=>0.4*Math[a10_0x16d27a(0x4bd)](1.25,_0x4ce6e1[a10_0x16d27a(0x48d)]),'farm':({buildingLevels:_0x33b25a})=>0x1*Math['pow'](1.25,_0x33b25a[a10_0x16d27a(0x337)]),'college':({buildingLevels:_0x44ced2})=>0.6*Math['pow'](1.12,_0x44ced2[a10_0x16d27a(0x2d8)]),'sacrificialAltar':({buildingLevels:_0xb7b95b,perksUnlocked:_0x1f9b26})=>0.25*(_0x1f9b26[a10_0x16d27a(0x25d)](a10_0x16d27a(0x3c1))?0x2:0x1)*_0xb7b95b[a10_0x16d27a(0x402)],'bathHouse':({buildingLevels:_0x2ace74})=>0.1*Math[a10_0x16d27a(0x4bd)](1.1,_0x2ace74['bathHouse'])},calcUnitEfficiency={'gatherer':_0x513dbf=>resourceEfficiency['food']*baseUnitEfficiency[a10_0x16d27a(0x2b7)],'farmer':_0x55a777=>resourceEfficiency[a10_0x16d27a(0x32b)]*(baseUnitEfficiency[a10_0x16d27a(0x322)]+_0x55a777[a10_0x16d27a(0x27b)]*calcBuildingEfficiency['farm'](_0x55a777)),'woodcutter':_0x58975d=>resourceEfficiency[a10_0x16d27a(0x1f7)]*(baseUnitEfficiency[a10_0x16d27a(0x3f3)]+_0x58975d['sawmillAmount']*calcBuildingEfficiency[a10_0x16d27a(0x387)](_0x58975d)),'miner':_0x180bbc=>resourceEfficiency['stone']*(baseUnitEfficiency[a10_0x16d27a(0x34f)]+_0x180bbc[a10_0x16d27a(0x4bc)]*calcBuildingEfficiency['quarry'](_0x180bbc)),'blacksmith':_0x1bdcf6=>resourceEfficiency[a10_0x16d27a(0x3eb)]*(baseUnitEfficiency[a10_0x16d27a(0x489)]*(0x1+_0x1bdcf6[a10_0x16d27a(0x358)]*calcBuildingEfficiency[a10_0x16d27a(0x48d)](_0x1bdcf6))),'scholar':_0x18e801=>resourceEfficiency[a10_0x16d27a(0x3b1)]*(baseUnitEfficiency[a10_0x16d27a(0x266)]+_0x18e801['collegeAmount']*calcBuildingEfficiency['college'](_0x18e801)),'herbalist':_0xe59116=>baseUnitEfficiency['herbalist']},calcMaxHumansGenerated=_0x4ea004=>{const _0x49859c=a10_0x16d27a,_0x20f316=0x1+calcBuildingEfficiency['bathHouse'](_0x4ea004)*_0x4ea004[_0x49859c(0x35c)];return 0.05*resourceEfficiency[_0x49859c(0x1d5)]*_0x20f316;},calcMaxGenerated={'humans':calcMaxHumansGenerated,'food':_0x26e648=>_0x26e648[a10_0x16d27a(0x476)][a10_0x16d27a(0x2b7)]*calcUnitEfficiency[a10_0x16d27a(0x2b7)](_0x26e648)+_0x26e648[a10_0x16d27a(0x476)][a10_0x16d27a(0x322)]*calcUnitEfficiency[a10_0x16d27a(0x322)](_0x26e648),'wood':_0x2ddc3f=>_0x2ddc3f[a10_0x16d27a(0x476)]['woodcutter']*calcUnitEfficiency[a10_0x16d27a(0x3f3)](_0x2ddc3f),'stone':_0x2d1bff=>_0x2d1bff[a10_0x16d27a(0x476)][a10_0x16d27a(0x34f)]*calcUnitEfficiency['miner'](_0x2d1bff),'iron':_0x5326e3=>_0x5326e3[a10_0x16d27a(0x4a6)]*resourceEfficiency[a10_0x16d27a(0x21c)]*calcBuildingEfficiency[a10_0x16d27a(0x360)](_0x5326e3)*_0x5326e3[a10_0x16d27a(0x372)],'equipment':_0x3ff920=>_0x3ff920[a10_0x16d27a(0x476)]['blacksmith']*calcUnitEfficiency[a10_0x16d27a(0x489)](_0x3ff920),'knowledge':_0x169c30=>_0x169c30[a10_0x16d27a(0x476)]['scholar']*calcUnitEfficiency[a10_0x16d27a(0x266)](_0x169c30),'blood':_0x42bae7=>_0x42bae7[a10_0x16d27a(0x2d7)]*resourceEfficiency[a10_0x16d27a(0x3d3)]*calcBuildingEfficiency['sacrificialAltar'](_0x42bae7)*_0x42bae7['bloodProductionRate']},maxGenerated={get 'humans'(){return calcMaxGenerated['humans'](gameState);},get 'food'(){const _0x35b675=a10_0x16d27a;return calcMaxGenerated[_0x35b675(0x32b)](gameState);},get 'wood'(){return calcMaxGenerated['wood'](gameState);},get 'stone'(){const _0x4a9678=a10_0x16d27a;return calcMaxGenerated[_0x4a9678(0x450)](gameState);},get 'iron'(){const _0x475bc7=a10_0x16d27a;return calcMaxGenerated[_0x475bc7(0x21c)](gameState);},get 'equipment'(){const _0x1ecbe4=a10_0x16d27a;return calcMaxGenerated[_0x1ecbe4(0x3eb)](gameState);},get 'knowledge'(){const _0x2d7936=a10_0x16d27a;return calcMaxGenerated[_0x2d7936(0x3b1)](gameState);},get 'blood'(){const _0x406957=a10_0x16d27a;return calcMaxGenerated[_0x406957(0x3d3)](gameState);}};function getFoodConsumed(){const _0x5db749=a10_0x16d27a;let _0x5c5a46=0x0;for(const _0x5eaddf of[gameState[_0x5db749(0x476)],gameState[_0x5db749(0x27c)]]){for(const _0x47acf3 in _0x5eaddf){_0x5c5a46+=_0x5eaddf[_0x47acf3]*unitFoodConsumption[_0x47acf3];}}return _0x5c5a46;}const maxConsumed={get 'humans'(){const _0x327ce1=a10_0x16d27a;return maxGenerated[_0x327ce1(0x3d3)]*calcResourceConsumptionRatio[_0x327ce1(0x402)](gameState)[_0x327ce1(0x1d5)];},get 'food'(){return getFoodConsumed();},get 'wood'(){const _0x3f4fd9=a10_0x16d27a;return maxGenerated['equipment']*calcResourceConsumptionRatio[_0x3f4fd9(0x48d)](gameState)[_0x3f4fd9(0x1f7)];},get 'stone'(){const _0x184585=a10_0x16d27a;return maxGenerated[_0x184585(0x21c)]*calcResourceConsumptionRatio['foundry'](gameState)[_0x184585(0x450)];},get 'iron'(){const _0x2e709a=a10_0x16d27a;return maxGenerated['equipment']*calcResourceConsumptionRatio[_0x2e709a(0x48d)](gameState)[_0x2e709a(0x21c)];},get 'equipment'(){return 0x0;},get 'knowledge'(){return 0x0;},get 'blood'(){return 0x0;}},calcResourceConsumptionRatio={'foundry':_0x4b5fe5=>({'stone':buildings[a10_0x16d27a(0x360)][a10_0x16d27a(0x48c)][a10_0x16d27a(0x450)]/(resourceEfficiency['iron']*calcBuildingEfficiency[a10_0x16d27a(0x360)](_0x4b5fe5))}),'forge':_0x1c0327=>({'iron':workers['blacksmith'][a10_0x16d27a(0x48c)][a10_0x16d27a(0x21c)]/calcUnitEfficiency[a10_0x16d27a(0x489)](_0x1c0327),'wood':workers['blacksmith'][a10_0x16d27a(0x48c)]['wood']/calcUnitEfficiency[a10_0x16d27a(0x489)](_0x1c0327)}),'sacrificialAltar':_0x3390c1=>({'humans':buildings[a10_0x16d27a(0x402)][a10_0x16d27a(0x48c)][a10_0x16d27a(0x1d5)]/(resourceEfficiency[a10_0x16d27a(0x3d3)]*calcBuildingEfficiency['sacrificialAltar'](_0x3390c1))})};function getBuildingAddEffect(_0x3a3b10){const _0x43154b=a10_0x16d27a,_0x103d2f=gameState[_0x3a3b10+_0x43154b(0x26c)]+0x1,_0x3c6c81={...gameState,[_0x3a3b10+_0x43154b(0x26c)]:_0x103d2f};return calcEffect(_0x3a3b10,_0x3c6c81);}function getBuildingUpgradeEffect(_0x41a0fe){const _0x2edbc7=a10_0x16d27a,_0x3927e2=gameState[_0x2edbc7(0x4a9)][_0x41a0fe]+0x1,_0x4b4d8f={...gameState[_0x2edbc7(0x4a9)],[_0x41a0fe]:_0x3927e2},_0x3d0107={...gameState,'buildingLevels':_0x4b4d8f};return calcEffect(_0x41a0fe,_0x3d0107);}function getStorageUpgradeEffect(_0x2c419f){const _0x25637b=a10_0x16d27a,_0x3c37a0=gameState[_0x25637b(0x2f2)][_0x2c419f]+0x1,_0x4d06b1={...gameState['storageLevels'],[_0x2c419f]:_0x3c37a0},_0x3ec7cc={...gameState,'storageLevels':_0x4d06b1};return calcMaxResources[_0x2c419f](_0x3ec7cc)-maxResources[_0x2c419f];}function calcEffect(_0x759d86,_0x46d090){const _0x15685c=a10_0x16d27a;if(_0x759d86===_0x15685c(0x305)){const _0x183f8c=Object[_0x15685c(0x222)](calcMaxResources);return _0x183f8c[_0x15685c(0x4ec)]((_0x3af86f,_0x456c86)=>({..._0x3af86f,[_0x456c86]:calcMaxResources[_0x456c86](_0x46d090)-maxResources[_0x456c86]}),{});}else{if(_0x759d86===_0x15685c(0x506))return{'blood':calcMaxResources[_0x15685c(0x3d3)](_0x46d090)-maxResources[_0x15685c(0x3d3)]};else{const _0x1c81b1=buildings[_0x759d86][_0x15685c(0x41a)];if(_0x1c81b1){const _0x5ee400={[_0x1c81b1]:calcResourceChange(_0x1c81b1,_0x46d090)};if(calcResourceConsumptionRatio[_0x759d86]){const _0x4d0659=calcResourceConsumptionRatio[_0x759d86](_0x46d090);for(const _0x1f36fd in _0x4d0659){_0x5ee400[_0x1f36fd]=-_0x4d0659[_0x1f36fd]*_0x5ee400[_0x1c81b1];}}return _0x5ee400;}else return undefined;}}}function calcResourceChange(_0x4054dd,_0x1a9ebf){const _0x3a08fb=a10_0x16d27a;if(Object[_0x3a08fb(0x222)](maxGenerated)['includes'](_0x4054dd)){const _0x2bc36b=maxGenerated[_0x4054dd],_0x4bfdd5=calcMaxGenerated[_0x4054dd](_0x1a9ebf);return _0x4bfdd5-_0x2bc36b;}else{if(_0x4054dd[_0x3a08fb(0x492)](_0x3a08fb(0x253))){const _0xa49fb2=_0x4054dd['replace'](/Population$/,''),_0xce87a9=maxPopulation[_0xa49fb2],_0x4e1e3a=calcMaxPopulation[_0xa49fb2](_0x1a9ebf);return _0x4e1e3a-_0xce87a9;}else return undefined;}}const unitCosts=friendlyUnitTypes[a10_0x16d27a(0x4ec)]((_0x539804,_0x427444)=>({..._0x539804,[_0x427444]:friendlyUnits[_0x427444]['cost']}),{}),originalEnemyStructureUnits={'goblinTower':{'goblin':0x5,'goblinChief':0x1},'graveyard':{'necromancer':0x1,'skeletonWarrior':0x5,'skeletonArcher':0x5},'mountains':{'mountainWyvern':0x1},'abandonedMine':{'caveTroll':0x1,'minersGhost':0x2,'kobold':0x3,'bat':0x5},'banditsCamp':{'banditBackstabber':0x2,'banditKnifeJuggler':0x3},'forbiddenTemple':{'cultistPriest':0x1,'cultist':0x3},'churchRuins':{'zealotKnight':0x4,'zealotPriest':0x3},'guardPostOfFire':{'fireGuardian':0xa,'fireBowman':0xa},'pagodaOfFire':{'incoll':0x1,'fireDrake':0x4,'fireGuardian':0x19,'fireBowman':0x19},'guardPostOfArcanum':{'arcaneGuardian':0xa,'arcaneBowman':0xa},'pagodaOfArcanum':{'oaran':0x1,'arcaneDrake':0x4,'arcaneGuardian':0x19,'arcaneBowman':0x19},'guardPostOfFrost':{'frostGuardian':0xa,'frostBowman':0xa},'pagodaOfFrost':{'kerrdief':0x1,'frostDrake':0x4,'frostGuardian':0x19,'frostBowman':0x19}},enemyBuildingTiers={'tier1':[a10_0x16d27a(0x427),'pagodaOfArcanum','pagodaOfFrost'],'tier2':[a10_0x16d27a(0x1d0),'guardPostOfArcanum',a10_0x16d27a(0x3f6)],'tier3':[a10_0x16d27a(0x433),'graveyard',a10_0x16d27a(0x4ef),'abandonedMine','banditsCamp','forbiddenTemple',a10_0x16d27a(0x4f7)],'tier4':[]};let enemyStructureUnits=JSON['parse'](JSON[a10_0x16d27a(0x4c7)](originalEnemyStructureUnits));function calcEnemyBuildingUnits(){const _0x2acecd=a10_0x16d27a,_0x5486af=Object['keys'](gameState[_0x2acecd(0x500)])['reduce']((_0x27ba5f,_0x3af5c9)=>{const _0x620cbd=_0x2acecd,_0x1995e4=originalGameState[_0x620cbd(0x500)][_0x3af5c9];if(gameState[_0x620cbd(0x3d9)][_0x620cbd(0x25d)](_0x3af5c9)&&_0x1995e4!==null)return{..._0x27ba5f,[_0x1995e4]:(_0x27ba5f[_0x1995e4]||0x0)+0x1};else return _0x27ba5f;},{}),_0x56bf0a=1.4;for(const _0x8cfa93 in enemyStructureUnits){for(const _0x204437 in enemyStructureUnits[_0x8cfa93]){const _0x218f00=Math[_0x2acecd(0x4bd)](_0x56bf0a,_0x5486af[_0x8cfa93]||0x0);enemyStructureUnits[_0x8cfa93][_0x204437]=Math[_0x2acecd(0x21b)](originalEnemyStructureUnits[_0x8cfa93][_0x204437]*_0x218f00);}}updateEnemyCounts();}const armyUnitCards=document[a10_0x16d27a(0x326)]('.army-unit-card'),enemyBuildingUnitCards=document[a10_0x16d27a(0x326)](a10_0x16d27a(0x1dd)),combatUnitCards=document[a10_0x16d27a(0x326)](a10_0x16d27a(0x366)),armyUnitTooltip=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x219));let unitBeingHovered=null;armyUnitCards[a10_0x16d27a(0x471)](function(_0x2d95f3){const _0x5d678d=a10_0x16d27a;_0x2d95f3[_0x5d678d(0x3ff)]('mouseover',()=>{const _0x335aa9=_0x5d678d;unitBeingHovered=_0x2d95f3[_0x335aa9(0x490)][_0x335aa9(0x45f)],updateArmyUnitTooltips(_0x2d95f3['dataset']['unitType'],_0x335aa9(0x29a)),armyUnitTooltip[_0x335aa9(0x1cf)][_0x335aa9(0x3fe)]('display-none');}),_0x2d95f3[_0x5d678d(0x3ff)](_0x5d678d(0x2db),()=>{const _0x3d1df4=_0x5d678d;armyUnitTooltip[_0x3d1df4(0x1cf)]['add'](_0x3d1df4(0x44c)),unitBeingHovered=null;});}),enemyBuildingUnitCards[a10_0x16d27a(0x471)](function(_0x2acb23){const _0x1666bf=a10_0x16d27a;_0x2acb23[_0x1666bf(0x3ff)](_0x1666bf(0x4cc),()=>{const _0x3f5bd7=_0x1666bf;unitBeingHovered=_0x2acb23['dataset']['unitType'],updateArmyUnitTooltips(_0x2acb23['dataset'][_0x3f5bd7(0x45f)],_0x3f5bd7(0x22b)),armyUnitTooltip['classList'][_0x3f5bd7(0x3fe)](_0x3f5bd7(0x44c));}),_0x2acb23[_0x1666bf(0x3ff)](_0x1666bf(0x2db),()=>{const _0x5f2c5f=_0x1666bf;armyUnitTooltip[_0x5f2c5f(0x1cf)][_0x5f2c5f(0x509)](_0x5f2c5f(0x44c)),unitBeingHovered=null;});}),combatUnitCards['forEach'](function(_0x56a395){const _0xc84abb=a10_0x16d27a;_0x56a395[_0xc84abb(0x3ff)](_0xc84abb(0x4cc),()=>{const _0x2df12d=_0xc84abb;unitBeingHovered=_0x56a395[_0x2df12d(0x490)][_0x2df12d(0x45f)],updateArmyUnitTooltips(_0x56a395[_0x2df12d(0x490)][_0x2df12d(0x45f)],'right'),armyUnitTooltip['classList'][_0x2df12d(0x3fe)](_0x2df12d(0x44c));}),_0x56a395[_0xc84abb(0x3ff)]('mouseleave',()=>{const _0x5f14b5=_0xc84abb;armyUnitTooltip[_0x5f14b5(0x1cf)][_0x5f14b5(0x509)](_0x5f14b5(0x44c)),unitBeingHovered=null;});});const armyUnitTooltipImage=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x422)),armyUnitTooltipName=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x24f)),armyUnitAttackType1IMG=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x38a)),armyUnitAttackType1Text=document['querySelector']('.army-unit-tooltip\x20.unit-tooltip-type-1-text'),armyUnitAttackType2IMG=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x4c8)),armyUnitAttackType2Text=document['querySelector'](a10_0x16d27a(0x29f)),armyUnitAttackRating=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x215)),armyUnitDefenseRating=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x319)),armyUnitCost1IMG=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x2ce)),armyUnitCost1=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x47d)),armyUnitCost2IMG=document['querySelector']('.army-unit-tooltip\x20.unit-tooltip-cost-2-img'),armyUnitCost2=document[a10_0x16d27a(0x460)]('.army-unit-tooltip\x20.unit-tooltip-cost-2'),armyUnitCost2Container=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x325)),armyUnitCost3IMG=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x484)),armyUnitCost3=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x2e0)),armyUnitCost3Container=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x1ee)),armyUnitUpkeep1IMG=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x3d2)),armyUnitUpkeep1=document['querySelector'](a10_0x16d27a(0x2ea));function capitalizeFirstLetter(_0x2c7460){const _0x18a531=a10_0x16d27a;return _0x2c7460[_0x18a531(0x4c9)](0x0)[_0x18a531(0x249)]()+_0x2c7460[_0x18a531(0x1ff)](0x1);}function updateArmyUnitTooltips(_0x283b78,_0x101148){const _0x4c4d9d=a10_0x16d27a,_0x4790f4=armyUnits[_0x283b78];let _0x166d1e=_0x101148;_0x166d1e===_0x4c4d9d(0x22b)?(unitBeingHovered=null,armyUnitTooltip[_0x4c4d9d(0x1cf)][_0x4c4d9d(0x509)](_0x4c4d9d(0x2e3))):armyUnitTooltip[_0x4c4d9d(0x1cf)][_0x4c4d9d(0x3fe)]('unit-tooltip-middle'),_0x166d1e==='right'?(unitBeingHovered=null,armyUnitTooltip[_0x4c4d9d(0x1cf)][_0x4c4d9d(0x509)](_0x4c4d9d(0x3fd))):armyUnitTooltip[_0x4c4d9d(0x1cf)][_0x4c4d9d(0x3fe)](_0x4c4d9d(0x3fd)),armyUnitTooltipImage['src']=_0x4c4d9d(0x34d)+_0x283b78+_0x4c4d9d(0x487),armyUnitTooltipName[_0x4c4d9d(0x2df)]=_0x4790f4[_0x4c4d9d(0x3ef)],_0x4790f4[_0x4c4d9d(0x242)][_0x4c4d9d(0x425)]>0x0?(armyUnitAttackType1IMG[_0x4c4d9d(0x483)]='svgs/'+_0x4790f4[_0x4c4d9d(0x242)][0x0]+_0x4c4d9d(0x487),armyUnitAttackType1Text[_0x4c4d9d(0x2df)]=capitalizeFirstLetter(_0x4790f4['attackTypes'][0x0])):(armyUnitAttackType1IMG[_0x4c4d9d(0x483)]='',armyUnitAttackType1Text['innerText']=''),_0x4790f4['attackTypes']['length']>0x1?(armyUnitAttackType2IMG[_0x4c4d9d(0x483)]='svgs/'+_0x4790f4['attackTypes'][0x1]+_0x4c4d9d(0x487),armyUnitAttackType2Text[_0x4c4d9d(0x2df)]=capitalizeFirstLetter(_0x4790f4[_0x4c4d9d(0x242)][0x1])):(armyUnitAttackType2IMG['src']='',armyUnitAttackType2Text[_0x4c4d9d(0x2df)]=''),_0x4790f4['atk']>0x0?(armyUnitAttackRating[_0x4c4d9d(0x2df)]=Number(unitAttack[_0x283b78]['toFixed'](0x1))[_0x4c4d9d(0x4e1)]('en'),armyUnitDefenseRating[_0x4c4d9d(0x2df)]=Number(unitDefense[_0x283b78][_0x4c4d9d(0x469)](0x1))[_0x4c4d9d(0x4e1)]('en')):(armyUnitAttackRating[_0x4c4d9d(0x2df)]='',armyUnitDefenseRating['innerText']=''),_0x4790f4[_0x4c4d9d(0x33f)]===!![]?(Object[_0x4c4d9d(0x222)](_0x4790f4[_0x4c4d9d(0x35b)])[_0x4c4d9d(0x425)]>0x0?(armyUnitCost1IMG[_0x4c4d9d(0x483)]=_0x4c4d9d(0x34d)+Object['keys'](_0x4790f4[_0x4c4d9d(0x35b)])[0x0]+_0x4c4d9d(0x487),armyUnitCost1[_0x4c4d9d(0x2df)]=Object[_0x4c4d9d(0x2ca)](_0x4790f4['cost'])[0x0][_0x4c4d9d(0x4e1)]('en'),gameState[Object[_0x4c4d9d(0x222)](_0x4790f4['cost'])[0x0]]<Object[_0x4c4d9d(0x2ca)](_0x4790f4[_0x4c4d9d(0x35b)])[0x0]?armyUnitCost1[_0x4c4d9d(0x1cf)]['add'](_0x4c4d9d(0x2c5)):armyUnitCost1[_0x4c4d9d(0x1cf)][_0x4c4d9d(0x3fe)](_0x4c4d9d(0x2c5))):(armyUnitCost1IMG[_0x4c4d9d(0x483)]='',armyUnitCost1[_0x4c4d9d(0x2df)]=_0x4c4d9d(0x377)),Object[_0x4c4d9d(0x222)](_0x4790f4[_0x4c4d9d(0x35b)])['length']>0x1?(armyUnitCost2IMG[_0x4c4d9d(0x483)]=_0x4c4d9d(0x34d)+Object[_0x4c4d9d(0x222)](_0x4790f4[_0x4c4d9d(0x35b)])[0x1]+_0x4c4d9d(0x487),armyUnitCost2[_0x4c4d9d(0x2df)]=Object[_0x4c4d9d(0x2ca)](_0x4790f4['cost'])[0x1][_0x4c4d9d(0x4e1)]('en'),armyUnitCost2Container[_0x4c4d9d(0x1cf)]['remove'](_0x4c4d9d(0x44c)),gameState[Object[_0x4c4d9d(0x222)](_0x4790f4[_0x4c4d9d(0x35b)])[0x1]]<Object['values'](_0x4790f4['cost'])[0x1]?armyUnitCost2['classList'][_0x4c4d9d(0x509)]('cost-too-high'):armyUnitCost2['classList']['remove']('cost-too-high')):(armyUnitCost2IMG[_0x4c4d9d(0x483)]='',armyUnitCost2[_0x4c4d9d(0x2df)]='',armyUnitCost2Container['classList'][_0x4c4d9d(0x509)](_0x4c4d9d(0x44c))),Object[_0x4c4d9d(0x222)](_0x4790f4['cost'])['length']>0x2?(armyUnitCost3IMG[_0x4c4d9d(0x483)]=_0x4c4d9d(0x34d)+Object[_0x4c4d9d(0x222)](_0x4790f4[_0x4c4d9d(0x35b)])[0x2]+_0x4c4d9d(0x487),armyUnitCost3['innerText']=Object[_0x4c4d9d(0x2ca)](_0x4790f4[_0x4c4d9d(0x35b)])[0x2][_0x4c4d9d(0x4e1)]('en'),armyUnitCost3Container[_0x4c4d9d(0x1cf)][_0x4c4d9d(0x3fe)](_0x4c4d9d(0x44c)),gameState[Object['keys'](_0x4790f4['cost'])[0x1]]<Object[_0x4c4d9d(0x2ca)](_0x4790f4[_0x4c4d9d(0x35b)])[0x2]?armyUnitCost3[_0x4c4d9d(0x1cf)][_0x4c4d9d(0x509)](_0x4c4d9d(0x2c5)):armyUnitCost3[_0x4c4d9d(0x1cf)][_0x4c4d9d(0x3fe)](_0x4c4d9d(0x2c5))):(armyUnitCost3IMG[_0x4c4d9d(0x483)]='',armyUnitCost3[_0x4c4d9d(0x2df)]='',armyUnitCost3Container['classList'][_0x4c4d9d(0x509)](_0x4c4d9d(0x44c))),Object[_0x4c4d9d(0x222)](_0x4790f4['upkeep'])[_0x4c4d9d(0x425)]>0x0?(armyUnitUpkeep1IMG['src']=_0x4c4d9d(0x34d)+Object[_0x4c4d9d(0x222)](_0x4790f4[_0x4c4d9d(0x207)])[0x0]+_0x4c4d9d(0x487),armyUnitUpkeep1['innerText']=Object[_0x4c4d9d(0x2ca)](_0x4790f4[_0x4c4d9d(0x207)])[0x0]['toLocaleString']('en')+_0x4c4d9d(0x227)):(armyUnitUpkeep1IMG[_0x4c4d9d(0x483)]='',armyUnitUpkeep1[_0x4c4d9d(0x2df)]=_0x4c4d9d(0x377))):(armyUnitCost1IMG['src']='',armyUnitCost1['innerText']='');};const workerUnitCards=document[a10_0x16d27a(0x326)]('.worker-unit-card'),workerUnitTooltip=document['querySelector'](a10_0x16d27a(0x413));workerUnitCards[a10_0x16d27a(0x471)](function(_0x32fb93){const _0x498701=a10_0x16d27a;_0x32fb93['addEventListener'](_0x498701(0x4cc),()=>{const _0x5d6e8c=_0x498701;unitBeingHovered=_0x32fb93[_0x5d6e8c(0x490)][_0x5d6e8c(0x45f)],updateWorkerUnitTooltips(_0x32fb93['dataset'][_0x5d6e8c(0x45f)]),workerUnitTooltip[_0x5d6e8c(0x1cf)][_0x5d6e8c(0x3fe)]('display-none');}),_0x32fb93['addEventListener']('mouseleave',()=>{const _0xdf61a0=_0x498701;workerUnitTooltip[_0xdf61a0(0x1cf)][_0xdf61a0(0x509)](_0xdf61a0(0x44c)),unitBeingHovered=null;});});const workerUnitTooltipImage=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x384)),workerUnitTooltipName=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x26f)),workerUnitTooltipConsumptionContainer=document['querySelector']('.worker-unit-tooltip-consumption-container'),workerUnitTooltipConsumption1IMG=document['querySelector'](a10_0x16d27a(0x486)),workerUnitTooltipConsumption1=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x49d)),workerUnitTooltipConsumption2IMG=document[a10_0x16d27a(0x460)]('.worker-unit-consumption-2-img'),workerUnitTooltipConsumption2=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x4da)),workerUnitTooltipProductionIMG1=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x2cd)),workerUnitTooltipProduction1=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x49e)),workerUnitTooltipCostContainer=document['querySelector'](a10_0x16d27a(0x2d1)),workerUnitTooltipCost1IMG=document['querySelector']('.worker-unit-tooltip\x20.unit-tooltip-cost-1-img'),workerUnitTooltipCost1=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x46b)),workerUnitTooltipCost2IMG=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x3c7)),workerUnitTooltipCost2=document[a10_0x16d27a(0x460)]('.worker-unit-tooltip\x20.unit-tooltip-cost-2'),workerUnitTooltipUpkeep1IMG=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x330)),workerUnitTooltipUpkeep1=document[a10_0x16d27a(0x460)]('.worker-unit-tooltip\x20.unit-tooltip-upkeep-1');function updateWorkerUnitTooltips(_0x5f31a0){const _0x237188=a10_0x16d27a;workerUnitTooltipImage[_0x237188(0x483)]='svgs/'+_0x5f31a0+'_icon.svg';const _0x3f9b64=workers[_0x5f31a0];workerUnitTooltipName[_0x237188(0x2df)]=_0x3f9b64[_0x237188(0x3ef)],Object['keys'](_0x3f9b64[_0x237188(0x48c)])['length']>0x0?(workerUnitTooltipConsumption1IMG[_0x237188(0x483)]=_0x237188(0x34d)+Object[_0x237188(0x222)](_0x3f9b64[_0x237188(0x48c)])[0x0]+_0x237188(0x487),workerUnitTooltipConsumption1['innerText']='-'+Object[_0x237188(0x2ca)](_0x3f9b64[_0x237188(0x48c)])[0x0][_0x237188(0x4e1)]('en')+_0x237188(0x227),workerUnitTooltipConsumption2IMG[_0x237188(0x483)]=_0x237188(0x34d)+Object['keys'](_0x3f9b64['consumes'])[0x1]+'_icon.svg',workerUnitTooltipConsumption2['innerText']='-'+Object[_0x237188(0x2ca)](_0x3f9b64[_0x237188(0x48c)])[0x1][_0x237188(0x4e1)]('en')+_0x237188(0x227),workerUnitTooltipConsumptionContainer[_0x237188(0x1cf)][_0x237188(0x3fe)](_0x237188(0x44c))):workerUnitTooltipConsumptionContainer['classList'][_0x237188(0x509)]('display-none'),workerUnitTooltipProductionIMG1[_0x237188(0x483)]=_0x237188(0x34d)+Object[_0x237188(0x222)](_0x3f9b64[_0x237188(0x42a)])[0x0]+_0x237188(0x487),workerUnitTooltipProduction1[_0x237188(0x2df)]=calcUnitEfficiency[_0x5f31a0](gameState)[_0x237188(0x469)](0x2)+_0x237188(0x227),workerUnitTooltipCost1IMG[_0x237188(0x483)]='svgs/'+Object[_0x237188(0x222)](_0x3f9b64[_0x237188(0x35b)])[0x0]+'_icon.svg',workerUnitTooltipCost1['innerText']=''+Object['values'](_0x3f9b64[_0x237188(0x35b)])[0x0][_0x237188(0x4e1)]('en'),gameState[Object[_0x237188(0x222)](_0x3f9b64[_0x237188(0x35b)])[0x0]]<Object[_0x237188(0x2ca)](_0x3f9b64['cost'])[0x0]?workerUnitTooltipCost1['classList'][_0x237188(0x509)]('cost-too-high'):workerUnitTooltipCost1[_0x237188(0x1cf)][_0x237188(0x3fe)](_0x237188(0x2c5)),Object[_0x237188(0x222)](_0x3f9b64['cost'])[_0x237188(0x425)]>0x1?(workerUnitTooltipCost2IMG[_0x237188(0x483)]='svgs/'+Object['keys'](_0x3f9b64['cost'])[0x1]+_0x237188(0x487),workerUnitTooltipCost2[_0x237188(0x2df)]=''+Object[_0x237188(0x2ca)](_0x3f9b64[_0x237188(0x35b)])[0x1][_0x237188(0x4e1)]('en'),workerUnitTooltipCostContainer[_0x237188(0x1cf)][_0x237188(0x3fe)](_0x237188(0x44c)),gameState[Object[_0x237188(0x222)](_0x3f9b64[_0x237188(0x35b)])[0x1]]<Object[_0x237188(0x2ca)](_0x3f9b64[_0x237188(0x35b)])[0x1]?workerUnitTooltipCost2[_0x237188(0x1cf)]['add'](_0x237188(0x2c5)):workerUnitTooltipCost2[_0x237188(0x1cf)]['remove'](_0x237188(0x2c5))):workerUnitTooltipCostContainer['classList'][_0x237188(0x509)](_0x237188(0x44c)),Object[_0x237188(0x222)](_0x3f9b64[_0x237188(0x207)])[_0x237188(0x425)]>0x0?(workerUnitTooltipUpkeep1IMG['src']='svgs/'+Object[_0x237188(0x222)](_0x3f9b64['upkeep'])[0x0]+_0x237188(0x487),workerUnitTooltipUpkeep1['innerText']=''+Object['values'](_0x3f9b64[_0x237188(0x207)])[0x0][_0x237188(0x4e1)]('en')):(workerUnitTooltipUpkeep1IMG[_0x237188(0x483)]='',workerUnitTooltipUpkeep1[_0x237188(0x2df)]=_0x237188(0x377)),_0x5f31a0===_0x237188(0x4c2)&&(workerUnitTooltipProductionIMG1['src']='',workerUnitTooltipProduction1['innerHTML']=calcUnitEfficiency[_0x5f31a0](gameState)['toFixed'](0x2)+_0x237188(0x25f));};const allBuildingCards=document['querySelectorAll'](a10_0x16d27a(0x20d)),buildingTooltip=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x2e8));let buildingCardBeingHovered=null;allBuildingCards[a10_0x16d27a(0x471)](function(_0x29ad77){const _0x31cc34=a10_0x16d27a;_0x29ad77[_0x31cc34(0x3ff)](_0x31cc34(0x4cc),()=>{const _0x20510e=_0x31cc34;buildingCardBeingHovered=_0x29ad77[_0x20510e(0x490)]['buildingType'],updateBuildingTooltip(_0x29ad77[_0x20510e(0x490)]['buildingType']),buildingTooltip['classList'][_0x20510e(0x3fe)](_0x20510e(0x44c));}),_0x29ad77[_0x31cc34(0x3ff)]('mouseleave',()=>{const _0x5170ba=_0x31cc34;buildingTooltip[_0x5170ba(0x1cf)][_0x5170ba(0x509)](_0x5170ba(0x44c)),buildingCardBeingHovered=null;});});const buildingTooltipIMG=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x201)),buildingTooltipName=document['querySelector']('.building-tooltip-name'),buildingTooltipDescription=document[a10_0x16d27a(0x460)]('.building-tooltip-description'),buildingTooltipCost1IMG=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x415)),buildingTooltipCost1=document[a10_0x16d27a(0x460)]('.building-tooltip-cost1'),buildingTooltipCost2IMG=document['querySelector'](a10_0x16d27a(0x3de)),buildingTooltipCost2=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x4b6)),buildingTooltipCost3IMG=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x4de)),buildingTooltipCost3=document[a10_0x16d27a(0x460)]('.building-tooltip-cost3'),buildingTooltipCost4IMG=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x2aa)),buildingTooltipCost4=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x2cb)),buildingEffect1IMG=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x2d6)),buildingEffect1=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x3e9)),buildingEffect2IMG=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x44b)),buildingEffect2=document['querySelector'](a10_0x16d27a(0x4d0)),buildingTooltipEffectsContainer=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x1eb)),warehouseTooltipEffectsContainer=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x442)),warehouseTooltipEffect1=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x4ab)),warehouseTooltipEffect2=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x212)),warehouseTooltipEffect3=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x23c)),warehouseTooltipEffect4=document[a10_0x16d27a(0x460)]('.warehouse-building-tooltip-effect4'),warehouseTooltipEffect5=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x217));function updateBuildingTooltip(_0x38efd9){const _0x2e4d38=a10_0x16d27a;buildingTooltipIMG[_0x2e4d38(0x483)]=_0x2e4d38(0x34d)+_0x38efd9+'.svg',buildingTooltipName[_0x2e4d38(0x2df)]=buildings[_0x38efd9][_0x2e4d38(0x3ef)],buildingTooltipDescription[_0x2e4d38(0x2df)]=buildings[_0x38efd9][_0x2e4d38(0x23e)],buildingTooltipEffectsContainer['classList'][_0x2e4d38(0x3fe)]('display-none');const _0x33a76a=getBuildingAddEffect(_0x38efd9),_0x5eff7c=buildings[_0x38efd9],_0x4a1e1e=_0x5eff7c['increases']&&Number(_0x33a76a[_0x5eff7c['increases']])[_0x2e4d38(0x469)](0x2)[_0x2e4d38(0x4e1)]('en');if(_0x5eff7c[_0x2e4d38(0x41a)]!==undefined&&![_0x2e4d38(0x4b5),'barracks'][_0x2e4d38(0x25d)](_0x38efd9)){buildingEffect1IMG[_0x2e4d38(0x483)]='svgs/'+_0x5eff7c[_0x2e4d38(0x41a)]+_0x2e4d38(0x487);if(_0x38efd9===_0x2e4d38(0x1ef)){const _0x129e42=(Number(_0x33a76a[_0x5eff7c[_0x2e4d38(0x41a)]])*0x3c)['toFixed'](0x2)[_0x2e4d38(0x4e1)]('en');buildingEffect1['innerText']='+'+_0x129e42+'/min';}else buildingEffect1[_0x2e4d38(0x2df)]='+'+_0x4a1e1e+'/sec';}else buildingEffect1IMG[_0x2e4d38(0x483)]='',buildingEffect1['innerText']='';_0x38efd9==='hut'&&(buildingEffect1[_0x2e4d38(0x2df)]='Max\x20workers\x20+'+_0x4a1e1e);_0x38efd9===_0x2e4d38(0x204)&&(buildingEffect1['innerText']=_0x2e4d38(0x2f5)+_0x4a1e1e);[_0x2e4d38(0x447),_0x2e4d38(0x252),_0x2e4d38(0x3cc),_0x2e4d38(0x454)][_0x2e4d38(0x25d)](_0x38efd9)&&buildingTooltipEffectsContainer[_0x2e4d38(0x1cf)]['add'](_0x2e4d38(0x44c));_0x38efd9===_0x2e4d38(0x305)?(warehouseTooltipEffectsContainer[_0x2e4d38(0x1cf)][_0x2e4d38(0x3fe)](_0x2e4d38(0x44c)),buildingTooltipEffectsContainer[_0x2e4d38(0x1cf)][_0x2e4d38(0x509)](_0x2e4d38(0x44c)),warehouseTooltipEffect1[_0x2e4d38(0x2df)]=_0x2e4d38(0x47b)+_0x33a76a[_0x2e4d38(0x32b)]['toLocaleString']('en'),warehouseTooltipEffect2[_0x2e4d38(0x2df)]=_0x2e4d38(0x47b)+_0x33a76a[_0x2e4d38(0x1f7)][_0x2e4d38(0x4e1)]('en'),warehouseTooltipEffect3['innerText']=_0x2e4d38(0x47b)+_0x33a76a[_0x2e4d38(0x450)][_0x2e4d38(0x4e1)]('en'),warehouseTooltipEffect4[_0x2e4d38(0x2df)]=_0x2e4d38(0x47b)+_0x33a76a[_0x2e4d38(0x21c)]['toLocaleString']('en'),warehouseTooltipEffect5[_0x2e4d38(0x2df)]=_0x2e4d38(0x47b)+_0x33a76a[_0x2e4d38(0x3eb)][_0x2e4d38(0x4e1)]('en')):warehouseTooltipEffectsContainer[_0x2e4d38(0x1cf)][_0x2e4d38(0x509)](_0x2e4d38(0x44c));if(_0x38efd9===_0x2e4d38(0x402))buildingEffect2IMG[_0x2e4d38(0x483)]=_0x2e4d38(0x485),buildingEffect2[_0x2e4d38(0x2df)]='-'+(buildings['sacrificialAltar'][_0x2e4d38(0x48c)][_0x2e4d38(0x1d5)]*gameState[_0x2e4d38(0x355)]*0x3c)[_0x2e4d38(0x469)](0x2)['toLocaleString']('en')+_0x2e4d38(0x313),buildingEffect2[_0x2e4d38(0x481)][_0x2e4d38(0x41e)]=_0x2e4d38(0x320),buildingEffect2[_0x2e4d38(0x2f0)][_0x2e4d38(0x1cf)]['remove'](_0x2e4d38(0x44c));else _0x38efd9==='foundry'?(buildingEffect2IMG[_0x2e4d38(0x483)]=_0x2e4d38(0x507),buildingEffect2['innerText']='-'+(buildings[_0x2e4d38(0x360)][_0x2e4d38(0x48c)]['stone']*gameState[_0x2e4d38(0x372)])[_0x2e4d38(0x469)](0x2)['toLocaleString']('en')+_0x2e4d38(0x227),buildingEffect2[_0x2e4d38(0x481)][_0x2e4d38(0x41e)]=_0x2e4d38(0x320),buildingEffect2[_0x2e4d38(0x2f0)]['classList']['remove'](_0x2e4d38(0x44c))):(buildingEffect2IMG[_0x2e4d38(0x483)]='',buildingEffect2[_0x2e4d38(0x2df)]='',buildingEffect2[_0x2e4d38(0x481)][_0x2e4d38(0x41e)]='inherit',buildingEffect2['parentElement']['classList'][_0x2e4d38(0x509)](_0x2e4d38(0x44c)));if(_0x38efd9===_0x2e4d38(0x1da)){let _0x3ae1d8=0x0;for(let _0x16b35e=0x0;_0x16b35e<Object[_0x2e4d38(0x222)](gameState['tiles'])[_0x2e4d38(0x425)];_0x16b35e++){gameState[_0x2e4d38(0x500)]['t'+_0x16b35e]===_0x2e4d38(0x1da)&&_0x3ae1d8++;}if(_0x3ae1d8===0x0)buildingEffect1[_0x2e4d38(0x2df)]='Combat\x20speed:\x201.25x';else{if(_0x3ae1d8===0x1)buildingEffect1['innerText']='Combat\x20speed:\x202x';else{if(_0x3ae1d8===0x2)buildingEffect1[_0x2e4d38(0x2df)]=_0x2e4d38(0x3c9);else _0x3ae1d8===0x3&&(buildingEffect1[_0x2e4d38(0x2df)]=_0x2e4d38(0x3e7));}}}_0x38efd9===_0x2e4d38(0x269)&&(buildingEffect1[_0x2e4d38(0x2df)]=_0x2e4d38(0x3af)),_0x38efd9===_0x2e4d38(0x32c)&&(buildingEffect1[_0x2e4d38(0x2df)]=_0x2e4d38(0x370)),_0x38efd9===_0x2e4d38(0x506)&&(buildingEffect1[_0x2e4d38(0x2df)]='Max\x20+'+_0x33a76a['blood'][_0x2e4d38(0x4e1)]('en')),Object[_0x2e4d38(0x222)](buildingPrices[_0x38efd9])[0x0]!==undefined&&(buildingTooltipCost1IMG[_0x2e4d38(0x483)]=_0x2e4d38(0x34d)+Object[_0x2e4d38(0x222)](buildingPrices[_0x38efd9])[0x0]+_0x2e4d38(0x487),buildingTooltipCost1[_0x2e4d38(0x2df)]=Object[_0x2e4d38(0x2ca)](buildingPrices[_0x38efd9])[0x0][_0x2e4d38(0x4e1)]('en')||''),Object['keys'](buildingPrices[_0x38efd9])[0x1]!==undefined&&(buildingTooltipCost2IMG[_0x2e4d38(0x483)]=_0x2e4d38(0x34d)+Object['keys'](buildingPrices[_0x38efd9])[0x1]+_0x2e4d38(0x487),buildingTooltipCost2[_0x2e4d38(0x2df)]=Object['values'](buildingPrices[_0x38efd9])[0x1][_0x2e4d38(0x4e1)]('en')||''),Object[_0x2e4d38(0x222)](buildingPrices[_0x38efd9])[0x2]!==undefined&&(buildingTooltipCost3IMG[_0x2e4d38(0x483)]='svgs/'+Object['keys'](buildingPrices[_0x38efd9])[0x2]+'_icon.svg',buildingTooltipCost3[_0x2e4d38(0x2df)]=Object['values'](buildingPrices[_0x38efd9])[0x2]['toLocaleString']('en')||''),Object[_0x2e4d38(0x222)](buildingPrices[_0x38efd9])[0x3]!==undefined&&(buildingTooltipCost4IMG[_0x2e4d38(0x483)]=_0x2e4d38(0x34d)+Object[_0x2e4d38(0x222)](buildingPrices[_0x38efd9])[0x3]+_0x2e4d38(0x487),buildingTooltipCost4[_0x2e4d38(0x2df)]=Object[_0x2e4d38(0x2ca)](buildingPrices[_0x38efd9])[0x3][_0x2e4d38(0x4e1)]('en')||''),buildingTooltipCost4['parentElement']['classList'][_0x2e4d38(0x3fe)]('display-none'),buildingTooltipCost3['parentElement']['classList']['remove'](_0x2e4d38(0x44c)),buildingTooltipCost2['parentElement'][_0x2e4d38(0x1cf)]['remove'](_0x2e4d38(0x44c)),Object[_0x2e4d38(0x222)](buildingPrices[_0x38efd9])[_0x2e4d38(0x425)]===0x3&&buildingTooltipCost4[_0x2e4d38(0x2f0)][_0x2e4d38(0x1cf)]['add'](_0x2e4d38(0x44c)),Object[_0x2e4d38(0x222)](buildingPrices[_0x38efd9])[_0x2e4d38(0x425)]===0x2&&(buildingTooltipCost4[_0x2e4d38(0x2f0)][_0x2e4d38(0x1cf)]['add'](_0x2e4d38(0x44c)),buildingTooltipCost3[_0x2e4d38(0x2f0)][_0x2e4d38(0x1cf)]['add'](_0x2e4d38(0x44c))),Object[_0x2e4d38(0x222)](buildingPrices[_0x38efd9])[_0x2e4d38(0x425)]===0x1&&(buildingTooltipCost4[_0x2e4d38(0x2f0)]['classList'][_0x2e4d38(0x509)](_0x2e4d38(0x44c)),buildingTooltipCost3[_0x2e4d38(0x2f0)]['classList']['add'](_0x2e4d38(0x44c)),buildingTooltipCost2[_0x2e4d38(0x2f0)][_0x2e4d38(0x1cf)]['add']('display-none')),Object[_0x2e4d38(0x2ca)](buildingPrices[_0x38efd9])[0x0]>gameState[Object[_0x2e4d38(0x222)](buildingPrices[_0x38efd9])[0x0]]?buildingTooltipCost1[_0x2e4d38(0x1cf)][_0x2e4d38(0x509)](_0x2e4d38(0x2c5)):buildingTooltipCost1['classList'][_0x2e4d38(0x3fe)](_0x2e4d38(0x2c5)),Object[_0x2e4d38(0x2ca)](buildingPrices[_0x38efd9])[0x1]>gameState[Object[_0x2e4d38(0x222)](buildingPrices[_0x38efd9])[0x1]]?buildingTooltipCost2[_0x2e4d38(0x1cf)]['add'](_0x2e4d38(0x2c5)):buildingTooltipCost2[_0x2e4d38(0x1cf)][_0x2e4d38(0x3fe)]('cost-too-high'),Object[_0x2e4d38(0x2ca)](buildingPrices[_0x38efd9])[0x2]>gameState[Object[_0x2e4d38(0x222)](buildingPrices[_0x38efd9])[0x2]]?buildingTooltipCost3[_0x2e4d38(0x1cf)][_0x2e4d38(0x509)](_0x2e4d38(0x2c5)):buildingTooltipCost3[_0x2e4d38(0x1cf)]['remove'](_0x2e4d38(0x2c5)),Object[_0x2e4d38(0x2ca)](buildingPrices[_0x38efd9])[0x3]>gameState[Object['keys'](buildingPrices[_0x38efd9])[0x3]]?buildingTooltipCost4[_0x2e4d38(0x1cf)][_0x2e4d38(0x509)](_0x2e4d38(0x2c5)):buildingTooltipCost4[_0x2e4d38(0x1cf)][_0x2e4d38(0x3fe)](_0x2e4d38(0x2c5));}const allBuildingUpgradeBtns=document[a10_0x16d27a(0x326)](a10_0x16d27a(0x30c)),buildingUpgradeTooltip=document['querySelector'](a10_0x16d27a(0x267));let upgradeBtnBeingHovered=null;allBuildingUpgradeBtns[a10_0x16d27a(0x471)](function(_0x46ca72){const _0x13740c=a10_0x16d27a;_0x46ca72[_0x13740c(0x3ff)]('mouseover',()=>{const _0x3d2b1a=_0x13740c;upgradeBtnBeingHovered=_0x46ca72[_0x3d2b1a(0x490)][_0x3d2b1a(0x1f9)],updateBuildingUpgradeTooltip(_0x46ca72['dataset']['buildingType']),buildingUpgradeTooltip[_0x3d2b1a(0x1cf)]['remove'](_0x3d2b1a(0x44c));}),_0x46ca72[_0x13740c(0x3ff)](_0x13740c(0x2db),()=>{const _0x1b1045=_0x13740c;buildingUpgradeTooltip['classList'][_0x1b1045(0x509)](_0x1b1045(0x44c)),upgradeBtnBeingHovered=null;});});const buildingUpgradeEffectIMG=document['querySelector'](a10_0x16d27a(0x4a0)),buildingUpgradeEffect=document[a10_0x16d27a(0x460)]('.building-upgrade-tooltip-effect'),buildingUpgradeTooltipCost1IMG=document['querySelector'](a10_0x16d27a(0x24c)),buildingUpgradeTooltipCost1=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x2b9)),buildingUpgradeTooltipCost2IMG=document['querySelector'](a10_0x16d27a(0x2a3)),buildingUpgradeTooltipCost2=document['querySelector'](a10_0x16d27a(0x26e)),buildingUpgradeTooltipCost3IMG=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x31b)),buildingUpgradeTooltipCost3=document['querySelector'](a10_0x16d27a(0x4b9)),buildingUpgradeTooltipCost4IMG=document[a10_0x16d27a(0x460)]('.building-upgrade-tooltip-cost4-img'),buildingUpgradeTooltipCost4=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x1f5));function updateBuildingUpgradeTooltip(_0x14ab6f){const _0x148440=a10_0x16d27a;buildingUpgradeEffectIMG[_0x148440(0x483)]='',buildingUpgradeEffect['innerText']='';if(_0x14ab6f===_0x148440(0x506))buildingUpgradeEffect[_0x148440(0x2df)]=_0x148440(0x47b)+Number(Object[_0x148440(0x2ca)](getBuildingUpgradeEffect(_0x14ab6f))[0x0]);else{if(_0x14ab6f===_0x148440(0x4b5))buildingUpgradeEffect[_0x148440(0x2df)]=_0x148440(0x4b2)+Number(Object[_0x148440(0x2ca)](getBuildingUpgradeEffect(_0x14ab6f))[0x0]);else _0x14ab6f==='barracks'?buildingUpgradeEffect[_0x148440(0x2df)]=_0x148440(0x2f5)+Number(Object[_0x148440(0x2ca)](getBuildingUpgradeEffect(_0x14ab6f))[0x0]):(_0x14ab6f===_0x148440(0x1ef)?buildingUpgradeEffect[_0x148440(0x2df)]='+'+(Number(Object[_0x148440(0x2ca)](getBuildingUpgradeEffect(_0x14ab6f))[0x0])*0x3c)[_0x148440(0x469)](0x2)+_0x148440(0x313):buildingUpgradeEffect[_0x148440(0x2df)]='+'+Number(Object[_0x148440(0x2ca)](getBuildingUpgradeEffect(_0x14ab6f))[0x0])[_0x148440(0x469)](0x2)+'/sec',buildingUpgradeEffectIMG[_0x148440(0x483)]='svgs/'+Object[_0x148440(0x222)](getBuildingUpgradeEffect(_0x14ab6f))[0x0]+_0x148440(0x487));}Object['keys'](buildingUpgradePrices[_0x14ab6f])[0x0]!==undefined&&(buildingUpgradeTooltipCost1IMG[_0x148440(0x483)]='svgs/'+Object[_0x148440(0x222)](buildingUpgradePrices[_0x14ab6f])[0x0]+'_icon.svg',buildingUpgradeTooltipCost1[_0x148440(0x2df)]=Object[_0x148440(0x2ca)](buildingUpgradePrices[_0x14ab6f])[0x0]['toLocaleString']('en')||''),Object[_0x148440(0x222)](buildingUpgradePrices[_0x14ab6f])[0x1]!==undefined&&(buildingUpgradeTooltipCost2IMG['src']='svgs/'+Object['keys'](buildingUpgradePrices[_0x14ab6f])[0x1]+_0x148440(0x487),buildingUpgradeTooltipCost2[_0x148440(0x2df)]=Object['values'](buildingUpgradePrices[_0x14ab6f])[0x1]['toLocaleString']('en')||''),Object[_0x148440(0x222)](buildingUpgradePrices[_0x14ab6f])[0x2]!==undefined&&(buildingUpgradeTooltipCost3IMG[_0x148440(0x483)]=_0x148440(0x34d)+Object[_0x148440(0x222)](buildingUpgradePrices[_0x14ab6f])[0x2]+'_icon.svg',buildingUpgradeTooltipCost3[_0x148440(0x2df)]=Object[_0x148440(0x2ca)](buildingUpgradePrices[_0x14ab6f])[0x2][_0x148440(0x4e1)]('en')||''),Object[_0x148440(0x222)](buildingUpgradePrices[_0x14ab6f])[0x3]!==undefined&&(buildingUpgradeTooltipCost4IMG[_0x148440(0x483)]=_0x148440(0x34d)+Object[_0x148440(0x222)](buildingUpgradePrices[_0x14ab6f])[0x3]+_0x148440(0x487),buildingUpgradeTooltipCost4[_0x148440(0x2df)]=Object['values'](buildingUpgradePrices[_0x14ab6f])[0x3][_0x148440(0x4e1)]('en')||''),buildingUpgradeTooltipCost4[_0x148440(0x2f0)][_0x148440(0x1cf)]['remove']('display-none'),buildingUpgradeTooltipCost3[_0x148440(0x2f0)][_0x148440(0x1cf)][_0x148440(0x3fe)]('display-none'),buildingUpgradeTooltipCost2['parentElement'][_0x148440(0x1cf)][_0x148440(0x3fe)]('display-none'),Object[_0x148440(0x222)](buildingUpgradePrices[_0x14ab6f])['length']===0x3&&buildingUpgradeTooltipCost4[_0x148440(0x2f0)][_0x148440(0x1cf)][_0x148440(0x509)]('display-none'),Object[_0x148440(0x222)](buildingUpgradePrices[_0x14ab6f])[_0x148440(0x425)]===0x2&&(buildingUpgradeTooltipCost4['parentElement'][_0x148440(0x1cf)][_0x148440(0x509)](_0x148440(0x44c)),buildingUpgradeTooltipCost3[_0x148440(0x2f0)]['classList'][_0x148440(0x509)]('display-none')),Object['keys'](buildingUpgradePrices[_0x14ab6f])[_0x148440(0x425)]===0x1&&(buildingUpgradeTooltipCost4[_0x148440(0x2f0)][_0x148440(0x1cf)][_0x148440(0x509)]('display-none'),buildingUpgradeTooltipCost3[_0x148440(0x2f0)][_0x148440(0x1cf)][_0x148440(0x509)](_0x148440(0x44c)),buildingUpgradeTooltipCost2[_0x148440(0x2f0)][_0x148440(0x1cf)][_0x148440(0x509)](_0x148440(0x44c))),Object[_0x148440(0x2ca)](buildingUpgradePrices[_0x14ab6f])[0x0]>gameState[Object[_0x148440(0x222)](buildingUpgradePrices[_0x14ab6f])[0x0]]?buildingUpgradeTooltipCost1[_0x148440(0x1cf)][_0x148440(0x509)]('cost-too-high'):buildingUpgradeTooltipCost1[_0x148440(0x1cf)][_0x148440(0x3fe)](_0x148440(0x2c5)),Object[_0x148440(0x2ca)](buildingUpgradePrices[_0x14ab6f])[0x1]>gameState[Object[_0x148440(0x222)](buildingUpgradePrices[_0x14ab6f])[0x1]]?buildingUpgradeTooltipCost2[_0x148440(0x1cf)]['add'](_0x148440(0x2c5)):buildingUpgradeTooltipCost2[_0x148440(0x1cf)][_0x148440(0x3fe)](_0x148440(0x2c5)),Object[_0x148440(0x2ca)](buildingUpgradePrices[_0x14ab6f])[0x2]>gameState[Object[_0x148440(0x222)](buildingUpgradePrices[_0x14ab6f])[0x2]]?buildingUpgradeTooltipCost3[_0x148440(0x1cf)][_0x148440(0x509)]('cost-too-high'):buildingUpgradeTooltipCost3[_0x148440(0x1cf)][_0x148440(0x3fe)](_0x148440(0x2c5)),Object[_0x148440(0x2ca)](buildingUpgradePrices[_0x14ab6f])[0x3]>gameState[Object[_0x148440(0x222)](buildingUpgradePrices[_0x14ab6f])[0x3]]?buildingUpgradeTooltipCost4[_0x148440(0x1cf)]['add']('cost-too-high'):buildingUpgradeTooltipCost4[_0x148440(0x1cf)][_0x148440(0x3fe)](_0x148440(0x2c5));}const allstorageUpgradeBtns=document['querySelectorAll'](a10_0x16d27a(0x233)),storageUpgradeTooltip=document['querySelector']('.storage-upgrade-tooltip');let storageUpgradeBtnBeingHovered=null;allstorageUpgradeBtns[a10_0x16d27a(0x471)](function(_0x577981){const _0x35b61d=a10_0x16d27a;_0x577981['addEventListener']('mouseover',()=>{const _0x2873b3=a10_0x33f7;storageUpgradeBtnBeingHovered=_0x577981[_0x2873b3(0x490)][_0x2873b3(0x2e1)],updateStorageUpgradeTooltip(_0x577981[_0x2873b3(0x490)][_0x2873b3(0x2e1)]),storageUpgradeTooltip[_0x2873b3(0x1cf)][_0x2873b3(0x3fe)]('display-none');}),_0x577981[_0x35b61d(0x3ff)](_0x35b61d(0x2db),()=>{const _0x35421e=_0x35b61d;storageUpgradeTooltip[_0x35421e(0x1cf)]['add'](_0x35421e(0x44c)),storageUpgradeBtnBeingHovered=null;});});const storageUpgradeTooltipEffectIMG=document['querySelector'](a10_0x16d27a(0x2b5)),storageUpgradeTooltipEffect=document[a10_0x16d27a(0x460)]('.storage-upgrade-tooltip-effect'),storageUpgradeTooltipCost1IMG=document[a10_0x16d27a(0x460)]('.storage-upgrade-tooltip-cost1-img'),storageUpgradeTooltipCost1=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x208)),storageUpgradeTooltipCost2IMG=document['querySelector'](a10_0x16d27a(0x399)),storageUpgradeTooltipCost2=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x369)),storageUpgradeTooltipCost3IMG=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x493)),storageUpgradeTooltipCost3=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x371)),storageUpgradeTooltipCost4IMG=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x343)),storageUpgradeTooltipCost4=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x375));function updateStorageUpgradeTooltip(_0x4630e8){const _0x22004b=a10_0x16d27a;storageUpgradeTooltipEffectIMG['src']=_0x22004b(0x34d)+_0x4630e8+_0x22004b(0x487),storageUpgradeTooltipEffect[_0x22004b(0x2df)]=_0x22004b(0x47b)+getStorageUpgradeEffect(_0x4630e8)[_0x22004b(0x4e1)]('en'),Object['keys'](storageUpgradePrices[_0x4630e8])[0x0]!==undefined&&(storageUpgradeTooltipCost1IMG[_0x22004b(0x483)]='svgs/'+Object[_0x22004b(0x222)](storageUpgradePrices[_0x4630e8])[0x0]+_0x22004b(0x487),storageUpgradeTooltipCost1[_0x22004b(0x2df)]=Object[_0x22004b(0x2ca)](storageUpgradePrices[_0x4630e8])[0x0][_0x22004b(0x4e1)]('en')||''),Object['keys'](storageUpgradePrices[_0x4630e8])[0x1]!==undefined&&(storageUpgradeTooltipCost2IMG['src']=_0x22004b(0x34d)+Object[_0x22004b(0x222)](storageUpgradePrices[_0x4630e8])[0x1]+_0x22004b(0x487),storageUpgradeTooltipCost2[_0x22004b(0x2df)]=Object[_0x22004b(0x2ca)](storageUpgradePrices[_0x4630e8])[0x1]['toLocaleString']('en')||''),Object[_0x22004b(0x222)](storageUpgradePrices[_0x4630e8])[0x2]!==undefined&&(storageUpgradeTooltipCost3IMG[_0x22004b(0x483)]=_0x22004b(0x34d)+Object[_0x22004b(0x222)](storageUpgradePrices[_0x4630e8])[0x2]+'_icon.svg',storageUpgradeTooltipCost3['innerText']=Object[_0x22004b(0x2ca)](storageUpgradePrices[_0x4630e8])[0x2]['toLocaleString']('en')||''),Object[_0x22004b(0x222)](storageUpgradePrices[_0x4630e8])[0x3]!==undefined&&(storageUpgradeTooltipCost4IMG['src']='svgs/'+Object[_0x22004b(0x222)](storageUpgradePrices[_0x4630e8])[0x3]+_0x22004b(0x487),storageUpgradeTooltipCost4['innerText']=Object[_0x22004b(0x2ca)](storageUpgradePrices[_0x4630e8])[0x3][_0x22004b(0x4e1)]('en')||''),storageUpgradeTooltipCost4[_0x22004b(0x2f0)][_0x22004b(0x1cf)][_0x22004b(0x3fe)]('display-none'),storageUpgradeTooltipCost3['parentElement']['classList'][_0x22004b(0x3fe)](_0x22004b(0x44c)),storageUpgradeTooltipCost2[_0x22004b(0x2f0)][_0x22004b(0x1cf)]['remove'](_0x22004b(0x44c)),Object[_0x22004b(0x222)](storageUpgradePrices[_0x4630e8])['length']===0x3&&storageUpgradeTooltipCost4[_0x22004b(0x2f0)]['classList'][_0x22004b(0x509)](_0x22004b(0x44c)),Object[_0x22004b(0x222)](storageUpgradePrices[_0x4630e8])[_0x22004b(0x425)]===0x2&&(storageUpgradeTooltipCost4[_0x22004b(0x2f0)][_0x22004b(0x1cf)][_0x22004b(0x509)]('display-none'),storageUpgradeTooltipCost3['parentElement'][_0x22004b(0x1cf)][_0x22004b(0x509)](_0x22004b(0x44c))),Object[_0x22004b(0x222)](storageUpgradePrices[_0x4630e8])[_0x22004b(0x425)]===0x1&&(storageUpgradeTooltipCost4[_0x22004b(0x2f0)][_0x22004b(0x1cf)]['add'](_0x22004b(0x44c)),storageUpgradeTooltipCost3['parentElement']['classList']['add']('display-none'),storageUpgradeTooltipCost2[_0x22004b(0x2f0)][_0x22004b(0x1cf)][_0x22004b(0x509)](_0x22004b(0x44c))),Object[_0x22004b(0x2ca)](storageUpgradePrices[_0x4630e8])[0x0]>gameState[Object[_0x22004b(0x222)](storageUpgradePrices[_0x4630e8])[0x0]]?storageUpgradeTooltipCost1[_0x22004b(0x1cf)][_0x22004b(0x509)]('cost-too-high'):storageUpgradeTooltipCost1[_0x22004b(0x1cf)][_0x22004b(0x3fe)](_0x22004b(0x2c5)),Object[_0x22004b(0x2ca)](storageUpgradePrices[_0x4630e8])[0x1]>gameState[Object[_0x22004b(0x222)](storageUpgradePrices[_0x4630e8])[0x1]]?storageUpgradeTooltipCost2['classList'][_0x22004b(0x509)](_0x22004b(0x2c5)):storageUpgradeTooltipCost2[_0x22004b(0x1cf)][_0x22004b(0x3fe)]('cost-too-high'),Object[_0x22004b(0x2ca)](storageUpgradePrices[_0x4630e8])[0x2]>gameState[Object['keys'](storageUpgradePrices[_0x4630e8])[0x2]]?storageUpgradeTooltipCost3[_0x22004b(0x1cf)][_0x22004b(0x509)](_0x22004b(0x2c5)):storageUpgradeTooltipCost3[_0x22004b(0x1cf)][_0x22004b(0x3fe)]('cost-too-high'),Object[_0x22004b(0x2ca)](storageUpgradePrices[_0x4630e8])[0x3]>gameState[Object['keys'](storageUpgradePrices[_0x4630e8])[0x3]]?storageUpgradeTooltipCost4['classList'][_0x22004b(0x509)](_0x22004b(0x2c5)):storageUpgradeTooltipCost4['classList'][_0x22004b(0x3fe)](_0x22004b(0x2c5));}const shopItems=document['querySelectorAll'](a10_0x16d27a(0x4ca)),shopItemTooltips=document[a10_0x16d27a(0x326)]('.shop-item-tooltip');shopItems['forEach'](function(_0x42fcc6){const _0xedd221=a10_0x16d27a;_0x42fcc6[_0xedd221(0x3ff)](_0xedd221(0x4cc),()=>{const _0xd2e2d8=_0xedd221;let _0xe70998=_0x42fcc6[_0xd2e2d8(0x490)][_0xd2e2d8(0x1cb)];shopItemTooltips[_0xd2e2d8(0x471)](function(_0x4528ab){const _0x2e6a3b=_0xd2e2d8;_0xe70998===_0x4528ab['dataset'][_0x2e6a3b(0x1cb)]&&_0x4528ab[_0x2e6a3b(0x1cf)][_0x2e6a3b(0x3fe)]('display-none');});});}),shopItems[a10_0x16d27a(0x471)](function(_0x3fb1cc){const _0xb4f3ac=a10_0x16d27a;_0x3fb1cc['addEventListener'](_0xb4f3ac(0x2db),()=>{const _0x210904=_0xb4f3ac;shopItemTooltips[_0x210904(0x471)](function(_0x3b015a){const _0x58891d=_0x210904;_0x3b015a[_0x58891d(0x1cf)][_0x58891d(0x509)]('display-none');});});});const buildingPrices={'hut':{get 'wood'(){const _0xdf4772=a10_0x16d27a;return Math[_0xdf4772(0x435)](0x1e*Math[_0xdf4772(0x4bd)](gameState['hutAmount']+0x1,0x3));}},'sawmill':{get 'wood'(){const _0x497ed4=a10_0x16d27a;return Math[_0x497ed4(0x435)](0x32*Math[_0x497ed4(0x4bd)](gameState[_0x497ed4(0x4e4)]+0x1,3.5));}},'quarry':{get 'wood'(){const _0x12b6d4=a10_0x16d27a;return Math['round'](0x64*Math[_0x12b6d4(0x4bd)](gameState['quarryAmount']+0x1,0x3));},get 'stone'(){const _0x487b96=a10_0x16d27a;return Math[_0x487b96(0x435)](0x32*Math[_0x487b96(0x4bd)](gameState[_0x487b96(0x4bc)]+0x1,0x3));}},'warehouse':{get 'wood'(){const _0x111cb0=a10_0x16d27a;return Math[_0x111cb0(0x435)](0x1f4*Math['pow'](gameState['warehouseAmount']+0x1,0x3));},get 'stone'(){const _0x30ebf9=a10_0x16d27a;return Math[_0x30ebf9(0x435)](0xc8*Math['pow'](gameState[_0x30ebf9(0x4db)]+0x1,0x3));}},'foundry':{get 'wood'(){const _0x3971fd=a10_0x16d27a;return Math[_0x3971fd(0x435)](0x4b0*Math[_0x3971fd(0x4bd)](gameState[_0x3971fd(0x4a6)]+0x1,0x2));},get 'stone'(){const _0x204cf1=a10_0x16d27a;return Math['round'](0x3e8*Math[_0x204cf1(0x4bd)](gameState[_0x204cf1(0x4a6)]+0x1,0x2));}},'forge':{get 'wood'(){const _0x40842f=a10_0x16d27a;return Math[_0x40842f(0x435)](0xbb8*Math['pow'](gameState[_0x40842f(0x358)]+0x1,0x3));},get 'stone'(){const _0x266b7d=a10_0x16d27a;return Math['round'](0x3e8*Math[_0x266b7d(0x4bd)](gameState[_0x266b7d(0x358)]+0x1,0x3));},get 'iron'(){const _0xe42eca=a10_0x16d27a;return Math['round'](0xc8*Math[_0xe42eca(0x4bd)](gameState[_0xe42eca(0x358)]+0x1,0x3));}},'farm':{get 'wood'(){const _0x24b6bf=a10_0x16d27a;return Math[_0x24b6bf(0x435)](0xbb8*Math[_0x24b6bf(0x4bd)](gameState[_0x24b6bf(0x27b)]+0x1,0x2));},get 'stone'(){const _0x2c7a69=a10_0x16d27a;return Math[_0x2c7a69(0x435)](0x3e8*Math['pow'](gameState[_0x2c7a69(0x27b)]+0x1,0x2));},get 'equipment'(){const _0x60f965=a10_0x16d27a;return Math['round'](0x64*Math[_0x60f965(0x4bd)](gameState['farmAmount']+0x1,0x2));}},'barracks':{get 'wood'(){const _0x4ee9b5=a10_0x16d27a;return Math[_0x4ee9b5(0x435)](0xfa0*Math[_0x4ee9b5(0x4bd)](gameState[_0x4ee9b5(0x4a3)]+0x1,0x2));},get 'stone'(){const _0x34dfff=a10_0x16d27a;return Math[_0x34dfff(0x435)](0xbb8*Math[_0x34dfff(0x4bd)](gameState[_0x34dfff(0x4a3)]+0x1,0x2));},get 'iron'(){const _0x1c50fd=a10_0x16d27a;return Math[_0x1c50fd(0x435)](0x12c*Math['pow'](gameState['barracksAmount']+0x1,0x2));},get 'equipment'(){const _0x413a1f=a10_0x16d27a;return Math['round'](0x3c*Math[_0x413a1f(0x4bd)](gameState[_0x413a1f(0x4a3)]+0x1,0x2));}},'college':{get 'wood'(){const _0x2281d6=a10_0x16d27a;return Math[_0x2281d6(0x435)](0x1d4c*Math['pow'](gameState['collegeAmount']+0x1,1.3));},get 'stone'(){const _0x1fc8a8=a10_0x16d27a;return Math[_0x1fc8a8(0x435)](0x1d4c*Math[_0x1fc8a8(0x4bd)](gameState[_0x1fc8a8(0x1cc)]+0x1,1.3));},get 'iron'(){const _0x2f10b1=a10_0x16d27a;return Math[_0x2f10b1(0x435)](0x44c*Math[_0x2f10b1(0x4bd)](gameState[_0x2f10b1(0x1cc)]+0x1,1.3));},get 'equipment'(){const _0x1d07b8=a10_0x16d27a;return Math[_0x1d07b8(0x435)](0x64*Math['pow'](gameState[_0x1d07b8(0x1cc)]+0x1,1.3));}},'bathHouse':{get 'wood'(){const _0x52a9fa=a10_0x16d27a;return Math['round'](0x1388*Math[_0x52a9fa(0x4bd)](gameState[_0x52a9fa(0x35c)]+0x1,1.3));},get 'stone'(){return Math['round'](0x1388*Math['pow'](gameState['bathHouseAmount']+0x1,1.3));}},'commandPost':{get 'stone'(){const _0x325ea8=a10_0x16d27a;return Math[_0x325ea8(0x435)](0x3a98*Math[_0x325ea8(0x4bd)](gameState[_0x325ea8(0x4ff)]+0x1,1.3));},get 'iron'(){const _0x4d5694=a10_0x16d27a;return Math['round'](0x7d0*Math[_0x4d5694(0x4bd)](gameState[_0x4d5694(0x4ff)]+0x1,1.3));},get 'equipment'(){const _0x4fcbba=a10_0x16d27a;return Math['round'](0x2bc*Math[_0x4fcbba(0x4bd)](gameState[_0x4fcbba(0x4ff)]+0x1,1.3));}},'bloodBasin':{get 'stone'(){const _0x59fe8d=a10_0x16d27a;return Math[_0x59fe8d(0x435)](0x7d0*Math[_0x59fe8d(0x4bd)](gameState[_0x59fe8d(0x41c)]+0x1,0x2));},get 'equipment'(){const _0x4dc352=a10_0x16d27a;return Math[_0x4dc352(0x435)](0x64*Math[_0x4dc352(0x4bd)](gameState['bloodBasinAmount']+0x1,1.5));},get 'blood'(){const _0x4f3474=a10_0x16d27a;return Math[_0x4f3474(0x435)](0x1f4*Math['pow'](gameState['bloodBasinAmount']+0x1,1.5));}},'sacrificialAltar':{get 'stone'(){const _0x25f266=a10_0x16d27a;return Math[_0x25f266(0x435)](0x3e8*Math['pow'](gameState[_0x25f266(0x2d7)]+0x1,0x3));},get 'equipment'(){const _0x20d3e1=a10_0x16d27a;return Math[_0x20d3e1(0x435)](0x12c*Math[_0x20d3e1(0x4bd)](gameState['sacrificialAltarAmount']+0x1,0x3));},get 'blood'(){const _0x13ff4e=a10_0x16d27a;return Math[_0x13ff4e(0x435)](0xc8*Math[_0x13ff4e(0x4bd)](gameState['sacrificialAltarAmount']+0x1,0x2));}},'bloodPortal':{get 'stone'(){const _0x1d699b=a10_0x16d27a;return Math['round'](0x1388*Math[_0x1d699b(0x4bd)](gameState['bloodPortalAmount']+0x1,0x2));},get 'equipment'(){const _0xcbdad4=a10_0x16d27a;return Math['round'](0x1f4*Math[_0xcbdad4(0x4bd)](gameState[_0xcbdad4(0x4eb)]+0x1,0x2));},get 'blood'(){const _0x21ef65=a10_0x16d27a;return Math[_0x21ef65(0x435)](0x2bc*Math[_0x21ef65(0x4bd)](gameState[_0x21ef65(0x4eb)]+0x1,1.2));}},'collegeOfFire':{get 'wood'(){const _0x2468dc=a10_0x16d27a;return Math[_0x2468dc(0x435)](0x2710*Math[_0x2468dc(0x4bd)](gameState['collegeOfFireAmount']+0x1,0x2));},get 'stone'(){const _0x410c6b=a10_0x16d27a;return Math['round'](0x1388*Math[_0x410c6b(0x4bd)](gameState[_0x410c6b(0x1d9)]+0x1,0x2));},get 'equipment'(){const _0x4770a5=a10_0x16d27a;return Math[_0x4770a5(0x435)](0x17c*Math[_0x4770a5(0x4bd)](gameState['collegeOfFireAmount']+0x1,0x2));},get 'knowledge'(){const _0x299fef=a10_0x16d27a;return Math[_0x299fef(0x435)](0x320*Math[_0x299fef(0x4bd)](gameState[_0x299fef(0x1d9)]+0x1,0x2));}},'collegeOfArcanum':{get 'wood'(){const _0x2aa9ed=a10_0x16d27a;return Math['round'](0x2710*Math[_0x2aa9ed(0x4bd)](gameState[_0x2aa9ed(0x445)]+0x1,0x2));},get 'stone'(){const _0x5652fb=a10_0x16d27a;return Math[_0x5652fb(0x435)](0x1388*Math[_0x5652fb(0x4bd)](gameState[_0x5652fb(0x445)]+0x1,0x2));},get 'equipment'(){const _0x568dd8=a10_0x16d27a;return Math[_0x568dd8(0x435)](0x17c*Math[_0x568dd8(0x4bd)](gameState[_0x568dd8(0x445)]+0x1,0x2));},get 'knowledge'(){const _0x302836=a10_0x16d27a;return Math['round'](0x320*Math[_0x302836(0x4bd)](gameState[_0x302836(0x445)]+0x1,0x2));}},'collegeOfFrost':{get 'wood'(){const _0x54b713=a10_0x16d27a;return Math['round'](0x2710*Math[_0x54b713(0x4bd)](gameState[_0x54b713(0x49f)]+0x1,0x2));},get 'stone'(){const _0x1e21eb=a10_0x16d27a;return Math[_0x1e21eb(0x435)](0x1388*Math[_0x1e21eb(0x4bd)](gameState[_0x1e21eb(0x49f)]+0x1,0x2));},get 'equipment'(){const _0x3be562=a10_0x16d27a;return Math[_0x3be562(0x435)](0x17c*Math[_0x3be562(0x4bd)](gameState[_0x3be562(0x49f)]+0x1,0x2));},get 'knowledge'(){const _0x5a98d7=a10_0x16d27a;return Math['round'](0x320*Math[_0x5a98d7(0x4bd)](gameState[_0x5a98d7(0x49f)]+0x1,0x2));}},'herbalGarden':{get 'wood'(){const _0x5c509b=a10_0x16d27a;return Math[_0x5c509b(0x435)](0xfa0*Math['pow'](gameState[_0x5c509b(0x475)]+0x1,0x1));},get 'stone'(){const _0x5e80ab=a10_0x16d27a;return Math[_0x5e80ab(0x435)](0x157c*Math[_0x5e80ab(0x4bd)](gameState[_0x5e80ab(0x475)]+0x1,0x1));},get 'equipment'(){const _0x54626d=a10_0x16d27a;return Math['round'](0xc8*Math[_0x54626d(0x4bd)](gameState[_0x54626d(0x475)]+0x1,0x1));}},'alchemistHut':{get 'wood'(){const _0x4416a8=a10_0x16d27a;return Math[_0x4416a8(0x435)](0x3a98*Math[_0x4416a8(0x4bd)](gameState['alchemistHutAmount']+0x1,1.3));},get 'stone'(){const _0x58cb6f=a10_0x16d27a;return Math[_0x58cb6f(0x435)](0x3a98*Math['pow'](gameState[_0x58cb6f(0x353)]+0x1,1.3));},get 'equipment'(){const _0x57c866=a10_0x16d27a;return Math[_0x57c866(0x435)](0x3e8*Math['pow'](gameState[_0x57c866(0x353)]+0x1,1.3));}}},buildingUpgradePrices={'hut':{get 'wood'(){const _0x466d1d=a10_0x16d27a;return Math[_0x466d1d(0x435)](0x1e*Math['pow'](gameState[_0x466d1d(0x4a9)][_0x466d1d(0x4b5)],2.5));}},'sawmill':{get 'wood'(){const _0x639d6f=a10_0x16d27a;return Math[_0x639d6f(0x435)](0x32*Math[_0x639d6f(0x4bd)](gameState[_0x639d6f(0x4a9)]['sawmill'],2.5));}},'quarry':{get 'wood'(){const _0x5d86a1=a10_0x16d27a;return Math[_0x5d86a1(0x435)](0x64*Math[_0x5d86a1(0x4bd)](gameState[_0x5d86a1(0x4a9)]['quarry'],2.5));},get 'stone'(){const _0x5d8caa=a10_0x16d27a;return Math[_0x5d8caa(0x435)](0x32*Math[_0x5d8caa(0x4bd)](gameState[_0x5d8caa(0x4a9)][_0x5d8caa(0x2f7)],2.5));}},'foundry':{get 'wood'(){const _0x2a4044=a10_0x16d27a;return Math[_0x2a4044(0x435)](0x4b0*Math[_0x2a4044(0x4bd)](gameState[_0x2a4044(0x4a9)]['foundry'],1.2));},get 'stone'(){const _0xc957ae=a10_0x16d27a;return Math[_0xc957ae(0x435)](0x3e8*Math['pow'](gameState['buildingLevels'][_0xc957ae(0x360)],1.2));}},'forge':{get 'wood'(){const _0x359e74=a10_0x16d27a;return Math['round'](0x190*Math[_0x359e74(0x4bd)](gameState[_0x359e74(0x4a9)][_0x359e74(0x48d)],2.5));},get 'stone'(){const _0xd41b21=a10_0x16d27a;return Math[_0xd41b21(0x435)](0x82*Math['pow'](gameState['buildingLevels'][_0xd41b21(0x48d)],2.5));},get 'iron'(){const _0x3df703=a10_0x16d27a;return Math[_0x3df703(0x435)](0x19*Math['pow'](gameState['buildingLevels'][_0x3df703(0x48d)],2.5));}},'farm':{get 'wood'(){const _0x11c8eb=a10_0x16d27a;return Math['round'](0x3e8*Math[_0x11c8eb(0x4bd)](gameState[_0x11c8eb(0x4a9)][_0x11c8eb(0x337)],2.5));},get 'stone'(){const _0x55146d=a10_0x16d27a;return Math[_0x55146d(0x435)](0xc8*Math[_0x55146d(0x4bd)](gameState['buildingLevels'][_0x55146d(0x337)],2.5));},get 'equipment'(){const _0x29ff3d=a10_0x16d27a;return Math[_0x29ff3d(0x435)](0x28*Math['pow'](gameState[_0x29ff3d(0x4a9)][_0x29ff3d(0x337)],2.5));}},'barracks':{get 'wood'(){const _0x2b44aa=a10_0x16d27a;return Math[_0x2b44aa(0x435)](0x3e8*Math[_0x2b44aa(0x4bd)](gameState[_0x2b44aa(0x4a9)][_0x2b44aa(0x204)],1.3));},get 'stone'(){const _0x2e3606=a10_0x16d27a;return Math[_0x2e3606(0x435)](0x190*Math[_0x2e3606(0x4bd)](gameState[_0x2e3606(0x4a9)][_0x2e3606(0x204)],1.3));},get 'iron'(){const _0x435772=a10_0x16d27a;return Math['round'](0xc8*Math[_0x435772(0x4bd)](gameState['buildingLevels'][_0x435772(0x204)],1.3));},get 'equipment'(){const _0x1de4a7=a10_0x16d27a;return Math[_0x1de4a7(0x435)](0x28*Math[_0x1de4a7(0x4bd)](gameState[_0x1de4a7(0x4a9)]['barracks'],1.3));}},'college':{get 'wood'(){const _0x5e5d44=a10_0x16d27a;return Math[_0x5e5d44(0x435)](0x3e8*Math['pow'](gameState[_0x5e5d44(0x4a9)][_0x5e5d44(0x2d8)],1.2));},get 'stone'(){const _0x3a18c5=a10_0x16d27a;return Math['round'](0x3e8*Math[_0x3a18c5(0x4bd)](gameState[_0x3a18c5(0x4a9)][_0x3a18c5(0x2d8)],1.2));},get 'iron'(){const _0x453120=a10_0x16d27a;return Math[_0x453120(0x435)](0x32*Math[_0x453120(0x4bd)](gameState['buildingLevels']['college'],1.2));},get 'equipment'(){const _0x574bbe=a10_0x16d27a;return Math[_0x574bbe(0x435)](0x1e*Math[_0x574bbe(0x4bd)](gameState[_0x574bbe(0x4a9)][_0x574bbe(0x2d8)],1.2));}},'bathHouse':{get 'wood'(){const _0xd83ef9=a10_0x16d27a;return Math[_0xd83ef9(0x435)](0x3e8*Math[_0xd83ef9(0x4bd)](gameState[_0xd83ef9(0x4a9)][_0xd83ef9(0x1ef)],1.2));},get 'stone'(){const _0xbfde49=a10_0x16d27a;return Math['round'](0x3e8*Math[_0xbfde49(0x4bd)](gameState[_0xbfde49(0x4a9)][_0xbfde49(0x1ef)],1.2));}},'commandPost':{get 'stone'(){const _0x2260ca=a10_0x16d27a;return Math[_0x2260ca(0x435)](0xfa0*Math[_0x2260ca(0x4bd)](gameState[_0x2260ca(0x4a9)][_0x2260ca(0x2d8)],1.2));},get 'iron'(){const _0x338a4c=a10_0x16d27a;return Math[_0x338a4c(0x435)](0x384*Math['pow'](gameState[_0x338a4c(0x4a9)]['college'],1.2));},get 'equipment'(){const _0x4e4b24=a10_0x16d27a;return Math[_0x4e4b24(0x435)](0x32*Math['pow'](gameState[_0x4e4b24(0x4a9)][_0x4e4b24(0x2d8)],1.2));}},'bloodBasin':{get 'stone'(){const _0x359565=a10_0x16d27a;return Math[_0x359565(0x435)](0x3e8*Math[_0x359565(0x4bd)](gameState['buildingLevels'][_0x359565(0x506)],1.3));},get 'equipment'(){const _0x75c1ea=a10_0x16d27a;return Math[_0x75c1ea(0x435)](0x3c*Math['pow'](gameState[_0x75c1ea(0x4a9)][_0x75c1ea(0x506)],1.3));},get 'blood'(){const _0x5e9f9c=a10_0x16d27a;return Math[_0x5e9f9c(0x435)](0x12c*Math[_0x5e9f9c(0x4bd)](gameState[_0x5e9f9c(0x4a9)]['bloodBasin'],1.3));}},'sacrificialAltar':{get 'stone'(){const _0x380507=a10_0x16d27a;return Math['round'](0x514*Math[_0x380507(0x4bd)](gameState['buildingLevels'][_0x380507(0x402)],1.3));},get 'equipment'(){const _0x454b98=a10_0x16d27a;return Math[_0x454b98(0x435)](0xc8*Math[_0x454b98(0x4bd)](gameState[_0x454b98(0x4a9)][_0x454b98(0x402)],1.3));},get 'blood'(){const _0x2aa250=a10_0x16d27a;return Math[_0x2aa250(0x435)](0x32*Math[_0x2aa250(0x4bd)](gameState[_0x2aa250(0x4a9)][_0x2aa250(0x402)],1.3));}},'herbalGarden':{get 'wood'(){const _0x1bb681=a10_0x16d27a;return Math[_0x1bb681(0x435)](0x384*Math[_0x1bb681(0x4bd)](gameState[_0x1bb681(0x4a9)][_0x1bb681(0x2d8)],1.2));},get 'stone'(){const _0x43682a=a10_0x16d27a;return Math[_0x43682a(0x435)](0xfa0*Math['pow'](gameState[_0x43682a(0x4a9)][_0x43682a(0x2d8)],1.2));},get 'equipment'(){const _0x2ea272=a10_0x16d27a;return Math['round'](0x32*Math[_0x2ea272(0x4bd)](gameState[_0x2ea272(0x4a9)]['college'],1.2));}},'alchemistHut':{get 'wood'(){const _0x405c40=a10_0x16d27a;return Math[_0x405c40(0x435)](0x384*Math[_0x405c40(0x4bd)](gameState[_0x405c40(0x4a9)][_0x405c40(0x2d8)],1.2));},get 'stone'(){const _0x5b2d08=a10_0x16d27a;return Math[_0x5b2d08(0x435)](0xfa0*Math['pow'](gameState[_0x5b2d08(0x4a9)][_0x5b2d08(0x2d8)],1.2));},get 'equipment'(){const _0x1aedd2=a10_0x16d27a;return Math['round'](0x32*Math[_0x1aedd2(0x4bd)](gameState['buildingLevels']['college'],1.2));}}};function updateBuildingPrices(){const _0x32901a=a10_0x16d27a;for(const _0xb80252 in buildingPrices){for(const _0x47689c in buildingPrices[_0xb80252]){}}for(const _0x1922bd in buildingUpgradePrices){for(const _0x5077c9 in buildingUpgradePrices[_0x1922bd]){}}for(const _0x272c88 in gameState['buildingLevels']){$('#'+_0x272c88+'-building-lvl')[_0x32901a(0x2df)]=gameState[_0x32901a(0x4a9)][_0x272c88]['toLocaleString']('en');}}updateBuildingPrices();let isSacrificeAnimation=![],combatSpeedBtn=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x1ed));gameState[a10_0x16d27a(0x37a)]=0xa,combatSpeedBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),()=>{const _0x5f43ee=a10_0x16d27a;let _0x231b9b=0x0;for(let _0x5f100d=0x0;_0x5f100d<Object[_0x5f43ee(0x222)](gameState[_0x5f43ee(0x500)])[_0x5f43ee(0x425)];_0x5f100d++){gameState[_0x5f43ee(0x500)]['t'+_0x5f100d]===_0x5f43ee(0x1da)&&_0x231b9b++;}if(gameState[_0x5f43ee(0x37a)]===0xa&&_0x231b9b>=0x1)gameState['combatInterval']=0x8;else{if(gameState[_0x5f43ee(0x37a)]===0x8&&_0x231b9b>=0x2)gameState[_0x5f43ee(0x37a)]=0x5;else{if(gameState[_0x5f43ee(0x37a)]===0x5&&_0x231b9b>=0x3)gameState['combatInterval']=0x2;else gameState[_0x5f43ee(0x37a)]===0x2&&_0x231b9b===0x4?gameState[_0x5f43ee(0x37a)]=0x1:gameState[_0x5f43ee(0x37a)]=0xa;}}updateCombatSpeedBtn();});function updateCombatSpeedBtn(){const _0x21fb80=a10_0x16d27a;if(gameState[_0x21fb80(0x37a)]===0x8)combatSpeedBtn[_0x21fb80(0x2df)]=_0x21fb80(0x2a9);else{if(gameState[_0x21fb80(0x37a)]===0x5)combatSpeedBtn[_0x21fb80(0x2df)]='2x';else{if(gameState[_0x21fb80(0x37a)]===0x2)combatSpeedBtn[_0x21fb80(0x2df)]='5x';else gameState[_0x21fb80(0x37a)]===0x1?combatSpeedBtn['innerText']=_0x21fb80(0x235):combatSpeedBtn[_0x21fb80(0x2df)]='1x';}}}const increaseCivilUnitBtns=document[a10_0x16d27a(0x4a2)](a10_0x16d27a(0x436)),decreaseCivilUnitBtns=document['getElementsByClassName'](a10_0x16d27a(0x414)),increaseArmyUnitBtns=document[a10_0x16d27a(0x4a2)]('increase-army-unit-button'),decreaseArmyUnitBtns=document['getElementsByClassName']('decrease-army-unit-button');export function updateUnlocks(){const _0x3d279d=a10_0x16d27a;gameState[_0x3d279d(0x476)][_0x3d279d(0x2b7)]>=0x3&&(gameState[_0x3d279d(0x27d)]=!![],gameState[_0x3d279d(0x43f)]=!![],gameState[_0x3d279d(0x467)]['hut']=!![]);gameState[_0x3d279d(0x3c3)]>=0x1&&(gameState['buildingsUnlocked'][_0x3d279d(0x387)]=!![]);gameState[_0x3d279d(0x4e4)]>=0x1&&(gameState[_0x3d279d(0x225)]=!![],gameState[_0x3d279d(0x30b)]=!![],gameState[_0x3d279d(0x467)][_0x3d279d(0x2f7)]=!![]);gameState[_0x3d279d(0x4bc)]>=0x1&&(gameState['buildingsUnlocked'][_0x3d279d(0x305)]=!![],gameState[_0x3d279d(0x467)][_0x3d279d(0x360)]=!![]);gameState[_0x3d279d(0x4a6)]>=0x1&&(gameState[_0x3d279d(0x1fd)]=!![],gameState['buildingsUnlocked'][_0x3d279d(0x48d)]=!![]);gameState[_0x3d279d(0x358)]>=0x1&&(gameState['isBlacksmithUnlocked']=!![],gameState[_0x3d279d(0x432)]=!![],gameState[_0x3d279d(0x467)]['farm']=!![],gameState['buildingsUnlocked']['college']=!![],gameState[_0x3d279d(0x467)][_0x3d279d(0x204)]=!![]);gameState['farmAmount']>=0x1&&(gameState['isFarmerUnlocked']=!![]);gameState[_0x3d279d(0x4a3)]>=0x1&&(gameState[_0x3d279d(0x479)]=!![]);gameState[_0x3d279d(0x1cc)]>=0x1&&(gameState[_0x3d279d(0x20f)]=!![],gameState[_0x3d279d(0x403)]=!![],gameState[_0x3d279d(0x304)]=!![]);gameState['herbalGardenAmount']>=0x1&&(gameState[_0x3d279d(0x1e2)]=!![]);for(const _0x5ca99b of[_0x3d279d(0x506),_0x3d279d(0x402),_0x3d279d(0x447),_0x3d279d(0x252),_0x3d279d(0x3cc),'collegeOfFrost','herbalGarden',_0x3d279d(0x32c)]){gameState[_0x3d279d(0x3f7)]['includes'](_0x5ca99b)&&(gameState[_0x3d279d(0x467)][_0x5ca99b]=!![]);}for(const _0x2127e8 of[_0x3d279d(0x1da),_0x3d279d(0x1ef)]){soulState[_0x3d279d(0x26a)]['includes'](_0x2127e8)&&(gameState['buildingsUnlocked'][_0x2127e8]=!![]);}gameState[_0x3d279d(0x27d)]===!![]?$(_0x3d279d(0x28b))[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x44c)):$('#wood-resource-card')[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c));gameState['isStoneUnlocked']===!![]?$(_0x3d279d(0x443))[_0x3d279d(0x1cf)]['remove']('display-none'):$(_0x3d279d(0x443))[_0x3d279d(0x1cf)]['add']('display-none');gameState[_0x3d279d(0x1fd)]===!![]?($(_0x3d279d(0x2a4))[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x44c)),$(_0x3d279d(0x230))[_0x3d279d(0x1cf)]['remove'](_0x3d279d(0x44c))):($(_0x3d279d(0x2a4))[_0x3d279d(0x1cf)]['add'](_0x3d279d(0x44c)),$('#upgrade-iron-storage-card')[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c)));gameState[_0x3d279d(0x432)]===!![]?($('#equipment-resource-card')[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x44c)),$('#upgrade-equipment-storage-card')[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x44c))):($(_0x3d279d(0x250))['classList'][_0x3d279d(0x509)](_0x3d279d(0x44c)),$('#upgrade-equipment-storage-card')['classList'][_0x3d279d(0x509)](_0x3d279d(0x44c)));gameState[_0x3d279d(0x403)]===!![]?$(_0x3d279d(0x39f))[_0x3d279d(0x1cf)]['remove'](_0x3d279d(0x44c)):$('#knowledge-resource-card')[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c));gameState[_0x3d279d(0x28c)]===!![]?$(_0x3d279d(0x48b))[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x44c)):$(_0x3d279d(0x48b))[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c));gameState[_0x3d279d(0x35e)]===!![]?$('#magic-resource-card')[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x44c)):$(_0x3d279d(0x283))[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c));gameState[_0x3d279d(0x43f)]===!![]?$('#woodcutter-card')[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x44c)):$(_0x3d279d(0x1ea))[_0x3d279d(0x1cf)]['add']('display-none');gameState[_0x3d279d(0x225)]===!![]?$(_0x3d279d(0x49b))[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x44c)):$(_0x3d279d(0x49b))['classList'][_0x3d279d(0x509)]('display-none');gameState[_0x3d279d(0x456)]===!![]?$(_0x3d279d(0x39d))[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x44c)):$(_0x3d279d(0x39d))[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c));gameState[_0x3d279d(0x1ec)]===!![]?$(_0x3d279d(0x36a))[_0x3d279d(0x1cf)]['remove'](_0x3d279d(0x44c)):$('#blacksmith-card')[_0x3d279d(0x1cf)]['add'](_0x3d279d(0x44c));gameState[_0x3d279d(0x20f)]===!![]?$('#scholar-card')['classList'][_0x3d279d(0x3fe)](_0x3d279d(0x44c)):$(_0x3d279d(0x39a))[_0x3d279d(0x1cf)][_0x3d279d(0x509)]('display-none');gameState['isHerbalistUnlocked']===!![]?$(_0x3d279d(0x441))[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x44c)):$('#herbalist-card')[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c));gameState[_0x3d279d(0x467)][_0x3d279d(0x4b5)]===!![]?($(_0x3d279d(0x251))[_0x3d279d(0x1cf)]['remove'](_0x3d279d(0x44c)),$('#buildings')[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x44c))):($(_0x3d279d(0x251))[_0x3d279d(0x1cf)]['add'](_0x3d279d(0x44c)),$(_0x3d279d(0x3b8))[_0x3d279d(0x1cf)]['add']('display-none'));for(const _0x3eb0ea in gameState[_0x3d279d(0x467)]){const _0x1bca3e=$('#'+_0x3eb0ea+_0x3d279d(0x378));_0x1bca3e[_0x3d279d(0x1cf)][_0x3d279d(0x20a)](_0x3d279d(0x44c),gameState['buildingsUnlocked'][_0x3eb0ea]!==!![]);}updateBuildPage(buildPageNo);gameState[_0x3d279d(0x479)]===!![]?($(_0x3d279d(0x2bf))['classList'][_0x3d279d(0x3fe)](_0x3d279d(0x44c)),Array[_0x3d279d(0x2b3)](attackBtns)['forEach'](function(_0x41e538){const _0x3c2c39=_0x3d279d;_0x41e538['parentElement'][_0x3c2c39(0x1cf)][_0x3c2c39(0x3fe)](_0x3c2c39(0x44c));}),document[_0x3d279d(0x326)](_0x3d279d(0x24b))[_0x3d279d(0x471)](_0x440de=>_0x440de['classList'][_0x3d279d(0x509)](_0x3d279d(0x2c4)))):($(_0x3d279d(0x2bf))[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c)),Array[_0x3d279d(0x2b3)](attackBtns)[_0x3d279d(0x471)](function(_0x25ee2e){const _0x4a4d2b=_0x3d279d;_0x25ee2e['parentElement'][_0x4a4d2b(0x1cf)][_0x4a4d2b(0x509)](_0x4a4d2b(0x44c));}),document[_0x3d279d(0x326)](_0x3d279d(0x24b))[_0x3d279d(0x471)](_0x585faa=>_0x585faa[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)]('army-unlocked-population-container')));Object[_0x3d279d(0x2ca)](gameState[_0x3d279d(0x467)])[_0x3d279d(0x273)](_0x54f202=>_0x54f202)[_0x3d279d(0x425)]>buildPageMaxItems?$(_0x3d279d(0x44d))[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x44c)):$(_0x3d279d(0x44d))[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c));gameState[_0x3d279d(0x304)]===!![]?$('#tech-tree-button')[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)]('display-none'):$(_0x3d279d(0x439))[_0x3d279d(0x1cf)][_0x3d279d(0x509)]('display-none');if(soulState[_0x3d279d(0x270)]>0x1&&gameState[_0x3d279d(0x3d9)]['length']!==0x40)prestigeCounterContainer[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)]('display-none');else gameState[_0x3d279d(0x3d9)][_0x3d279d(0x425)]===0x40?(prestigeBtn[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x44c)),prestigeCounterContainer['classList'][_0x3d279d(0x509)](_0x3d279d(0x44c))):(prestigeCounterContainer[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c)),prestigeBtn[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c)));const _0x2efb34=document['querySelectorAll'](_0x3d279d(0x3a0));for(const _0x390887 of['fire',_0x3d279d(0x49c),_0x3d279d(0x3d4)]){gameState[_0x3d279d(0x3f7)][_0x3d279d(0x25d)](_0x390887+_0x3d279d(0x3ab))?_0x2efb34[_0x3d279d(0x471)](_0x47c16d=>{const _0x37d8f8=_0x3d279d;_0x47c16d[_0x37d8f8(0x490)][_0x37d8f8(0x3ed)]===_0x390887+_0x37d8f8(0x3ab)&&_0x47c16d[_0x37d8f8(0x1cf)][_0x37d8f8(0x3fe)](_0x37d8f8(0x44c));}):_0x2efb34['forEach'](_0x2ab9d0=>{const _0x1b14cf=_0x3d279d;_0x2ab9d0[_0x1b14cf(0x490)]['scoutingType']===_0x390887+_0x1b14cf(0x3ab)&&_0x2ab9d0[_0x1b14cf(0x1cf)]['add'](_0x1b14cf(0x44c));});}gameState[_0x3d279d(0x1cd)]||gameState[_0x3d279d(0x304)]?document[_0x3d279d(0x460)](_0x3d279d(0x28e))['classList']['remove'](_0x3d279d(0x44c)):document[_0x3d279d(0x460)](_0x3d279d(0x28e))[_0x3d279d(0x1cf)]['add']('display-none');soulState[_0x3d279d(0x270)]>0x1&&(gameState['isChampionMenuUnlocked']=!![]);gameState[_0x3d279d(0x1cd)]===!![]?championMenuBtn['classList']['remove'](_0x3d279d(0x44c)):championMenuBtn['classList']['add'](_0x3d279d(0x44c));soulState[_0x3d279d(0x270)]>0x1&&(gameState[_0x3d279d(0x304)]=!![]);soulState[_0x3d279d(0x26a)][_0x3d279d(0x25d)](_0x3d279d(0x2e5))?document['querySelector']('#bag-btn-2')[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x44c)):document[_0x3d279d(0x460)](_0x3d279d(0x347))[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c));soulState[_0x3d279d(0x26a)][_0x3d279d(0x25d)](_0x3d279d(0x28f))?document[_0x3d279d(0x460)](_0x3d279d(0x2b4))['classList']['remove'](_0x3d279d(0x44c)):document[_0x3d279d(0x460)](_0x3d279d(0x2b4))[_0x3d279d(0x1cf)][_0x3d279d(0x509)]('display-none');soulState[_0x3d279d(0x26a)]['includes'](_0x3d279d(0x39e))?shopItems[_0x3d279d(0x471)](_0x343c65=>{const _0x3d6162=_0x3d279d;_0x343c65[_0x3d6162(0x490)][_0x3d6162(0x1cb)]===_0x3d6162(0x286)&&_0x343c65[_0x3d6162(0x1cf)][_0x3d6162(0x3fe)](_0x3d6162(0x44c));}):shopItems['forEach'](_0x1d51cb=>{const _0x47169d=_0x3d279d;_0x1d51cb[_0x47169d(0x490)]['itemName']===_0x47169d(0x286)&&_0x1d51cb[_0x47169d(0x1cf)][_0x47169d(0x509)]('display-none');});soulState[_0x3d279d(0x26a)][_0x3d279d(0x25d)](_0x3d279d(0x286))?document['querySelector']('.potion-recipe-book-btn')[_0x3d279d(0x1cf)]['remove'](_0x3d279d(0x44c)):document['querySelector'](_0x3d279d(0x4b0))[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c));soulState[_0x3d279d(0x26a)][_0x3d279d(0x25d)](_0x3d279d(0x29b))?document['querySelector']('.legend-container')['classList'][_0x3d279d(0x3fe)]('display-none'):document[_0x3d279d(0x460)](_0x3d279d(0x3a4))[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c));soulState['shopItemsOwned'][_0x3d279d(0x25d)](_0x3d279d(0x417))?$('#calc-win-chance-btn')['classList'][_0x3d279d(0x3fe)](_0x3d279d(0x44c)):$(_0x3d279d(0x314))['classList'][_0x3d279d(0x509)](_0x3d279d(0x44c));soulState[_0x3d279d(0x26a)][_0x3d279d(0x25d)](_0x3d279d(0x26d))?$('#retreat-button')[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x44c)):$(_0x3d279d(0x374))[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c));soulState[_0x3d279d(0x26a)]['includes'](_0x3d279d(0x2d0))?$(_0x3d279d(0x1f0))[_0x3d279d(0x1cf)]['remove'](_0x3d279d(0x44c)):$(_0x3d279d(0x1f0))[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c));soulState['shopItemsOwned'][_0x3d279d(0x25d)](_0x3d279d(0x26b))?optimizeForBonusBtns['forEach'](_0x34c39a=>_0x34c39a[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x410))):optimizeForBonusBtns['forEach'](_0x19bc4f=>_0x19bc4f['classList'][_0x3d279d(0x509)](_0x3d279d(0x410)));soulState[_0x3d279d(0x26a)][_0x3d279d(0x25d)](_0x3d279d(0x213))?bookBtns[_0x3d279d(0x471)](_0xb3646e=>{const _0x45bd13=_0x3d279d;_0xb3646e['dataset'][_0x45bd13(0x46c)]==='bookOfMages'&&_0xb3646e['classList'][_0x45bd13(0x3fe)](_0x45bd13(0x44c));}):bookBtns[_0x3d279d(0x471)](_0x26f170=>{const _0x5b735a=_0x3d279d;_0x26f170[_0x5b735a(0x490)]['techTree']===_0x5b735a(0x213)&&_0x26f170['classList']['add'](_0x5b735a(0x44c));});soulState['shopItemsOwned'][_0x3d279d(0x25d)](_0x3d279d(0x39e))?bookBtns[_0x3d279d(0x471)](_0x668beb=>{const _0x326d74=_0x3d279d;_0x668beb[_0x326d74(0x490)][_0x326d74(0x46c)]===_0x326d74(0x39e)&&_0x668beb['classList'][_0x326d74(0x3fe)](_0x326d74(0x44c));}):bookBtns[_0x3d279d(0x471)](_0xd82c4d=>{const _0x16dcd2=_0x3d279d;_0xd82c4d[_0x16dcd2(0x490)][_0x16dcd2(0x46c)]==='bookOfAlchemy'&&_0xd82c4d[_0x16dcd2(0x1cf)][_0x16dcd2(0x509)]('display-none');});soulState['shopItemsOwned'][_0x3d279d(0x25d)](_0x3d279d(0x1ef))?$(_0x3d279d(0x2ae))[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x44c)):$(_0x3d279d(0x2ae))['classList'][_0x3d279d(0x509)]('display-none');soulState['shopItemsOwned'][_0x3d279d(0x25d)](_0x3d279d(0x1da))?$(_0x3d279d(0x36d))[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x44c)):$(_0x3d279d(0x36d))[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c));for(const _0xbdae1c of[_0x3d279d(0x244),_0x3d279d(0x2d4)]){setUnitVisibility(_0xbdae1c,soulState[_0x3d279d(0x26a)][_0x3d279d(0x25d)](_0xbdae1c));}let _0xfdfd07=0x0;for(let _0x2213c3=0x0;_0x2213c3<Object['keys'](gameState[_0x3d279d(0x500)])[_0x3d279d(0x425)];_0x2213c3++){gameState[_0x3d279d(0x500)]['t'+_0x2213c3]===_0x3d279d(0x1da)&&_0xfdfd07++;}combatSpeedBtn[_0x3d279d(0x1cf)]['remove'](_0x3d279d(0x44c));if(_0xfdfd07===0x1&&gameState[_0x3d279d(0x37a)]<0x8)gameState[_0x3d279d(0x37a)]=0x8;else{if(_0xfdfd07===0x2&&gameState[_0x3d279d(0x37a)]<0x5)gameState[_0x3d279d(0x37a)]=0x5;else{if(_0xfdfd07===0x3&&gameState[_0x3d279d(0x37a)]<0x2)gameState[_0x3d279d(0x37a)]=0x2;else _0xfdfd07===0x4&&(document[_0x3d279d(0x460)](_0x3d279d(0x36d))['classList'][_0x3d279d(0x509)](_0x3d279d(0x390)),document[_0x3d279d(0x460)](_0x3d279d(0x440))[_0x3d279d(0x1cf)][_0x3d279d(0x509)]('building-max'));}}_0xfdfd07!==0x4&&(document['querySelector']('#commandPost-card')['classList'][_0x3d279d(0x3fe)](_0x3d279d(0x390)),document['querySelector'](_0x3d279d(0x440))[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x390)));_0xfdfd07===0x0&&(combatSpeedBtn[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c)),gameState[_0x3d279d(0x37a)]=0xa);updateCombatSpeedBtn(),window[_0x3d279d(0x3d6)]=updateUnlocks;let _0x4495c2=0x0;for(let _0x4d19b=0x0;_0x4d19b<Object[_0x3d279d(0x222)](gameState[_0x3d279d(0x500)])['length'];_0x4d19b++){gameState[_0x3d279d(0x500)]['t'+_0x4d19b]==='alchemistHut'&&_0x4495c2++,_0x4495c2===0x1?(document[_0x3d279d(0x460)](_0x3d279d(0x281))['classList'][_0x3d279d(0x509)]('building-max'),document[_0x3d279d(0x460)](_0x3d279d(0x272))[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x390))):(document[_0x3d279d(0x460)](_0x3d279d(0x281))[_0x3d279d(0x1cf)]['remove'](_0x3d279d(0x390)),document['querySelector'](_0x3d279d(0x272))[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)](_0x3d279d(0x390)));}let _0x2565fd=0x0;for(let _0x3df39b=0x0;_0x3df39b<Object['keys'](gameState[_0x3d279d(0x500)])['length'];_0x3df39b++){gameState[_0x3d279d(0x500)]['t'+_0x3df39b]===_0x3d279d(0x269)&&_0x2565fd++,_0x2565fd>=0x9?(document[_0x3d279d(0x460)]('#herbalGarden-card')[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x390)),document[_0x3d279d(0x460)](_0x3d279d(0x2ba))[_0x3d279d(0x1cf)][_0x3d279d(0x509)]('building-max')):(document['querySelector'](_0x3d279d(0x46e))[_0x3d279d(0x1cf)][_0x3d279d(0x3fe)]('building-max'),document[_0x3d279d(0x460)](_0x3d279d(0x2ba))['classList'][_0x3d279d(0x3fe)]('building-max'));}gardenPlots['forEach'](_0x427bf7=>{const _0x760fed=_0x3d279d;_0x427bf7[_0x760fed(0x490)][_0x760fed(0x4f0)]<=_0x2565fd?_0x427bf7[_0x760fed(0x1cf)][_0x760fed(0x3fe)](_0x760fed(0x2fe)):(_0x427bf7[_0x760fed(0x1cf)][_0x760fed(0x509)]('plot-locked'),gameState[_0x760fed(0x3a7)]['p'+_0x427bf7['dataset'][_0x760fed(0x4f0)]][_0x760fed(0x4c4)]=null,gameState[_0x760fed(0x3a7)]['p'+_0x427bf7[_0x760fed(0x490)][_0x760fed(0x4f0)]]['progress']=0x0,loadPlants());});let _0x1364b1=document[_0x3d279d(0x4a2)]('decrease-civil-unit-button'),_0x25f2b1=document['getElementsByClassName'](_0x3d279d(0x4ac));window[_0x3d279d(0x2ee)]=function _0x44676a(){const _0x53122a=_0x3d279d;Array[_0x53122a(0x2b3)](_0x1364b1)[_0x53122a(0x471)](_0x2442fd=>{const _0x158e5f=_0x53122a;_0x2442fd[_0x158e5f(0x1cf)]['remove'](_0x158e5f(0x1ce)),_0x2442fd[_0x158e5f(0x2df)]=_0x158e5f(0x3c8);}),Array[_0x53122a(0x2b3)](_0x25f2b1)[_0x53122a(0x471)](_0x48876a=>{const _0x585d90=_0x53122a;_0x48876a[_0x585d90(0x1cf)][_0x585d90(0x3fe)](_0x585d90(0x1ce)),_0x48876a[_0x585d90(0x2df)]='Retire';});};gameState['perksUnlocked'][_0x3d279d(0x25d)](_0x3d279d(0x499))?(Array[_0x3d279d(0x2b3)](_0x1364b1)[_0x3d279d(0x471)](function(_0x171d3c){const _0x1b7861=_0x3d279d;_0x171d3c['classList'][_0x1b7861(0x509)](_0x1b7861(0x1ce)),_0x171d3c[_0x1b7861(0x2df)]=_0x1b7861(0x42f),isSacrificeAnimation===![]&&(_0x171d3c[_0x1b7861(0x481)][_0x1b7861(0x2f6)]=_0x1b7861(0x3b3),setTimeout(()=>{const _0x4d61ae=_0x1b7861;_0x171d3c[_0x4d61ae(0x481)][_0x4d61ae(0x2f6)]='';},0x3e8));}),Array[_0x3d279d(0x2b3)](_0x25f2b1)[_0x3d279d(0x471)](function(_0xc90fe3){const _0x4db0ab=_0x3d279d;_0xc90fe3[_0x4db0ab(0x1cf)][_0x4db0ab(0x509)](_0x4db0ab(0x1ce)),_0xc90fe3[_0x4db0ab(0x2df)]=_0x4db0ab(0x42f),isSacrificeAnimation===![]&&(_0xc90fe3[_0x4db0ab(0x481)][_0x4db0ab(0x2f6)]='hit\x200.5s\x20ease-in-out',setTimeout(()=>{const _0x15a063=_0x4db0ab;_0xc90fe3[_0x15a063(0x481)][_0x15a063(0x2f6)]='';},0x3e8));}),document['getElementById'](_0x3d279d(0x4f9))[_0x3d279d(0x1cf)]['remove'](_0x3d279d(0x44c)),isSacrificeAnimation=!![]):(Array['from'](_0x1364b1)[_0x3d279d(0x471)](function(_0xec610b){const _0x234df6=_0x3d279d;_0xec610b[_0x234df6(0x1cf)][_0x234df6(0x3fe)](_0x234df6(0x1ce)),_0xec610b[_0x234df6(0x2df)]='Retire';}),document[_0x3d279d(0x299)](_0x3d279d(0x4f9))[_0x3d279d(0x1cf)][_0x3d279d(0x509)](_0x3d279d(0x44c)));setUnitVisibility(_0x3d279d(0x1d1),getPerkCount(_0x3d279d(0x1d1))>0x0),setUnitVisibility(_0x3d279d(0x2c9),getPerkCount(_0x3d279d(0x2c9))>0x0),setUnitVisibility(_0x3d279d(0x296),getPerkCount(_0x3d279d(0x296))>0x0);gameState['armyUnits'][_0x3d279d(0x1d1)]>0x0&&(gameState[_0x3d279d(0x236)]=!![]);gameState[_0x3d279d(0x27c)][_0x3d279d(0x2c9)]>0x0&&(gameState[_0x3d279d(0x2a7)]=!![]);gameState[_0x3d279d(0x27c)][_0x3d279d(0x296)]>0x0&&(gameState[_0x3d279d(0x3ad)]=!![]);gameState[_0x3d279d(0x236)]&&setUnitVisibility(_0x3d279d(0x1d1),!![]);gameState[_0x3d279d(0x2a7)]&&setUnitVisibility('succubus',!![]);gameState['isBloodDemonUnlocked']&&setUnitVisibility(_0x3d279d(0x296),!![]);for(const _0x353673 in collegeUnits){setUnitVisibility(collegeUnits[_0x353673],gameState[_0x3d279d(0x3f7)][_0x3d279d(0x25d)](_0x353673));}for(const _0x577b40 of['druid',_0x3d279d(0x30e)]){setUnitVisibility(_0x577b40,gameState['perksUnlocked']['includes'](_0x577b40));}gameState[_0x3d279d(0x3f7)][_0x3d279d(0x25d)](_0x3d279d(0x4fb))&&(eventTerminate(),showEvent(_0x3d279d(0x4fb))),Array[_0x3d279d(0x2b3)](increaseArmyUnitBtns)['forEach'](_0x1f670f=>{const _0x4c82b9=_0x3d279d;_0x1f670f[_0x4c82b9(0x490)][_0x4c82b9(0x45f)]==='imp'&&(gameState[_0x4c82b9(0x3f7)][_0x4c82b9(0x25d)](_0x4c82b9(0x1d1))?_0x1f670f['classList'][_0x4c82b9(0x3fe)]('display-none'):_0x1f670f['classList'][_0x4c82b9(0x509)](_0x4c82b9(0x44c))),_0x1f670f[_0x4c82b9(0x490)][_0x4c82b9(0x45f)]===_0x4c82b9(0x2c9)&&(gameState[_0x4c82b9(0x3f7)][_0x4c82b9(0x25d)]('succubus')?_0x1f670f[_0x4c82b9(0x1cf)][_0x4c82b9(0x3fe)](_0x4c82b9(0x44c)):_0x1f670f[_0x4c82b9(0x1cf)]['add'](_0x4c82b9(0x44c))),_0x1f670f[_0x4c82b9(0x490)][_0x4c82b9(0x45f)]===_0x4c82b9(0x296)&&(gameState[_0x4c82b9(0x3f7)]['includes'](_0x4c82b9(0x296))?_0x1f670f[_0x4c82b9(0x1cf)]['remove'](_0x4c82b9(0x44c)):_0x1f670f[_0x4c82b9(0x1cf)][_0x4c82b9(0x509)](_0x4c82b9(0x44c)));}),updateUnlockedPlants();}function setUnitVisibility(_0x501571,_0xd8a9d0){const _0x9d7ba6=a10_0x16d27a,_0x13083a=document[_0x9d7ba6(0x460)](_0x9d7ba6(0x39c)+_0x501571+'\x22]'),_0x8fb892=document[_0x9d7ba6(0x460)](_0x9d7ba6(0x4cb)+_0x501571+'\x22]');_0x13083a['classList'][_0x9d7ba6(0x20a)](_0x9d7ba6(0x44c),!_0xd8a9d0),_0x8fb892[_0x9d7ba6(0x1cf)][_0x9d7ba6(0x20a)](_0x9d7ba6(0x44c),!_0xd8a9d0);}const collegeUnits={'collegeOfFire':a10_0x16d27a(0x4c3),'collegeOfFrost':a10_0x16d27a(0x292),'collegeOfArcanum':a10_0x16d27a(0x392)};function getCollegeAction(_0x3fb9bc){const _0xc70c8b=a10_0x16d27a,_0x467619=collegeUnits[_0x3fb9bc];return{'building':_0x3fb9bc,'readyText':_0xc70c8b(0x232),get 'autoPerform'(){const _0x9976cc=_0xc70c8b;return gameState['perksUnlocked'][_0x9976cc(0x25d)](_0x467619[_0x9976cc(0x228)](/Mage$/,'')+'TalentScouting')?gameState[_0x9976cc(0x36c)][_0x3fb9bc]:![];},'performAction':()=>trainMage(_0x3fb9bc,_0x467619),get 'duration'(){const _0x222fab=_0xc70c8b;return(gameState[_0x222fab(0x3f7)][_0x222fab(0x25d)](_0x222fab(0x356)+capitalizeFirstLetter(_0x3fb9bc))?0x12c:0x258)*ticksPerSecond;}};}const buildingActions={'summonRandomDemon':{'building':'bloodPortal','readyText':a10_0x16d27a(0x29d),'performAction':summonRandomDemon,get 'duration'(){const _0x305fd7=a10_0x16d27a;return(gameState[_0x305fd7(0x3f7)]['includes'](_0x305fd7(0x434))?0x12c:0x258)*ticksPerSecond;}},'trainFireMage':getCollegeAction(a10_0x16d27a(0x252)),'trainFrostMage':getCollegeAction(a10_0x16d27a(0x454)),'trainArcaneMage':getCollegeAction('collegeOfArcanum')};for(const action in buildingActions){const actionBtn=document[a10_0x16d27a(0x460)]('#'+buildingActions[action][a10_0x16d27a(0x1fc)]+'-menu\x20.building-action-button');actionBtn['addEventListener'](a10_0x16d27a(0x3b9),()=>{const _0x328286=a10_0x16d27a,{building:_0x2ade7b,performAction:_0x1416fd,duration:_0x5f2719}=buildingActions[action];if(gameState[_0x2ade7b+_0x328286(0x395)]>=_0x5f2719)_0x1416fd();});}function updateBuildingActions(){const _0x1d1dc9=a10_0x16d27a;for(const _0x25099d in buildingActions){const {building:_0x4fffe6,duration:_0xc8fe98,readyText:_0x14b3cf,autoPerform:_0x582666,performAction:_0x434699}=buildingActions[_0x25099d],_0x540572=document[_0x1d1dc9(0x460)]('#'+_0x4fffe6+'-menu');if(gameState[_0x4fffe6+'Amount']>0x0){const _0x44457f=_0x540572[_0x1d1dc9(0x460)](_0x1d1dc9(0x3bc)),_0x23fde9=_0x540572[_0x1d1dc9(0x460)](_0x1d1dc9(0x2fd)),_0x1651a9=gameState[_0x4fffe6+'Counter']>=_0xc8fe98,_0xfd2171='image_files/'+_0x4fffe6+(_0x1651a9?_0x1d1dc9(0x293):'')+_0x1d1dc9(0x462),_0x149c41=Math['floor'](gameState[_0x4fffe6+_0x1d1dc9(0x395)]*0x64/_0xc8fe98)+'%';_0x44457f[_0x1d1dc9(0x481)][_0x1d1dc9(0x277)]=_0x149c41;_0x1651a9?(_0x44457f[_0x1d1dc9(0x1cf)][_0x1d1dc9(0x509)](_0x1d1dc9(0x245)),_0x23fde9[_0x1d1dc9(0x2df)]=_0x14b3cf):(gameState[_0x4fffe6+_0x1d1dc9(0x395)]++,_0x44457f[_0x1d1dc9(0x1cf)]['remove'](_0x1d1dc9(0x245)),_0x23fde9[_0x1d1dc9(0x2df)]=_0x149c41);for(const {id:_0xb7cb2e}of tileElements){if(gameState['tiles'][_0xb7cb2e]===_0x4fffe6){const _0x4ad043=document[_0x1d1dc9(0x299)](_0xb7cb2e+_0x1d1dc9(0x35d))[_0x1d1dc9(0x1d3)];if(_0x4ad043[_0x1d1dc9(0x3fb)][_0x1d1dc9(0x483)][_0x1d1dc9(0x367)]!==_0xfd2171)_0x4ad043[_0x1d1dc9(0x483)]=_0xfd2171;}}_0x1651a9&&_0x582666&&_0x434699();}}}function summonRandomDemon(){const _0x43dd4a=a10_0x16d27a;if(maxPopulation[_0x43dd4a(0x49a)]-gameState['armyPopulation']>=gameState[_0x43dd4a(0x4eb)]){gameState['bloodPortalCounter']=0x0;for(let _0xc24e6a=0x0;_0xc24e6a<gameState[_0x43dd4a(0x4eb)];_0xc24e6a++){let _0x55239d=Math[_0x43dd4a(0x45c)]()*0x3;if(_0x55239d>0x0&&_0x55239d<0x1)gameState['armyUnits']['imp']++;else _0x55239d>0x1&&_0x55239d<0x2?gameState[_0x43dd4a(0x27c)][_0x43dd4a(0x2c9)]++:gameState[_0x43dd4a(0x27c)][_0x43dd4a(0x296)]++;}}updateUnlocks();}function trainMage(_0x257586,_0x52000a){const _0x3789c8=a10_0x16d27a,_0x5cf49f=gameState[_0x257586+'Amount'];gameState[_0x3789c8(0x476)]['scholar']>=_0x5cf49f&&gameState['armyPopulation']+_0x5cf49f<=maxPopulation['army']&&(gameState[_0x257586+_0x3789c8(0x395)]=0x0,gameState[_0x3789c8(0x476)]['scholar']-=_0x5cf49f,gameState[_0x3789c8(0x27c)][_0x52000a]+=_0x5cf49f);}const settingsBtn=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x45b)),settingsMenu=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x4bf)),settingsMenuContent=document[a10_0x16d27a(0x460)]('.settings-menu-content-container'),closeSettingsMenuBtn=document[a10_0x16d27a(0x460)]('.close-settings-button');settingsBtn[a10_0x16d27a(0x3ff)]('click',openSettings),closeSettingsMenuBtn['addEventListener']('click',closeSettings);function openSettings(){const _0x28234f=a10_0x16d27a;settingsMenu['classList'][_0x28234f(0x3fe)](_0x28234f(0x44c));}function closeSettings(){const _0x5299fd=a10_0x16d27a;settingsMenu[_0x5299fd(0x1cf)][_0x5299fd(0x509)](_0x5299fd(0x44c)),document[_0x5299fd(0x460)]('.import-error-message')[_0x5299fd(0x2df)]='';}let clickedSettingsMenuContent=![];settingsMenu[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),()=>{clickedSettingsMenuContent?clickedSettingsMenuContent=![]:closeSettings();}),settingsMenuContent[a10_0x16d27a(0x3ff)]('click',()=>{clickedSettingsMenuContent=!![];}),attachClickSaveHandlers(_0x29f556=>{const _0x3ca75c=a10_0x16d27a;if(_0x29f556[_0x3ca75c(0x25c)])soulState=_0x29f556[_0x3ca75c(0x33a)][_0x3ca75c(0x3bd)],gameState=_0x29f556['data'][_0x3ca75c(0x38c)],resetUI();else{let _0x213b86=_0x29f556['reason'];console[_0x3ca75c(0x406)](_0x213b86),document['querySelector'](_0x3ca75c(0x501))['innerText']=_0x213b86;}});const resetGameBtn=document['getElementById'](a10_0x16d27a(0x40f)),confirmResetGameBtn=document['getElementById']('confirm-reset-game'),abandonResetGameBtn=document[a10_0x16d27a(0x299)](a10_0x16d27a(0x2fa));resetGameBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),function(){const _0x32ed0a=a10_0x16d27a;document['getElementById'](_0x32ed0a(0x3ca))[_0x32ed0a(0x1cf)][_0x32ed0a(0x3fe)](_0x32ed0a(0x44c));}),confirmResetGameBtn['addEventListener'](a10_0x16d27a(0x3b9),fullReset);function resetGame(){const _0x452b5b=a10_0x16d27a;gameState=JSON['parse'](JSON[_0x452b5b(0x4c7)](originalGameState)),unitAttack=JSON[_0x452b5b(0x1e9)](JSON[_0x452b5b(0x4c7)](originalUnitAttack)),unitDefense=JSON[_0x452b5b(0x1e9)](JSON[_0x452b5b(0x4c7)](originalUnitDefense)),enemyStructureUnits=JSON[_0x452b5b(0x1e9)](JSON['stringify'](originalEnemyStructureUnits)),resetUI();};let resettingGame=![];function fullReset(){const _0x32d572=a10_0x16d27a;resettingGame=!![],tickWorker['terminate'](),window['localStorage']['clear'](),location[_0x32d572(0x4ae)]();}function resetUI(){const _0x42ce7c=a10_0x16d27a;document['getElementById'](_0x42ce7c(0x3ca))[_0x42ce7c(0x1cf)][_0x42ce7c(0x509)](_0x42ce7c(0x44c)),Array['from'](tileElements)[_0x42ce7c(0x471)](function(_0x318f40){const _0x13ca67=_0x42ce7c;let _0x60931a=document[_0x13ca67(0x299)](_0x318f40['id']+_0x13ca67(0x35d));while(_0x60931a[_0x13ca67(0x1d3)]){_0x60931a[_0x13ca67(0x2c1)](_0x60931a[_0x13ca67(0x1d3)]);}}),closeEnemyMenu(),closeBuildingInfoMenu(),closeBuildMenu(),closePreFightkMenu(),closeTechTreeMenu(),closeChampionMenu(),closeSettings(),closeVicDef(),updateBuildingPrices(),updateUnlocks(),loadBuildingIMGS(),openCivilTab(),endCombat(),updateTechTree(),refreshFog(),updateEnemyCounts(),loadPlants(),loadItemIMGS(soulState),resetDecreaseUnitBtns(),initEventUI(),updateIronProductionRateView(),updateUnitAttack(),updateUnitDefense(),document['querySelectorAll']('.tile-overlay')[_0x42ce7c(0x471)](function(_0x6d282b){const _0x353b14=_0x42ce7c;_0x6d282b[_0x353b14(0x1cf)]?.[_0x353b14(0x3fe)](_0x353b14(0x23f));}),updateBuildPage(0x1),closeSettings();}abandonResetGameBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),function(){const _0x22ba94=a10_0x16d27a;document[_0x22ba94(0x299)](_0x22ba94(0x3ca))[_0x22ba94(0x1cf)][_0x22ba94(0x509)](_0x22ba94(0x44c));});let continuePlayingBtn=$(a10_0x16d27a(0x40a));continuePlayingBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),function(){const _0x43319c=a10_0x16d27a;$(_0x43319c(0x2cc))[_0x43319c(0x1cf)][_0x43319c(0x509)]('display-none');});let closeFamineBtn=document[a10_0x16d27a(0x299)]('close-famine-notification-button');closeFamineBtn['addEventListener'](a10_0x16d27a(0x3b9),function(){const _0x309ddd=a10_0x16d27a;document[_0x309ddd(0x299)]('famine-popup')[_0x309ddd(0x1cf)]['add']('display-none');});const closeVicDefBtn=document['getElementById'](a10_0x16d27a(0x452)),chestBtn=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x1d6)),discardLootBtn=document[a10_0x16d27a(0x460)]('.discard-loot-btn');gameState[a10_0x16d27a(0x3f4)]['rarity']!==undefined&&chestBtn['classList'][a10_0x16d27a(0x509)](a10_0x16d27a(0x229)+gameState[a10_0x16d27a(0x3f4)][a10_0x16d27a(0x33c)]);const openChestBuildingBtn=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x4ea));Object[a10_0x16d27a(0x222)](gameState[a10_0x16d27a(0x3f4)])['length']>0x0&&($(a10_0x16d27a(0x32a))[a10_0x16d27a(0x1cf)][a10_0x16d27a(0x3fe)](a10_0x16d27a(0x44c)),$('#victory-container')[a10_0x16d27a(0x1cf)][a10_0x16d27a(0x3fe)]('display-none'),openChestBuildingBtn['classList']['add'](a10_0x16d27a(0x276)));closeVicDefBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),closeVicDef),chestBtn[a10_0x16d27a(0x3ff)]('click',function(){addChestItemToInventory();});function closeVicDef(){const _0x465126=a10_0x16d27a;document['getElementById']('victory-defeat-screen')[_0x465126(0x1cf)][_0x465126(0x509)](_0x465126(0x44c)),$(_0x465126(0x289))[_0x465126(0x1cf)][_0x465126(0x509)](_0x465126(0x44c)),$('#victory-container')['classList'][_0x465126(0x509)]('display-none'),document[_0x465126(0x460)](_0x465126(0x248))[_0x465126(0x43b)]=_0x465126(0x4df),document[_0x465126(0x460)]('.discard-loot-btn')[_0x465126(0x1cf)][_0x465126(0x509)]('display-none'),openChestBuildingBtn[_0x465126(0x1cf)][_0x465126(0x3fe)](_0x465126(0x276)),gameState[_0x465126(0x4b3)]=0x0,currentCombatGoldCount['innerText']=gameState[_0x465126(0x4b3)],discardLootBtn[_0x465126(0x2df)]='Discard\x20loot',Array['from'](attackBtns)[_0x465126(0x471)](function(_0x3dba7e){const _0xc57f88=_0x465126;_0x3dba7e[_0xc57f88(0x1cf)][_0xc57f88(0x3fe)](_0xc57f88(0x276));});};const toast=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x458));function addChestItemToInventory(){const _0xca20f5=a10_0x16d27a;let _0x4af6ec=![],_0x53731d;const _0x417e6e=[_0xca20f5(0x2e5),_0xca20f5(0x28f)]['filter'](_0x30bfa9=>soulState['shopItemsOwned'][_0xca20f5(0x25d)](_0x30bfa9))[_0xca20f5(0x425)];let _0x5a11f4;_0x5a11f4=[0x20,0x40,0x60][_0x417e6e];for(let _0x237098=0x1;_0x237098<_0x5a11f4+0x1;_0x237098++){_0x4af6ec===![]&&(Object['keys'](soulState['i'+_0x237098])[_0xca20f5(0x425)]===0x0&&(_0x53731d='i'+_0x237098,_0x4af6ec=!![]));}if(_0x4af6ec===![])document['querySelector'](_0xca20f5(0x248))['innerHTML']=_0xca20f5(0x4d8),discardLootBtn[_0xca20f5(0x1cf)][_0xca20f5(0x3fe)](_0xca20f5(0x44c));else{closeVicDef(),soulState[_0x53731d]=gameState['chestItem'],loadItemIMGS(soulState),isConfirmDiscardLoot=![],discardLootBtn[_0xca20f5(0x2df)]='Discard\x20loot';const _0x5e5e66=document[_0xca20f5(0x460)](_0xca20f5(0x388));let _0x3e24e8;if(gameState['chestItem']['rarity']==='common')_0x3e24e8=_0xca20f5(0x324);else{if(gameState['chestItem'][_0xca20f5(0x33c)]==='uncommon')_0x3e24e8=_0xca20f5(0x25e);else{if(gameState[_0xca20f5(0x3f4)][_0xca20f5(0x33c)]==='rare')_0x3e24e8=_0xca20f5(0x3fa);else gameState[_0xca20f5(0x3f4)][_0xca20f5(0x33c)]===_0xca20f5(0x1f6)&&(_0x3e24e8='rgb(215,\x20115,\x20255)');}}const _0x15fe65=_0xca20f5(0x34d)+gameState['chestItem'][_0xca20f5(0x416)],_0x30df42='Item\x20added\x20to\x20inventory:',_0x439faa=gameState[_0xca20f5(0x3f4)][_0xca20f5(0x3ef)];showToast(_0x15fe65,_0x30df42,_0x439faa,_0x3e24e8,openChampionMenuInventory),gameState['chestItem']={},document[_0xca20f5(0x460)](_0xca20f5(0x248))[_0xca20f5(0x2df)]='';}return _0x4af6ec;}window[a10_0x16d27a(0x3ff)]('contextmenu',_0x387fbe=>_0x387fbe[a10_0x16d27a(0x333)]());function openChampionMenuInventory(){isInventoryMenuOpen===![]&&(openChampionMenu(),openInventoryMenu());}const collegeAutoConvertToggles=document[a10_0x16d27a(0x326)](a10_0x16d27a(0x21e));collegeAutoConvertToggles[a10_0x16d27a(0x471)](_0x424e71=>{const _0x5916a2=a10_0x16d27a;_0x424e71[_0x5916a2(0x3ff)](_0x5916a2(0x3b9),()=>toggleCollegeAutoConvert(_0x424e71['dataset'][_0x5916a2(0x1f9)]));});function toggleCollegeAutoConvert(_0x562f89){const _0x273e0a=a10_0x16d27a;let _0x35a09c=_0x562f89||null;gameState[_0x273e0a(0x36c)][_0x35a09c]!==null&&(gameState['collegeToggles'][_0x35a09c]===![]?gameState[_0x273e0a(0x36c)][_0x35a09c]=!![]:gameState[_0x273e0a(0x36c)][_0x35a09c]=![]),loadCollegeAutoConvert();}function loadCollegeAutoConvert(){collegeAutoConvertToggles['forEach'](_0x2e56f9=>{const _0x12d03e=a10_0x33f7;gameState[_0x12d03e(0x36c)][_0x2e56f9[_0x12d03e(0x490)][_0x12d03e(0x1f9)]]?_0x2e56f9['classList'][_0x12d03e(0x509)]('toggle-enabled'):_0x2e56f9[_0x12d03e(0x1cf)][_0x12d03e(0x3fe)]('toggle-enabled');});}loadCollegeAutoConvert();let isToastReady=!![];function showToast(_0x43dcf7,_0x463864,_0x13c3f7,_0x2eb536,_0x27d643){const _0x3981b3=a10_0x16d27a;isToastReady?(isToastReady=![],_0x27d643?(document[_0x3981b3(0x460)](_0x3981b3(0x458))['addEventListener'](_0x3981b3(0x3b9),_0x27d643),document['querySelector'](_0x3981b3(0x458))[_0x3981b3(0x1cf)][_0x3981b3(0x509)](_0x3981b3(0x451))):(document[_0x3981b3(0x460)](_0x3981b3(0x458))['addEventListener'](_0x3981b3(0x3b9)),document[_0x3981b3(0x460)](_0x3981b3(0x458))[_0x3981b3(0x1cf)][_0x3981b3(0x3fe)]('toast-hover')),document[_0x3981b3(0x460)](_0x3981b3(0x21a))[_0x3981b3(0x483)]=_0x43dcf7,document[_0x3981b3(0x460)](_0x3981b3(0x2e7))[_0x3981b3(0x2df)]=_0x463864,document['querySelector'](_0x3981b3(0x388))[_0x3981b3(0x2df)]=_0x13c3f7,toast['style'][_0x3981b3(0x2f6)]='toast\x201s\x20ease',toast[_0x3981b3(0x1cf)][_0x3981b3(0x3fe)](_0x3981b3(0x44c)),setTimeout(()=>toast['style'][_0x3981b3(0x2f6)]=_0x3981b3(0x4e9),0x1b58),setTimeout(()=>toast[_0x3981b3(0x1cf)][_0x3981b3(0x509)](_0x3981b3(0x44c)),0x1f40),toast[_0x3981b3(0x481)][_0x3981b3(0x41e)]=_0x2eb536,setTimeout(()=>{isToastReady=!![];},0x1f40)):setTimeout(()=>showToast(_0x43dcf7,_0x463864,_0x13c3f7,_0x2eb536,_0x27d643),0x3e8);}let isAlchemistHutOpen=![];const gardenPlots=document[a10_0x16d27a(0x326)](a10_0x16d27a(0x431)),plantCards=document[a10_0x16d27a(0x326)]('.plant-card'),plantCardsContainer=document['querySelector']('.plant-selection-container'),outerPlantProgressBars=document['querySelectorAll'](a10_0x16d27a(0x263)),innerPlantProgressBars=document[a10_0x16d27a(0x326)](a10_0x16d27a(0x4e2)),collectPlantsBtn=document['querySelector']('.collect-all-plants-btn'),plantCounts=document['querySelectorAll'](a10_0x16d27a(0x1d8)),potionEffectIcon=document['querySelector']('.potion-effect-icon'),potionEffectText=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x23a)),potionTimer=document['querySelector'](a10_0x16d27a(0x4af));let selectedPlot;gardenPlots[a10_0x16d27a(0x471)](_0x4a7df3=>_0x4a7df3[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),()=>{const _0x586f8a=a10_0x16d27a;gardenPlots[_0x586f8a(0x471)](_0x1046cc=>_0x1046cc[_0x586f8a(0x1cf)][_0x586f8a(0x3fe)](_0x586f8a(0x3f8))),_0x4a7df3[_0x586f8a(0x1cf)][_0x586f8a(0x509)](_0x586f8a(0x3f8)),selectedPlot=_0x4a7df3[_0x586f8a(0x490)][_0x586f8a(0x4f0)],plantCardsContainer[_0x586f8a(0x1cf)][_0x586f8a(0x3fe)](_0x586f8a(0x44c));}));function updateUnlockedPlants(){const _0x3886a4=a10_0x16d27a;for(const _0x182552 of plantCards){const _0x35bcad=_0x182552[_0x3886a4(0x490)]['plantType'];if(_0x35bcad!==_0x3886a4(0x1d7)){const _0x1b7463=gameState['perksUnlocked'][_0x3886a4(0x25d)](_0x35bcad);if(_0x1b7463)_0x182552[_0x3886a4(0x1cf)][_0x3886a4(0x3fe)](_0x3886a4(0x44c));else _0x182552[_0x3886a4(0x1cf)][_0x3886a4(0x509)](_0x3886a4(0x44c));}}}updateUnlockedPlants(),plantCards[a10_0x16d27a(0x471)](_0x477369=>_0x477369[a10_0x16d27a(0x3ff)]('click',()=>{const _0x4a2587=a10_0x16d27a;isAlchemistHutOpen===![]?(plantCardsContainer['classList'][_0x4a2587(0x509)](_0x4a2587(0x44c)),plant(selectedPlot,_0x477369[_0x4a2587(0x490)][_0x4a2587(0x224)])):(putInKettle(selectedKettleSlot,_0x477369['dataset'][_0x4a2587(0x224)]),updatePlantCounts()),selectedPlot=null,gardenPlots[_0x4a2587(0x471)](_0x5171a1=>_0x5171a1[_0x4a2587(0x1cf)][_0x4a2587(0x3fe)](_0x4a2587(0x3f8)));}));function plant(_0x41d700,_0x5baccc){const _0x127131=a10_0x16d27a;gameState['plots']['p'+_0x41d700][_0x127131(0x4c4)]===null&&(gameState[_0x127131(0x3a7)]['p'+_0x41d700][_0x127131(0x4c4)]=_0x5baccc,loadPlants());}function increasePlantProgress(_0x1e10b9){innerPlantProgressBars['forEach'](_0x4d696a=>{const _0x19f9ff=a10_0x33f7;let _0x457369=gameState[_0x19f9ff(0x3a7)]['p'+_0x4d696a[_0x19f9ff(0x490)]['plotNum']];_0x457369[_0x19f9ff(0x4c4)]!==null&&_0x457369[_0x19f9ff(0x504)]<0x64&&(_0x457369[_0x19f9ff(0x504)]=Math['min'](_0x457369[_0x19f9ff(0x504)]+=_0x1e10b9,0x64));_0x4d696a['style'][_0x19f9ff(0x277)]=gameState[_0x19f9ff(0x3a7)]['p'+_0x4d696a[_0x19f9ff(0x490)]['plotNum']]['progress']+'%';_0x457369[_0x19f9ff(0x504)]===0x64?_0x4d696a[_0x19f9ff(0x2f0)][_0x19f9ff(0x2f0)][_0x19f9ff(0x1cf)][_0x19f9ff(0x509)](_0x19f9ff(0x3b5)):_0x4d696a[_0x19f9ff(0x2f0)]['parentElement']['classList'][_0x19f9ff(0x3fe)](_0x19f9ff(0x3b5));if(Object[_0x19f9ff(0x222)](gameState['plots'])['some'](_0x2a1cbf=>gameState[_0x19f9ff(0x3a7)][_0x2a1cbf][_0x19f9ff(0x504)]===0x64)){collectPlantsBtn[_0x19f9ff(0x1cf)][_0x19f9ff(0x3fe)](_0x19f9ff(0x276));for(const _0x124d5c in Object[_0x19f9ff(0x222)](gameState[_0x19f9ff(0x500)])){gameState[_0x19f9ff(0x500)]['t'+_0x124d5c]===_0x19f9ff(0x269)&&Array[_0x19f9ff(0x2b3)](tileOverlays)[_0x19f9ff(0x471)](_0x2845c8=>{const _0x1b2db1=_0x19f9ff;_0x2845c8['id']==='t'+_0x124d5c+_0x1b2db1(0x35d)&&(_0x2845c8[_0x1b2db1(0x1d3)]['src']=_0x1b2db1(0x2a5));});}}else collectPlantsBtn[_0x19f9ff(0x1cf)][_0x19f9ff(0x509)](_0x19f9ff(0x276));});}function loadPlants(){const _0x3b032b=a10_0x16d27a;gardenPlots[_0x3b032b(0x471)](_0x1d5207=>{const _0x188486=_0x3b032b;if(gameState[_0x188486(0x3a7)]['p'+_0x1d5207[_0x188486(0x490)][_0x188486(0x4f0)]][_0x188486(0x4c4)]!==null&&_0x1d5207[_0x188486(0x210)][_0x188486(0x425)]===0x1){let _0x5b1a90=document[_0x188486(0x3c0)](_0x188486(0x3b0));_0x5b1a90['src']=_0x188486(0x34d)+gameState[_0x188486(0x3a7)]['p'+_0x1d5207[_0x188486(0x490)]['plotNum']][_0x188486(0x4c4)]+'.svg',_0x5b1a90['setAttribute'](_0x188486(0x4e8),_0x188486(0x3bf)),_0x1d5207[_0x188486(0x36f)](_0x5b1a90),_0x1d5207[_0x188486(0x1cf)][_0x188486(0x509)](_0x188486(0x290));}else gameState[_0x188486(0x3a7)]['p'+_0x1d5207['dataset'][_0x188486(0x4f0)]]['plant']===null&&_0x1d5207['children'][_0x188486(0x425)]===0x2&&(_0x1d5207[_0x188486(0x2c1)](_0x1d5207[_0x188486(0x2bb)]),_0x1d5207[_0x188486(0x1cf)]['remove'](_0x188486(0x290)));}),outerPlantProgressBars[_0x3b032b(0x471)](_0x274f97=>{const _0x545040=_0x3b032b;gameState['plots']['p'+_0x274f97['dataset']['plotNum']]['plant']!==null?_0x274f97[_0x545040(0x1cf)][_0x545040(0x3fe)]('display-none'):_0x274f97[_0x545040(0x1cf)]['add']('display-none');});}loadPlants(),collectPlantsBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),()=>{gardenPlots['forEach'](_0x1ab973=>{const _0x2acfcc=a10_0x33f7;let _0x491a9d=gameState[_0x2acfcc(0x3a7)]['p'+_0x1ab973[_0x2acfcc(0x490)][_0x2acfcc(0x4f0)]];if(_0x491a9d['progress']===0x64){gameState[_0x2acfcc(0x24e)][_0x491a9d[_0x2acfcc(0x4c4)]]++,_0x491a9d[_0x2acfcc(0x4c4)]=null,_0x491a9d['progress']=0x0,loadPlants(),_0x1ab973[_0x2acfcc(0x1cf)][_0x2acfcc(0x3fe)](_0x2acfcc(0x3b5));for(const _0x2c01e4 in Object[_0x2acfcc(0x222)](gameState['tiles'])){gameState[_0x2acfcc(0x500)]['t'+_0x2c01e4]===_0x2acfcc(0x269)&&Array[_0x2acfcc(0x2b3)](tileOverlays)[_0x2acfcc(0x471)](_0x20fb94=>{const _0x29751b=_0x2acfcc;_0x20fb94['id']==='t'+_0x2c01e4+_0x29751b(0x35d)&&(_0x20fb94[_0x29751b(0x1d3)]['src']='./image_files/herbalGarden.png');});}}Object[_0x2acfcc(0x222)](gameState[_0x2acfcc(0x3a7)])[_0x2acfcc(0x3e5)](_0xc54a19=>gameState[_0x2acfcc(0x3a7)][_0xc54a19][_0x2acfcc(0x504)]===0x64)?collectPlantsBtn['classList']['remove'](_0x2acfcc(0x276)):collectPlantsBtn['classList'][_0x2acfcc(0x509)](_0x2acfcc(0x276));}),updatePlantCounts();});function updatePlantCounts(){const _0x7d6ef2=a10_0x16d27a;plantCounts[_0x7d6ef2(0x471)](_0x29945e=>{const _0x3a519a=_0x7d6ef2;_0x29945e[_0x3a519a(0x2df)]='('+gameState[_0x3a519a(0x24e)][_0x29945e[_0x3a519a(0x490)][_0x3a519a(0x224)]]+')';});}updatePlantCounts();let kettleContents={0x1:null,0x2:null,0x3:null,0x4:null,0x5:null};const brewBtn=document[a10_0x16d27a(0x460)]('.brew-btn'),kettleSlots=document[a10_0x16d27a(0x326)](a10_0x16d27a(0x3c4));let selectedKettleSlot;kettleSlots[a10_0x16d27a(0x471)](_0x569e71=>_0x569e71[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),()=>{const _0x4f94c4=a10_0x16d27a;kettleSlots[_0x4f94c4(0x471)](_0x50adac=>_0x50adac['classList'][_0x4f94c4(0x3fe)](_0x4f94c4(0x3fc))),_0x569e71['classList']['add'](_0x4f94c4(0x3fc)),selectedKettleSlot=_0x569e71[_0x4f94c4(0x490)][_0x4f94c4(0x498)],plantCardsContainer[_0x4f94c4(0x1cf)][_0x4f94c4(0x3fe)](_0x4f94c4(0x44c)),closeRecipeBook();}));function putInKettle(_0x1edcdf,_0x98654f){const _0x28fea2=a10_0x16d27a;if(gameState['plants'][_0x98654f]>0x0)kettleSlots[_0x28fea2(0x471)](_0x2df470=>{const _0x4f50d5=_0x28fea2;if(_0x2df470[_0x4f50d5(0x490)]['kettleSlot']===_0x1edcdf){_0x2df470['children']['length']===0x1&&_0x2df470[_0x4f50d5(0x2c1)](_0x2df470[_0x4f50d5(0x2bb)]);let _0x21aa72=document['createElement'](_0x4f50d5(0x3b0));_0x21aa72[_0x4f50d5(0x483)]=_0x4f50d5(0x34d)+_0x98654f+_0x4f50d5(0x4a1),_0x21aa72[_0x4f50d5(0x2a8)](_0x4f50d5(0x4e8),'ingredient-img'),_0x2df470[_0x4f50d5(0x36f)](_0x21aa72),gameState[_0x4f50d5(0x24e)][_0x98654f]--,kettleContents[selectedKettleSlot]!==null&&gameState[_0x4f50d5(0x24e)][kettleContents[selectedKettleSlot]]++;}}),kettleContents[_0x1edcdf]=_0x98654f,updatePlantCounts(),Object[_0x28fea2(0x2ca)](kettleContents)[_0x28fea2(0x273)](_0x2dbeeb=>_0x2dbeeb!==null)[_0x28fea2(0x425)]>0x1&&brewBtn[_0x28fea2(0x1cf)][_0x28fea2(0x3fe)]('button-disabled');else{}}function resetKettleContents(_0x4eab96){const _0x2ad7b8=a10_0x16d27a;for(let _0x40b24e in _0x4eab96){_0x4eab96[_0x40b24e]!==null&&gameState[_0x2ad7b8(0x24e)][_0x4eab96[_0x40b24e]]++,_0x4eab96[_0x40b24e]=null;}updatePlantCounts();}brewBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),()=>{const _0x353d3b=a10_0x16d27a;brewBtn[_0x353d3b(0x1cf)]['add'](_0x353d3b(0x276));for(const _0x25328c in kettleContents){kettleContents[_0x25328c]!==null&&kettle[kettleContents[_0x25328c]]++;}let _0x1267fe=makePotion(kettle,newRecipeList);if(_0x1267fe!==null){gameState['activePotionEffect'][_0x353d3b(0x3ef)]=_0x1267fe,gameState['activePotionEffect'][_0x353d3b(0x41d)]=newRecipeList[_0x1267fe]['strength'],gameState[_0x353d3b(0x491)]['timer']=0x384,document[_0x353d3b(0x460)](_0x353d3b(0x2f8))[_0x353d3b(0x481)][_0x353d3b(0x2f6)]='rightrecipe\x201.5s\x20ease-in-out',document[_0x353d3b(0x460)](_0x353d3b(0x37e))['style']['animation']='rightrecipe\x201.5s\x20ease-in-out';const _0x587fe0=potionEffects[gameState[_0x353d3b(0x491)][_0x353d3b(0x3ef)]]['production']===![];_0x587fe0&&updateUnitAttack(),setTimeout(()=>{const _0x5c930e=_0x353d3b;document[_0x5c930e(0x460)](_0x5c930e(0x2f8))[_0x5c930e(0x481)][_0x5c930e(0x2f6)]='',document[_0x5c930e(0x460)](_0x5c930e(0x37e))[_0x5c930e(0x481)][_0x5c930e(0x2f6)]='';},0x5dc);}else document[_0x353d3b(0x460)](_0x353d3b(0x2f8))[_0x353d3b(0x481)][_0x353d3b(0x2f6)]=_0x353d3b(0x373),setTimeout(()=>{const _0x44f2f1=_0x353d3b;document['querySelector'](_0x44f2f1(0x2f8))[_0x44f2f1(0x481)][_0x44f2f1(0x2f6)]='';},0x2bc);Object[_0x353d3b(0x222)](kettle)['forEach'](_0x4a163e=>kettle[_0x4a163e]=0x0),Object['keys'](kettleContents)['forEach'](_0x42ccba=>kettleContents[_0x42ccba]=null),kettleSlots[_0x353d3b(0x471)](_0x3ec9a8=>{const _0x27b4b9=_0x353d3b;_0x3ec9a8['children'][_0x27b4b9(0x425)]===0x1&&_0x3ec9a8[_0x27b4b9(0x2c1)](_0x3ec9a8[_0x27b4b9(0x2bb)]);});}),openChestBuildingBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),()=>{const _0x246c45=a10_0x16d27a;gameState[_0x246c45(0x3f4)]=generateItem(null,'rare');let _0x2cd23b=addChestItemToInventory();_0x2cd23b===!![]?(closeEnemyMenu(),openChestBuildingBtn['innerText']=_0x246c45(0x505),Array[_0x246c45(0x2b3)](tileOverlays)[_0x246c45(0x471)](_0x3dacb1=>{const _0x1bf37b=_0x246c45;_0x3dacb1['id']===selectedTile['id']+_0x1bf37b(0x35d)&&(_0x3dacb1[_0x1bf37b(0x43b)]='',gameState['controlledTiles'][_0x1bf37b(0x214)](selectedTile['id']));}),gameState[_0x246c45(0x500)][selectedTile['id']]=null,refreshFog()):openChestBuildingBtn[_0x246c45(0x2df)]=_0x246c45(0x2e6);});let isConfirmDiscardLoot=![];discardLootBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),function(){const _0x359738=a10_0x16d27a;isConfirmDiscardLoot===![]?(discardLootBtn[_0x359738(0x2df)]=_0x359738(0x4d1),isConfirmDiscardLoot=!![]):(closeVicDef(),gameState['chestItem']={},document[_0x359738(0x460)](_0x359738(0x248))[_0x359738(0x2df)]='',isConfirmDiscardLoot=![]);});const armyTabBtn=document['getElementById']('army-unit-tab');armyTabBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),function(){const _0x3cd80f=a10_0x16d27a;document['getElementById'](_0x3cd80f(0x45d))['classList'][_0x3cd80f(0x509)]('unit-tab-active'),document[_0x3cd80f(0x299)](_0x3cd80f(0x27a))[_0x3cd80f(0x1cf)]['remove'](_0x3cd80f(0x221)),document[_0x3cd80f(0x299)](_0x3cd80f(0x2de))[_0x3cd80f(0x1cf)][_0x3cd80f(0x509)](_0x3cd80f(0x44c)),document[_0x3cd80f(0x299)]('army-unit-menu')[_0x3cd80f(0x1cf)][_0x3cd80f(0x3fe)](_0x3cd80f(0x44c));});function openCivilTab(){const _0xc286fd=a10_0x16d27a;document['getElementById'](_0xc286fd(0x27a))[_0xc286fd(0x1cf)]['add']('unit-tab-active'),document['getElementById'](_0xc286fd(0x45d))[_0xc286fd(0x1cf)][_0xc286fd(0x3fe)](_0xc286fd(0x221)),document[_0xc286fd(0x299)](_0xc286fd(0x218))[_0xc286fd(0x1cf)][_0xc286fd(0x509)]('display-none'),document[_0xc286fd(0x299)](_0xc286fd(0x2de))[_0xc286fd(0x1cf)]['remove']('display-none');}const civilTabBtn=document[a10_0x16d27a(0x299)](a10_0x16d27a(0x27a));civilTabBtn[a10_0x16d27a(0x3ff)]('click',openCivilTab);function increaseCivilUnit(_0x3b8200){const _0xb75049=a10_0x16d27a;if(gameState[_0xb75049(0x28a)]<maxPopulation[_0xb75049(0x359)]){const _0x1c0b62=unitCosts[_0x3b8200],_0x12ad3e=Object['keys'](_0x1c0b62)[_0xb75049(0x43e)](_0x39bae7=>_0x1c0b62[_0x39bae7]<=gameState[_0x39bae7]);if(_0x12ad3e){for(const _0x49164d in _0x1c0b62){gameState[_0x49164d]-=_0x1c0b62[_0x49164d];}gameState['civilUnits'][_0x3b8200]++,gameState['civilPopulation']++;}updateUnlocks();}}function decreaseCivilUnit(_0x1e40d0){const _0x1a548f=a10_0x16d27a;gameState[_0x1a548f(0x476)][_0x1e40d0]>0x0&&(gameState[_0x1a548f(0x476)][_0x1e40d0]--,gameState['civilPopulation']--,gameState[_0x1a548f(0x3f7)][_0x1a548f(0x25d)](_0x1a548f(0x499))===!![]&&(gameState[_0x1a548f(0x3d3)]=Math[_0x1a548f(0x284)](gameState[_0x1a548f(0x3d3)]+0x19,maxResources[_0x1a548f(0x3d3)])));}function increaseArmyUnit(_0x2f4281){const _0x48284b=a10_0x16d27a;if(gameState[_0x48284b(0x438)]<maxPopulation[_0x48284b(0x49a)]){if(_0x2f4281===_0x48284b(0x1d1)&&gameState[_0x48284b(0x3f7)][_0x48284b(0x25d)](_0x48284b(0x1d1))===![]||_0x2f4281===_0x48284b(0x2c9)&&gameState[_0x48284b(0x3f7)][_0x48284b(0x25d)](_0x48284b(0x2c9))===![]||_0x2f4281===_0x48284b(0x296)&&gameState[_0x48284b(0x3f7)]['includes'](_0x48284b(0x296))===![]){}else{const _0x105ea8=unitCosts[_0x2f4281],_0x212a73=Object['keys'](_0x105ea8)[_0x48284b(0x43e)](_0xa457e8=>_0x105ea8[_0xa457e8]<=gameState[_0xa457e8]);if(_0x212a73){for(const _0x4c1a24 in _0x105ea8){gameState[_0x4c1a24]-=_0x105ea8[_0x4c1a24];}gameState['armyUnits'][_0x2f4281]++,gameState['armyPopulation']++;}updateUnlocks();}}}function decreaseArmyUnit(_0x414194){const _0x440a85=a10_0x16d27a,_0x13aa19=gameState['armyUnits'][_0x414194]-(gameState[_0x440a85(0x2b2)][_0x414194]||0x0);if(_0x13aa19>0x0){gameState[_0x440a85(0x27c)][_0x414194]--,gameState['armyPopulation']--;gameState[_0x440a85(0x3f7)][_0x440a85(0x25d)](_0x440a85(0x499))&&(gameState[_0x440a85(0x3d3)]=Math[_0x440a85(0x284)](gameState[_0x440a85(0x3d3)]+0x19,maxResources[_0x440a85(0x3d3)]));;}}Array['from'](increaseCivilUnitBtns)[a10_0x16d27a(0x471)](function(_0x2e7814){const _0x2263aa=a10_0x16d27a;_0x2e7814[_0x2263aa(0x3ff)](_0x2263aa(0x3b9),()=>increaseCivilUnit(_0x2e7814[_0x2263aa(0x490)][_0x2263aa(0x45f)]));}),Array['from'](decreaseCivilUnitBtns)[a10_0x16d27a(0x471)](function(_0x1faa9b){const _0x577ad0=a10_0x16d27a;_0x1faa9b[_0x577ad0(0x3ff)](_0x577ad0(0x3b9),()=>decreaseCivilUnit(_0x1faa9b['dataset']['unitType']));}),Array[a10_0x16d27a(0x2b3)](increaseArmyUnitBtns)[a10_0x16d27a(0x471)](function(_0x5bf4f0){const _0x46f4e7=a10_0x16d27a;_0x5bf4f0['addEventListener']('click',()=>increaseArmyUnit(_0x5bf4f0['dataset'][_0x46f4e7(0x45f)]));}),Array[a10_0x16d27a(0x2b3)](decreaseArmyUnitBtns)[a10_0x16d27a(0x471)](function(_0x480107){const _0x501372=a10_0x16d27a;_0x480107[_0x501372(0x3ff)](_0x501372(0x3b9),()=>decreaseArmyUnit(_0x480107[_0x501372(0x490)]['unitType']));});let increaseIronProductionBtn=document[a10_0x16d27a(0x299)](a10_0x16d27a(0x472)),decreaseIronProductionBtn=document['getElementById'](a10_0x16d27a(0x2d9));increaseIronProductionBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),function(){const _0x473a12=a10_0x16d27a;gameState[_0x473a12(0x372)]<0.99&&(gameState[_0x473a12(0x372)]+=0.1,updateIronProductionRateView());;}),decreaseIronProductionBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),function(){const _0x453880=a10_0x16d27a;gameState[_0x453880(0x372)]>0.09&&(gameState[_0x453880(0x372)]-=0.1,updateIronProductionRateView());;});function updateIronProductionRateView(){const _0x278cec=a10_0x16d27a;$(_0x278cec(0x437))[_0x278cec(0x2df)]=Math[_0x278cec(0x435)](gameState[_0x278cec(0x372)]*0x64);}updateIronProductionRateView();let increaseBloodProductionBtn=document['getElementById'](a10_0x16d27a(0x48f)),decreaseBloodProductionBtn=document[a10_0x16d27a(0x299)](a10_0x16d27a(0x264));increaseBloodProductionBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),function(){const _0x57a61a=a10_0x16d27a;gameState['bloodProductionRate']<0.99&&(gameState[_0x57a61a(0x355)]+=0.1,$('#blood-production-rate')[_0x57a61a(0x2df)]=Math[_0x57a61a(0x435)](gameState['bloodProductionRate']*0x64));;}),decreaseBloodProductionBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),function(){const _0x1330ed=a10_0x16d27a;gameState[_0x1330ed(0x355)]>0.09&&(gameState['bloodProductionRate']-=0.1,$(_0x1330ed(0x30d))[_0x1330ed(0x2df)]=Math['round'](gameState[_0x1330ed(0x355)]*0x64));;}),$(a10_0x16d27a(0x30d))[a10_0x16d27a(0x2df)]=Math[a10_0x16d27a(0x435)](gameState[a10_0x16d27a(0x355)]*0x64);function fillInventory(){const _0x37720d=a10_0x16d27a;for(const _0x23119e of Object['keys'](soulState)[_0x37720d(0x273)](_0xd804d9=>_0xd804d9[_0x37720d(0x285)](/^i\d+/))){soulState[_0x23119e]=generateItem(0x1);}loadItemIMGS(soulState);}function getStarted(){const _0xd42d13=a10_0x16d27a;resetGame(),unlockEverything();for(const _0x2ce748 in gameState[_0xd42d13(0x2f2)]){gameState['storageLevels'][_0x2ce748]=0x64;}for(const _0x11e578 in gameState[_0xd42d13(0x4a9)]){gameState[_0xd42d13(0x4a9)][_0x11e578]=0x64;}const _0x3c6087=[...Array(0x4)[_0xd42d13(0x408)]('warehouse'),...Array(0x4)[_0xd42d13(0x408)]('hut'),_0xd42d13(0x337),_0xd42d13(0x204),'college',_0xd42d13(0x506)];for(let _0x582141=0x0;_0x582141<_0x3c6087['length'];_0x582141++){const [_0x5b565a,_0xff54f7]=[_0x3c6087[_0x582141],gameState[_0xd42d13(0x3d9)][_0x582141]];gameState[_0xd42d13(0x500)][_0xff54f7]=_0x5b565a,gameState[_0x5b565a+_0xd42d13(0x26c)]++;}loadBuildingIMGS(),updateBuildingPrices(),maxOutResources(),gameState[_0xd42d13(0x27c)][_0xd42d13(0x296)]=0x64,gameState[_0xd42d13(0x476)]['farmer']=0xa;for(const _0x3d50ca in gameState['plants'])gameState[_0xd42d13(0x24e)][_0x3d50ca]=0x64;soulState[_0xd42d13(0x26a)]=[...document[_0xd42d13(0x326)](_0xd42d13(0x4ca))][_0xd42d13(0x295)](_0x183cd1=>_0x183cd1[_0xd42d13(0x490)][_0xd42d13(0x1cb)]),loadShopPrices(soulState);};function maxOutResources(){const _0x4f966d=a10_0x16d27a;gameState[_0x4f966d(0x1d5)]=maxResources['humans'],gameState['food']=maxResources['food'],gameState[_0x4f966d(0x1f7)]=maxResources['wood'],gameState['stone']=maxResources[_0x4f966d(0x450)],gameState[_0x4f966d(0x21c)]=maxResources['iron'],gameState[_0x4f966d(0x3eb)]=maxResources[_0x4f966d(0x3eb)],gameState[_0x4f966d(0x3b1)]=maxResources['knowledge'],gameState[_0x4f966d(0x3d3)]=maxResources['blood'],gameState['magic']=maxResources[_0x4f966d(0x3db)];};function unlockEverything(){const _0x6c2170=a10_0x16d27a;gameState[_0x6c2170(0x3ac)]=!![],gameState['isFoodUnlocked']=!![],gameState[_0x6c2170(0x27d)]=!![],gameState[_0x6c2170(0x30b)]=!![],gameState[_0x6c2170(0x1fd)]=!![],gameState[_0x6c2170(0x432)]=!![],gameState[_0x6c2170(0x403)]=!![],gameState[_0x6c2170(0x28c)]=!![],gameState[_0x6c2170(0x35e)]=![],gameState[_0x6c2170(0x479)]=!![],gameState[_0x6c2170(0x304)]=!![],gameState[_0x6c2170(0x477)]=!![],gameState[_0x6c2170(0x43f)]=!![],gameState[_0x6c2170(0x225)]=!![],gameState[_0x6c2170(0x456)]=!![],gameState[_0x6c2170(0x20f)]=!![],gameState[_0x6c2170(0x1ec)]=!![],gameState[_0x6c2170(0x1cd)]=!![];for(const _0x7b171f in buildings){gameState[_0x6c2170(0x467)][_0x7b171f]=!![];}gameState['perksUnlocked']=allPerks,updateUnlocks(),updateTechTree();}const tileElements=document[a10_0x16d27a(0x4a2)]('tile');let selectedTile,isMenuOpen=![],buildMenu=document[a10_0x16d27a(0x299)](a10_0x16d27a(0x23b)),isMousedown=![];Array[a10_0x16d27a(0x2b3)](tileElements)[a10_0x16d27a(0x471)](function(_0x473758){const _0x511156=a10_0x16d27a;_0x473758[_0x511156(0x3ff)]('click',tileClick),_0x473758[_0x511156(0x3ff)](_0x511156(0x4cc),()=>hoverBuilding(_0x473758)),_0x473758[_0x511156(0x3ff)](_0x511156(0x2db),()=>leaveHoverBuilding(_0x473758)),_0x473758[_0x511156(0x3ff)](_0x511156(0x2c8),_0x25021a=>mousedownBuilding(_0x473758,_0x25021a)),_0x473758[_0x511156(0x3ff)](_0x511156(0x2fc),()=>mouseupBuilding(_0x473758));});function hoverBuilding(_0x73d2f8){const _0x3ce3e9=a10_0x16d27a;document[_0x3ce3e9(0x299)](_0x73d2f8['id']+_0x3ce3e9(0x35d))[_0x3ce3e9(0x1cf)]['add'](_0x3ce3e9(0x206));}function leaveHoverBuilding(_0x13c109){const _0x516b91=a10_0x16d27a;document[_0x516b91(0x299)](_0x13c109['id']+'-overlay')['classList']['remove']('hover-overlay');}function mousedownBuilding(_0x2467e9,_0x2a2c24){const _0x435a59=a10_0x16d27a;_0x2a2c24['button']===0x0&&(document[_0x435a59(0x299)](_0x2467e9['id']+'-overlay')['classList'][_0x435a59(0x509)](_0x435a59(0x25b)),moveMouseX=_0x2a2c24[_0x435a59(0x300)],moveMouseY=_0x2a2c24[_0x435a59(0x307)],longPressTile(_0x2a2c24),selectedTile=document[_0x435a59(0x299)](_0x2467e9['id']));}function mouseupBuilding(_0x503cbe){const _0x2d04c6=a10_0x16d27a;document[_0x2d04c6(0x299)](_0x503cbe['id']+'-overlay')[_0x2d04c6(0x1cf)][_0x2d04c6(0x3fe)](_0x2d04c6(0x25b)),swapBuildings(_0x503cbe);}calcEnemyBuildingUnits();function swapBuildings(_0x2b05b3){const _0x460496=a10_0x16d27a;if(gameState[_0x460496(0x3d9)][_0x460496(0x25d)](_0x2b05b3['id'])&&isBuildingMoving===!![]&&selectedTile['id']!==_0x2b05b3['id']){let _0x295946=gameState[_0x460496(0x500)][selectedTile['id']],_0x2208ff=gameState[_0x460496(0x500)][_0x2b05b3['id']];gameState['tiles'][_0x2b05b3['id']]=_0x295946,gameState['tiles'][selectedTile['id']]=_0x2208ff;let _0x2b3b7c=document[_0x460496(0x299)](selectedTile['id']+_0x460496(0x35d)),_0x15a57e=document[_0x460496(0x299)](_0x2b05b3['id']+'-overlay');_0x2b3b7c[_0x460496(0x2c1)](_0x2b3b7c[_0x460496(0x210)][0x0]);if(_0x2208ff!==null){_0x15a57e[_0x460496(0x2c1)](_0x15a57e['children'][0x0]);let _0x5386af=document[_0x460496(0x3c0)](_0x460496(0x3b0));_0x5386af[_0x460496(0x483)]=_0x460496(0x260)+gameState[_0x460496(0x500)][selectedTile['id']]+_0x460496(0x462),_0x5386af['setAttribute'](_0x460496(0x4e8),_0x460496(0x3b6)),document[_0x460496(0x299)](selectedTile['id']+_0x460496(0x35d))['appendChild'](_0x5386af),document[_0x460496(0x299)](selectedTile['id']+_0x460496(0x35d))[_0x460496(0x1cf)][_0x460496(0x509)](_0x460496(0x351));}let _0x9baf94=document['createElement'](_0x460496(0x3b0));_0x9baf94['src']=_0x460496(0x260)+gameState['tiles'][_0x2b05b3['id']]+_0x460496(0x462),_0x9baf94[_0x460496(0x2a8)](_0x460496(0x4e8),_0x460496(0x3b6)),document[_0x460496(0x299)](_0x2b05b3['id']+_0x460496(0x35d))[_0x460496(0x36f)](_0x9baf94),document[_0x460496(0x299)](_0x2b05b3['id']+_0x460496(0x35d))[_0x460496(0x1cf)][_0x460496(0x509)](_0x460496(0x351));};};document[a10_0x16d27a(0x3e6)][a10_0x16d27a(0x3ff)]('mouseup',_0x3a150a=>{const _0x4f3e7c=a10_0x16d27a;selectedTile?.['id']&&(document[_0x4f3e7c(0x299)](selectedTile['id']+_0x4f3e7c(0x35d))['classList'][_0x4f3e7c(0x3fe)](_0x4f3e7c(0x25b)),document[_0x4f3e7c(0x299)](selectedTile['id']+'-overlay')[_0x4f3e7c(0x1cf)][_0x4f3e7c(0x3fe)]('display-none')),isBuildingMoving=![],document[_0x4f3e7c(0x299)](_0x4f3e7c(0x40b))!==null&&document['getElementById']('moving-building-img')[_0x4f3e7c(0x3fe)]();});function removeSelectedTile(_0x6565b3){const _0x570ee7=a10_0x16d27a;_0x6565b3[_0x570ee7(0x1cf)][_0x570ee7(0x3fe)](_0x570ee7(0x429));}function tileClick(){const _0x17070e=a10_0x16d27a;if(isMoveMode===![]){Array[_0x17070e(0x2b3)](tileElements)[_0x17070e(0x471)](removeSelectedTile),selectedTile=document['getElementById'](this['id']),selectedTile[_0x17070e(0x1cf)][_0x17070e(0x509)]('selected-tile');gameState['tiles'][selectedTile['id']]===null?openBuildMenu():openBuildingInfoMenu();;const _0x468f71=document[_0x17070e(0x4a2)](_0x17070e(0x494));Array['from'](_0x468f71)['forEach'](function(_0x544b5b){const _0x46f76f=_0x17070e;_0x544b5b[_0x46f76f(0x1cf)][_0x46f76f(0x509)](_0x46f76f(0x328));}),Array[_0x17070e(0x2b3)](tileElements)[_0x17070e(0x471)](function(_0x51ab43){const _0x24b42e=_0x17070e;_0x51ab43[_0x24b42e(0x1cf)][_0x24b42e(0x509)]('go-dark');}),$('#'+selectedTile['id']+_0x17070e(0x35d))[_0x17070e(0x1cf)][_0x17070e(0x3fe)](_0x17070e(0x328)),$('#'+selectedTile['id'])[_0x17070e(0x1cf)]['remove'](_0x17070e(0x328));};};let isPreCombatMenuOpen=![];function turnTilesBright(){const _0x2e621e=a10_0x16d27a;isMenuOpen===![]&&isPreCombatMenuOpen===![]&&(Array['from'](tileOverlays)[_0x2e621e(0x471)](function(_0x53016c){const _0x391f99=_0x2e621e;_0x53016c[_0x391f99(0x1cf)]['remove'](_0x391f99(0x328));}),Array[_0x2e621e(0x2b3)](tileElements)[_0x2e621e(0x471)](function(_0x321167){const _0x106dac=_0x2e621e;_0x321167[_0x106dac(0x1cf)][_0x106dac(0x3fe)](_0x106dac(0x328));}));};function openBuildMenu(){const _0x3ec558=a10_0x16d27a;closeBuildingInfoMenu(),closeEnemyMenu(),closeTechTreeMenu(),closeChampionMenu(),buildMenu[_0x3ec558(0x1cf)][_0x3ec558(0x3fe)](_0x3ec558(0x44c)),isMenuOpen=!![];}function closeBuildMenu(){const _0x35e2b5=a10_0x16d27a;buildMenu['classList'][_0x35e2b5(0x509)]('display-none'),Array[_0x35e2b5(0x2b3)](tileElements)['forEach'](removeSelectedTile),isMenuOpen=![],turnTilesBright();}const preFightMenu=document[a10_0x16d27a(0x299)](a10_0x16d27a(0x203));function closePreFightkMenu(){const _0x1e3900=a10_0x16d27a;isPreCombatMenuOpen=![],turnTilesBright(),preFightMenu['classList'][_0x1e3900(0x509)](_0x1e3900(0x44c)),resetSelectedArmy(),selectedEnemyBuilding=null;let _0xdb07b8=document[_0x1e3900(0x4a2)]('enemy-army-card');Array[_0x1e3900(0x2b3)](_0xdb07b8)[_0x1e3900(0x471)](function(_0x2f4416){const _0x49baa7=_0x1e3900;_0x2f4416[_0x49baa7(0x1cf)][_0x49baa7(0x509)](_0x49baa7(0x44c));}),$('#win-chance')['innerText']=_0x1e3900(0x407);}function openBuildingInfoMenu(){const _0x1b1d53=a10_0x16d27a;closeBuildMenu(),closeBuildingInfoMenu(),closeEnemyMenu(),closeTechTreeMenu(),closeChampionMenu();const _0x35d2bc=gameState['tiles'][selectedTile['id']]+_0x1b1d53(0x336);document[_0x1b1d53(0x299)](_0x35d2bc)[_0x1b1d53(0x1cf)][_0x1b1d53(0x3fe)](_0x1b1d53(0x44c)),isMenuOpen=!![],gameState['tiles'][selectedTile['id']]===_0x1b1d53(0x32c)?isAlchemistHutOpen=!![]:isAlchemistHutOpen=![];}function closeBuildingInfoMenu(){const _0x32f0c8=a10_0x16d27a;let _0x46aef3=document[_0x32f0c8(0x4a2)](_0x32f0c8(0x420));Array[_0x32f0c8(0x2b3)](_0x46aef3)[_0x32f0c8(0x471)](function(_0x357292){const _0x1cdee3=_0x32f0c8;_0x357292[_0x1cdee3(0x1cf)][_0x1cdee3(0x509)](_0x1cdee3(0x44c));}),isMenuOpen=![],turnTilesBright(),Array[_0x32f0c8(0x2b3)](demolishBuildingBtn)[_0x32f0c8(0x471)](function(_0x5a8f17){const _0x2c82cb=_0x32f0c8;_0x5a8f17[_0x2c82cb(0x2df)]='Demolish',_0x5a8f17['style']['color']=_0x2c82cb(0x205);}),demolishBuildingClickedOnce=![],plantCardsContainer['classList'][_0x32f0c8(0x509)](_0x32f0c8(0x44c)),gardenPlots[_0x32f0c8(0x471)](_0x588316=>_0x588316['classList'][_0x32f0c8(0x3fe)](_0x32f0c8(0x3f8))),kettleSlots[_0x32f0c8(0x471)](_0x3a8358=>_0x3a8358[_0x32f0c8(0x1cf)][_0x32f0c8(0x3fe)](_0x32f0c8(0x3fc))),kettleSlots['forEach'](_0x56ec9e=>{const _0x47141d=_0x32f0c8;_0x56ec9e['children'][_0x47141d(0x425)]===0x1&&_0x56ec9e['removeChild'](_0x56ec9e[_0x47141d(0x2bb)]);}),resetKettleContents(kettleContents),brewBtn[_0x32f0c8(0x1cf)]['add'](_0x32f0c8(0x276)),closeRecipeBook();}function closeEnemyMenu(){const _0x5539ee=a10_0x16d27a;let _0x2d6e1e=document[_0x5539ee(0x4a2)]('enemy-menu');Array[_0x5539ee(0x2b3)](_0x2d6e1e)[_0x5539ee(0x471)](function(_0x3c7a95){const _0x4bfa84=_0x5539ee;_0x3c7a95[_0x4bfa84(0x1cf)][_0x4bfa84(0x509)]('display-none');}),isMenuOpen=![],turnTilesBright(),openChestBuildingBtn['innerText']=_0x5539ee(0x505);};const closeEnemyMenuBtns=document['getElementsByClassName'](a10_0x16d27a(0x3dd));Array[a10_0x16d27a(0x2b3)](closeEnemyMenuBtns)[a10_0x16d27a(0x471)](function(_0x24c338){const _0x724986=a10_0x16d27a;_0x24c338[_0x724986(0x3ff)](_0x724986(0x3b9),closeEnemyMenu);});let moveBtn=document[a10_0x16d27a(0x299)](a10_0x16d27a(0x3a8));moveBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),()=>letsJiggle());function letsJiggle(){const _0x569339=a10_0x16d27a;isMoveMode===![]?(isMoveMode=!![],moveBtn[_0x569339(0x1cf)][_0x569339(0x509)](_0x569339(0x339)),Array[_0x569339(0x2b3)](tileOverlays)[_0x569339(0x471)](function(_0x3a6dab){const _0x1929c1=_0x569339;gameState[_0x1929c1(0x3d9)][_0x1929c1(0x25d)](_0x3a6dab['id'][_0x1929c1(0x285)](/t\d+/)[0x0])?(_0x3a6dab[_0x1929c1(0x1cf)]['add'](_0x1929c1(0x335)),_0x3a6dab[_0x1929c1(0x481)]['animationDelay']=Math[_0x1929c1(0x45c)]()+'s'):_0x3a6dab[_0x1929c1(0x1cf)]['add']('buildings-dark');})):(isMoveMode=![],moveBtn[_0x569339(0x1cf)]['remove'](_0x569339(0x339)),Array[_0x569339(0x2b3)](tileOverlays)[_0x569339(0x471)](function(_0x5829e7){const _0x31613c=_0x569339;_0x5829e7[_0x31613c(0x1cf)][_0x31613c(0x3fe)](_0x31613c(0x335)),_0x5829e7[_0x31613c(0x481)][_0x31613c(0x28d)]='',_0x5829e7[_0x31613c(0x1cf)][_0x31613c(0x3fe)](_0x31613c(0x302));}));}let isMoveMode=![],isBuildingMoving=![],mousedownChecker,moveMouseX,moveMouseY;const movingContainer=document['getElementById']('moving-building-container');function longPressTile(_0x17185b){mousedownChecker=setTimeout(function(){isMoveMode===!![]&&moveBuilding(_0x17185b);},0x0);};function moveBuilding(_0x1352ac){const _0xc5084e=a10_0x16d27a;if(isBuildingMoving===![]){gameState['controlledTiles'][_0xc5084e(0x25d)](selectedTile['id'])===!![]&&gameState[_0xc5084e(0x3d9)]['includes'](selectedTile['id'])!==null&&Array[_0xc5084e(0x2b3)](tileOverlays)['forEach'](function(_0xad74ce){const _0x16cd6f=_0xc5084e;if(_0xad74ce['id']===selectedTile['id']+_0x16cd6f(0x35d)&&gameState[_0x16cd6f(0x500)][selectedTile['id']]!==null){closeBuildMenu(),closeBuildingInfoMenu(),closeEnemyMenu(),closePreFightkMenu(),closeTechTreeMenu(),closeChampionMenu(),movingContainer[_0x16cd6f(0x481)]['left']=moveMouseX-0x1e*zoomLevel+'px',movingContainer['style'][_0x16cd6f(0x3d0)]=moveMouseY-0x32*zoomLevel+'px',movingContainer['style'][_0x16cd6f(0x3e2)]=0x41*zoomLevel+'px',movingContainer[_0x16cd6f(0x481)][_0x16cd6f(0x277)]=0x41*zoomLevel+'px',document[_0x16cd6f(0x299)](selectedTile['id']+_0x16cd6f(0x35d))['classList']['add'](_0x16cd6f(0x44c));let _0x27aaa2=document[_0x16cd6f(0x3c0)]('img');_0x27aaa2['setAttribute']('id','moving-building-img'),_0x27aaa2[_0x16cd6f(0x2a8)](_0x16cd6f(0x4e8),_0x16cd6f(0x335)),_0x27aaa2[_0x16cd6f(0x483)]=_0x16cd6f(0x260)+gameState['tiles'][selectedTile['id']]+_0x16cd6f(0x462),document[_0x16cd6f(0x299)](_0x16cd6f(0x4f2))[_0x16cd6f(0x36f)](_0x27aaa2),dragInit(movingContainer),isBuildingMoving=!![];};});;}};const closeBuildingInfoBtn=document[a10_0x16d27a(0x4a2)](a10_0x16d27a(0x409));Array[a10_0x16d27a(0x2b3)](closeBuildingInfoBtn)[a10_0x16d27a(0x471)](function(_0x1f2665){const _0x40e8f9=a10_0x16d27a;_0x1f2665[_0x40e8f9(0x3ff)](_0x40e8f9(0x3b9),closeBuildingInfoMenu),Array['from'](tileElements)[_0x40e8f9(0x471)](removeSelectedTile);});function demolishBuilding(){const _0x252ba1=a10_0x16d27a;let _0x3b7d8c=gameState[_0x252ba1(0x500)][selectedTile['id']];gameState[_0x252ba1(0x500)][selectedTile['id']]=null;let _0x5d8ca5=document[_0x252ba1(0x299)](selectedTile['id']+_0x252ba1(0x35d));_0x5d8ca5[_0x252ba1(0x2c1)](_0x5d8ca5[_0x252ba1(0x1d3)]),closeBuildingInfoMenu(),Array[_0x252ba1(0x2b3)](tileElements)[_0x252ba1(0x471)](removeSelectedTile),gameState[_0x3b7d8c+_0x252ba1(0x26c)]--,updateBuildingPrices(),updateUnlocks();}const demolishBuildingBtn=document['getElementsByClassName'](a10_0x16d27a(0x508));let demolishBuildingClickedOnce=![];Array[a10_0x16d27a(0x2b3)](demolishBuildingBtn)[a10_0x16d27a(0x471)](function(_0x1b640e){const _0x3c4913=a10_0x16d27a;_0x1b640e[_0x3c4913(0x3ff)](_0x3c4913(0x3b9),function(){const _0x318307=_0x3c4913;demolishBuildingClickedOnce===![]?(demolishBuildingClickedOnce=!![],_0x1b640e[_0x318307(0x2df)]=_0x318307(0x503),_0x1b640e[_0x318307(0x481)][_0x318307(0x41e)]='white'):(demolishBuilding(),demolishBuildingClickedOnce=![]);});});const buildBtns=document[a10_0x16d27a(0x4a2)]('build-button'),tileOverlays=document[a10_0x16d27a(0x4a2)](a10_0x16d27a(0x494)),closeBuildMenuBtn=document[a10_0x16d27a(0x299)]('close-build-menu-button');function build(_0x1d8cdf){const _0x2d484c=a10_0x16d27a;if(gameState[_0x2d484c(0x500)][selectedTile['id']]===null){const _0x597d8b=buildingPrices[_0x1d8cdf],_0x2c3dba=Object['keys'](_0x597d8b)['every'](_0x2bcd0a=>_0x597d8b[_0x2bcd0a]<=gameState[_0x2bcd0a]);if(_0x2c3dba){for(const _0x3921ec in _0x597d8b){gameState[_0x3921ec]-=_0x597d8b[_0x3921ec];}let _0x3e1e84=document[_0x2d484c(0x3c0)](_0x2d484c(0x3b0));_0x3e1e84[_0x2d484c(0x2a8)](_0x2d484c(0x4e8),_0x2d484c(0x3b6)),_0x3e1e84['src']=_0x2d484c(0x260)+_0x1d8cdf+_0x2d484c(0x462),document[_0x2d484c(0x299)](selectedTile['id']+_0x2d484c(0x35d))[_0x2d484c(0x36f)](_0x3e1e84),gameState[_0x2d484c(0x500)][selectedTile['id']]=_0x1d8cdf,gameState[_0x1d8cdf+'Amount']++,updateBuildingPrices(),updateUnlocks(),closeBuildMenu();}}}Array['from'](buildBtns)[a10_0x16d27a(0x471)](function(_0x58cfdd){const _0x4f17a6=a10_0x16d27a;_0x58cfdd[_0x4f17a6(0x3ff)](_0x4f17a6(0x3b9),()=>build(_0x58cfdd['id']));}),closeBuildMenuBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),function(){closeBuildMenu();});let buildPageBtnLeft=document[a10_0x16d27a(0x299)](a10_0x16d27a(0x405)),buildPageBtnRight=document[a10_0x16d27a(0x299)](a10_0x16d27a(0x4fe)),buildPageNo=0x1;const buildPageMaxItems=0x7;function getBuildPageCount(){const _0x19f7c0=a10_0x16d27a,_0x12b4ac=Object[_0x19f7c0(0x222)](gameState[_0x19f7c0(0x467)])[_0x19f7c0(0x273)](_0x11f73b=>gameState['buildingsUnlocked'][_0x11f73b]===!![])[_0x19f7c0(0x425)];return Math[_0x19f7c0(0x21b)](_0x12b4ac/buildPageMaxItems);}buildPageBtnLeft[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),function(){if(buildPageNo>0x1)updateBuildPage(buildPageNo-0x1);}),buildPageBtnRight[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),function(){const _0x5ae840=getBuildPageCount();if(buildPageNo<_0x5ae840)updateBuildPage(buildPageNo+0x1);});function updateBuildPage(_0xaa1682){const _0xccad20=a10_0x16d27a;if(_0xaa1682)buildPageNo=_0xaa1682;const _0x3ffe4c=document[_0xccad20(0x326)](_0xccad20(0x464)),_0x5ea005=(buildPageNo-0x1)*buildPageMaxItems,_0x221be0=buildPageNo*buildPageMaxItems-0x1;for(let _0x2ceb09=0x0;_0x2ceb09<_0x3ffe4c['length'];_0x2ceb09++){if(_0x2ceb09>=_0x5ea005&&_0x2ceb09<=_0x221be0)_0x3ffe4c[_0x2ceb09][_0xccad20(0x481)][_0xccad20(0x259)]=_0xccad20(0x3f2);else _0x3ffe4c[_0x2ceb09][_0xccad20(0x481)][_0xccad20(0x259)]='none';}buildPageNo===0x1?document[_0xccad20(0x460)](_0xccad20(0x34c))[_0xccad20(0x1cf)][_0xccad20(0x509)](_0xccad20(0x276)):document[_0xccad20(0x460)](_0xccad20(0x34c))[_0xccad20(0x1cf)][_0xccad20(0x3fe)](_0xccad20(0x276)),buildPageNo===getBuildPageCount()?document[_0xccad20(0x460)]('#build-menu-page-btn-right')[_0xccad20(0x1cf)][_0xccad20(0x509)](_0xccad20(0x276)):document['querySelector'](_0xccad20(0x502))['classList'][_0xccad20(0x3fe)](_0xccad20(0x276));}updateBuildPage();const upgradeBuildingBtns=document[a10_0x16d27a(0x4a2)](a10_0x16d27a(0x4a8));function upgradeBuilding(_0x508efd){const _0x210b5a=a10_0x16d27a,_0x56186c=buildingUpgradePrices[_0x508efd],_0x3ac824=Object['keys'](_0x56186c)[_0x210b5a(0x43e)](_0x5624fb=>_0x56186c[_0x5624fb]<=gameState[_0x5624fb]);if(_0x3ac824){for(const _0x31799e in _0x56186c){gameState[_0x31799e]-=_0x56186c[_0x31799e];}gameState[_0x210b5a(0x4a9)][_0x508efd]++,updateBuildingPrices();}}Array[a10_0x16d27a(0x2b3)](upgradeBuildingBtns)[a10_0x16d27a(0x471)](function(_0xe11310){_0xe11310['addEventListener']('click',()=>{upgradeBuilding(_0xe11310['id']);});});const storageUpgradePrices={'food':{get 'wood'(){const _0x3a5c37=a10_0x16d27a;return Math[_0x3a5c37(0x435)](0x1f4*Math['pow'](gameState[_0x3a5c37(0x2f2)][_0x3a5c37(0x32b)],2.5));},get 'stone'(){const _0x12c13a=a10_0x16d27a;return Math['round'](0x1f4*Math[_0x12c13a(0x4bd)](gameState[_0x12c13a(0x2f2)][_0x12c13a(0x32b)],2.5));}},'wood':{get 'wood'(){const _0x3d409a=a10_0x16d27a;return Math[_0x3d409a(0x435)](0x1f4*Math['pow'](gameState[_0x3d409a(0x2f2)]['wood'],1.3));},get 'stone'(){const _0x504f59=a10_0x16d27a;return Math['round'](0x1f4*Math[_0x504f59(0x4bd)](gameState[_0x504f59(0x2f2)]['wood'],1.3));}},'stone':{get 'wood'(){const _0x242a4a=a10_0x16d27a;return Math[_0x242a4a(0x435)](0x1f4*Math[_0x242a4a(0x4bd)](gameState[_0x242a4a(0x2f2)]['stone'],1.3));},get 'stone'(){const _0x57c2f3=a10_0x16d27a;return Math[_0x57c2f3(0x435)](0x1f4*Math[_0x57c2f3(0x4bd)](gameState[_0x57c2f3(0x2f2)][_0x57c2f3(0x450)],1.3));}},'iron':{get 'wood'(){const _0x55743b=a10_0x16d27a;return Math[_0x55743b(0x435)](0x1f4*Math[_0x55743b(0x4bd)](gameState['storageLevels'][_0x55743b(0x21c)],2.5));},get 'stone'(){const _0x2b3f6f=a10_0x16d27a;return Math['round'](0x1f4*Math['pow'](gameState[_0x2b3f6f(0x2f2)][_0x2b3f6f(0x21c)],2.5));}},'equipment':{get 'wood'(){const _0x3d0c88=a10_0x16d27a;return Math['round'](0x1f4*Math[_0x3d0c88(0x4bd)](gameState[_0x3d0c88(0x2f2)]['equipment'],0x3));},get 'stone'(){const _0x17e504=a10_0x16d27a;return Math['round'](0x1f4*Math[_0x17e504(0x4bd)](gameState[_0x17e504(0x2f2)][_0x17e504(0x3eb)],0x3));}}},calcMaxResources={'food':_0x3c0d9d=>0x3e8*_0x3c0d9d[a10_0x16d27a(0x2f2)]['food']*(_0x3c0d9d['warehouseAmount']+0x1),'wood':_0x2f3405=>0x3e8*_0x2f3405[a10_0x16d27a(0x2f2)][a10_0x16d27a(0x1f7)]*(_0x2f3405[a10_0x16d27a(0x4db)]+0x1),'stone':_0x5d44bc=>0x3e8*_0x5d44bc[a10_0x16d27a(0x2f2)][a10_0x16d27a(0x450)]*(_0x5d44bc[a10_0x16d27a(0x4db)]+0x1),'iron':_0x4a88d8=>0x1f4*_0x4a88d8[a10_0x16d27a(0x2f2)][a10_0x16d27a(0x21c)]*(_0x4a88d8[a10_0x16d27a(0x4db)]+0x1),'equipment':_0x1ee733=>0xc8*_0x1ee733[a10_0x16d27a(0x2f2)]['equipment']*(_0x1ee733[a10_0x16d27a(0x4db)]+0x1),'knowledge':_0x4b5d5e=>0x3e8*Math[a10_0x16d27a(0x4bd)](1.15,_0x4b5d5e['perksUnlocked'][a10_0x16d27a(0x425)]+_0x4b5d5e[a10_0x16d27a(0x42c)]),'blood':_0xe6d923=>0x3e8+0x3e8*_0xe6d923['bloodBasinAmount']*_0xe6d923[a10_0x16d27a(0x4a9)]['bloodBasin']},maxResources={'humans':0xa,get 'food'(){const _0x221361=a10_0x16d27a;return calcMaxResources[_0x221361(0x32b)](gameState);},get 'wood'(){const _0x48ce07=a10_0x16d27a;return calcMaxResources[_0x48ce07(0x1f7)](gameState);},get 'stone'(){const _0x331960=a10_0x16d27a;return calcMaxResources[_0x331960(0x450)](gameState);},get 'iron'(){const _0x3b9990=a10_0x16d27a;return calcMaxResources[_0x3b9990(0x21c)](gameState);},get 'equipment'(){const _0x242c94=a10_0x16d27a;return calcMaxResources[_0x242c94(0x3eb)](gameState);},get 'knowledge'(){const _0x3cac0c=a10_0x16d27a;return calcMaxResources[_0x3cac0c(0x3b1)](gameState);},get 'blood'(){const _0x44a7b8=a10_0x16d27a;return calcMaxResources[_0x44a7b8(0x3d3)](gameState);},'magic':0x3e8},calcMaxPopulation={'army':_0x58f48e=>0xa+_0x58f48e[a10_0x16d27a(0x4a3)]*_0x58f48e[a10_0x16d27a(0x4a9)]['barracks'],'civil':_0x23a247=>0xa+_0x23a247['hutAmount']*_0x23a247[a10_0x16d27a(0x4a9)][a10_0x16d27a(0x4b5)]},maxPopulation={get 'army'(){const _0x23bbf=a10_0x16d27a;return calcMaxPopulation[_0x23bbf(0x49a)](gameState);},get 'civil'(){const _0x232dd4=a10_0x16d27a;return calcMaxPopulation[_0x232dd4(0x359)](gameState);}};function upgradeStorage(_0x16398f){const _0x4daf9d=a10_0x16d27a;let _0x151dfe=_0x16398f[_0x4daf9d(0x490)][_0x4daf9d(0x2e1)];const _0x51d4ef=storageUpgradePrices[_0x151dfe];gameState[_0x4daf9d(0x1f7)]>=_0x51d4ef['wood']&&gameState[_0x4daf9d(0x450)]>=_0x51d4ef[_0x4daf9d(0x450)]&&(gameState[_0x4daf9d(0x1f7)]-=_0x51d4ef[_0x4daf9d(0x1f7)],gameState[_0x4daf9d(0x450)]-=_0x51d4ef[_0x4daf9d(0x450)],gameState[_0x4daf9d(0x2f2)][_0x151dfe]++);};let upgradeStorageBtns=document[a10_0x16d27a(0x4a2)]('storage-upgrade-button');Array[a10_0x16d27a(0x2b3)](upgradeStorageBtns)[a10_0x16d27a(0x471)](function(_0x23e22c){const _0xb43379=a10_0x16d27a;_0x23e22c['addEventListener'](_0xb43379(0x3b9),()=>upgradeStorage(_0x23e22c));}),$(a10_0x16d27a(0x439))['addEventListener'](a10_0x16d27a(0x3b9),function(){isTechTreeOpen===![]?openTechTreeMenu():closeTechTreeMenu();});function openTechTreeMenu(){const _0x22136e=a10_0x16d27a;$('#tech-tree-menu')[_0x22136e(0x1cf)][_0x22136e(0x3fe)]('display-none'),closeEnemyMenu(),closeBuildingInfoMenu(),closeBuildMenu(),closeChampionMenu(),isTechTreeOpen=!![];};$(a10_0x16d27a(0x430))[a10_0x16d27a(0x3ff)]('click',closeTechTreeMenu);let isTechTreeOpen=![];function closeTechTreeMenu(){const _0x5503eb=a10_0x16d27a;$(_0x5503eb(0x4f6))['classList']['add'](_0x5503eb(0x44c)),isTechTreeOpen=![];};$(a10_0x16d27a(0x39f))[a10_0x16d27a(0x3ff)]('click',convertKnowledge);function convertKnowledge(){const _0xddd936=a10_0x16d27a;gameState[_0xddd936(0x3b1)]===maxResources['knowledge']&&(gameState['knowledge']=0x0,gameState[_0xddd936(0x42c)]++,updatePerkPoints());}const prestigeCounter=document[a10_0x16d27a(0x460)]('.prestige-counter'),prestigeCounterContainer=document['querySelector'](a10_0x16d27a(0x3e8)),prestigeBtn=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x3ce));let prestigeAnimationTimeout;prestigeBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),prestige),prestigeBtn['addEventListener'](a10_0x16d27a(0x4cc),()=>{const _0x5c46f1=a10_0x16d27a;clearTimeout(prestigeAnimationTimeout),prestigeBtn[_0x5c46f1(0x481)][_0x5c46f1(0x2f6)]=_0x5c46f1(0x361),setTimeout(()=>{const _0x272efd=_0x5c46f1;prestigeBtn['classList'][_0x272efd(0x509)](_0x272efd(0x4e6));},0x0);}),prestigeBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x2db),()=>{const _0x1d7c3d=a10_0x16d27a;prestigeBtn['classList'][_0x1d7c3d(0x3fe)]('prestige-button-hover'),prestigeAnimationTimeout=setTimeout(()=>{const _0x394e2f=_0x1d7c3d;prestigeBtn[_0x394e2f(0x481)][_0x394e2f(0x2f6)]=_0x394e2f(0x34e);},0x1f4);});function prestige(){const _0x39562f=a10_0x16d27a;soulState[_0x39562f(0x270)]++,prestigeBtn[_0x39562f(0x1cf)]['add'](_0x39562f(0x1e1)),setTimeout(()=>{const _0x48858d=_0x39562f;prestigeBtn[_0x48858d(0x1cf)][_0x48858d(0x509)]('display-none'),prestigeBtn[_0x48858d(0x1cf)][_0x48858d(0x3fe)](_0x48858d(0x1e1)),prestigeCounterContainer[_0x48858d(0x1cf)]['remove'](_0x48858d(0x44c));},0x195),resetGame(),updatePrestigeCounter();}const championMenuBtn=$(a10_0x16d27a(0x2af)),characterBtn=$(a10_0x16d27a(0x2dd)),inventoryBtn=$(a10_0x16d27a(0x470)),soulPerkBtn=$(a10_0x16d27a(0x256)),shopBtn=$('#shop-btn'),characterMenu=$(a10_0x16d27a(0x315)),inventoryMenu=$('#inventory-menu'),soulPerkMenu=$('#soul-perk-menu'),shopMenu=$(a10_0x16d27a(0x1fa)),bagBtn1=$('#bag-btn-1'),bagBtn2=$('#bag-btn-2'),bagBtn3=$(a10_0x16d27a(0x2b4));let isChampionMenuOpen=![],isCharacterMenuOpen=![],isInventoryMenuOpen=![],isSoulPerkMenuOpen=![],isShopMenuOpen=![];championMenuBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),openChampionMenu);function openChampionMenu(){const _0x5a8158=a10_0x16d27a;isChampionMenuOpen===![]?(closeBuildMenu(),closeTechTreeMenu(),closeEnemyMenu(),closeBuildingInfoMenu(),inventoryBtn[_0x5a8158(0x1cf)][_0x5a8158(0x509)](_0x5a8158(0x311)),soulPerkBtn[_0x5a8158(0x1cf)][_0x5a8158(0x3fe)](_0x5a8158(0x311)),characterBtn[_0x5a8158(0x1cf)][_0x5a8158(0x3fe)](_0x5a8158(0x311)),shopBtn[_0x5a8158(0x1cf)]['remove'](_0x5a8158(0x311)),$(_0x5a8158(0x1e3))['classList'][_0x5a8158(0x3fe)](_0x5a8158(0x44c)),isMenuOpen=!![],isChampionMenuOpen=!![]):closeChampionMenu();}characterBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),openCharacterMenu),inventoryBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),openInventoryMenu),soulPerkBtn[a10_0x16d27a(0x3ff)]('click',openSoulPerkMenu),shopBtn[a10_0x16d27a(0x3ff)]('click',openShopMenu);function openCharacterMenu(){const _0xb55026=a10_0x16d27a;characterBtn['classList']['add']('champion-menu-tab-btn-active'),inventoryBtn['classList'][_0xb55026(0x3fe)](_0xb55026(0x311)),soulPerkBtn[_0xb55026(0x1cf)]['remove'](_0xb55026(0x311)),shopBtn[_0xb55026(0x1cf)]['remove'](_0xb55026(0x311)),isCharacterMenuOpen=!![],isInventoryMenuOpen=![],isSoulPerkMenuOpen=![],isShopMenuOpen=![],inventoryMenu[_0xb55026(0x1cf)][_0xb55026(0x509)](_0xb55026(0x44c)),soulPerkMenu[_0xb55026(0x1cf)][_0xb55026(0x509)]('display-none'),characterMenu[_0xb55026(0x1cf)][_0xb55026(0x3fe)](_0xb55026(0x44c)),shopMenu[_0xb55026(0x1cf)][_0xb55026(0x509)](_0xb55026(0x44c));}function openInventoryMenu(){const _0x115bb9=a10_0x16d27a;inventoryBtn['classList'][_0x115bb9(0x509)](_0x115bb9(0x311)),characterBtn[_0x115bb9(0x1cf)][_0x115bb9(0x3fe)](_0x115bb9(0x311)),soulPerkBtn[_0x115bb9(0x1cf)][_0x115bb9(0x3fe)](_0x115bb9(0x311)),shopBtn[_0x115bb9(0x1cf)][_0x115bb9(0x3fe)](_0x115bb9(0x311)),isInventoryMenuOpen=!![],isCharacterMenuOpen=![],isSoulPerkMenuOpen=![],isShopMenuOpen=![],characterMenu[_0x115bb9(0x1cf)]['add']('display-none'),soulPerkMenu[_0x115bb9(0x1cf)][_0x115bb9(0x509)](_0x115bb9(0x44c)),inventoryMenu['classList'][_0x115bb9(0x3fe)](_0x115bb9(0x44c)),shopMenu['classList']['add'](_0x115bb9(0x44c));}function openSoulPerkMenu(){const _0x2103df=a10_0x16d27a;soulPerkBtn[_0x2103df(0x1cf)][_0x2103df(0x509)](_0x2103df(0x311)),characterBtn[_0x2103df(0x1cf)][_0x2103df(0x3fe)](_0x2103df(0x311)),inventoryBtn[_0x2103df(0x1cf)][_0x2103df(0x3fe)](_0x2103df(0x311)),shopBtn[_0x2103df(0x1cf)][_0x2103df(0x3fe)](_0x2103df(0x311)),isSoulPerkMenuOpen=!![],isInventoryMenuOpen=![],isCharacterMenuOpen=![],isShopMenuOpen=![],inventoryMenu[_0x2103df(0x1cf)]['add'](_0x2103df(0x44c)),soulPerkMenu[_0x2103df(0x1cf)][_0x2103df(0x3fe)](_0x2103df(0x44c)),characterMenu[_0x2103df(0x1cf)][_0x2103df(0x509)](_0x2103df(0x44c)),shopMenu['classList'][_0x2103df(0x509)](_0x2103df(0x44c));}function openShopMenu(){const _0x1012ef=a10_0x16d27a;soulPerkBtn['classList']['remove'](_0x1012ef(0x311)),characterBtn['classList'][_0x1012ef(0x3fe)]('champion-menu-tab-btn-active'),inventoryBtn[_0x1012ef(0x1cf)][_0x1012ef(0x3fe)](_0x1012ef(0x311)),shopBtn['classList'][_0x1012ef(0x509)](_0x1012ef(0x311)),isSoulPerkMenuOpen=![],isInventoryMenuOpen=![],isCharacterMenuOpen=![],isShopMenuOpen=!![],inventoryMenu[_0x1012ef(0x1cf)][_0x1012ef(0x509)](_0x1012ef(0x44c)),soulPerkMenu[_0x1012ef(0x1cf)][_0x1012ef(0x509)](_0x1012ef(0x44c)),characterMenu[_0x1012ef(0x1cf)][_0x1012ef(0x509)](_0x1012ef(0x44c)),shopMenu[_0x1012ef(0x1cf)]['remove'](_0x1012ef(0x44c));}function closeChampionMenu(){const _0x3a0752=a10_0x16d27a;$(_0x3a0752(0x1e3))['classList'][_0x3a0752(0x509)]('display-none'),isMenuOpen=![],isChampionMenuOpen=![],isCharacterMenuOpen=![],isInventoryMenuOpen=![],isSoulPerkMenuOpen=![],isShopMenuOpen=![],characterMenu['classList']['add'](_0x3a0752(0x44c)),soulPerkMenu[_0x3a0752(0x1cf)]['add'](_0x3a0752(0x44c)),inventoryMenu[_0x3a0752(0x1cf)][_0x3a0752(0x3fe)](_0x3a0752(0x44c)),shopMenu['classList'][_0x3a0752(0x509)]('display-none');}bagBtn1[a10_0x16d27a(0x3ff)]('click',openBag1),bagBtn2[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),openBag2),bagBtn3[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),openBag3);function openBag1(){const _0x395119=a10_0x16d27a;bagBtn1['classList'][_0x395119(0x509)]('inventory-tab-active'),bagBtn2['classList'][_0x395119(0x3fe)](_0x395119(0x376)),bagBtn3['classList'][_0x395119(0x3fe)](_0x395119(0x376)),$('#bag-1')[_0x395119(0x1cf)][_0x395119(0x3fe)]('display-none'),$('#bag-2')[_0x395119(0x1cf)][_0x395119(0x509)](_0x395119(0x44c)),$('#bag-3')[_0x395119(0x1cf)][_0x395119(0x509)]('display-none');}function openBag2(){const _0x46a758=a10_0x16d27a;bagBtn2[_0x46a758(0x1cf)][_0x46a758(0x509)](_0x46a758(0x376)),bagBtn1[_0x46a758(0x1cf)]['remove'](_0x46a758(0x376)),bagBtn3[_0x46a758(0x1cf)][_0x46a758(0x3fe)](_0x46a758(0x376)),$(_0x46a758(0x2a6))[_0x46a758(0x1cf)][_0x46a758(0x3fe)](_0x46a758(0x44c)),$(_0x46a758(0x2c6))['classList'][_0x46a758(0x509)](_0x46a758(0x44c)),$('#bag-3')['classList'][_0x46a758(0x509)](_0x46a758(0x44c));}function openBag3(){const _0x425b01=a10_0x16d27a;bagBtn3[_0x425b01(0x1cf)][_0x425b01(0x509)](_0x425b01(0x376)),bagBtn2['classList'][_0x425b01(0x3fe)](_0x425b01(0x376)),bagBtn1['classList'][_0x425b01(0x3fe)](_0x425b01(0x376)),$('#bag-3')['classList'][_0x425b01(0x3fe)]('display-none'),$(_0x425b01(0x2a6))[_0x425b01(0x1cf)]['add'](_0x425b01(0x44c)),$(_0x425b01(0x2c6))['classList']['add']('display-none');}function getPerkCount(_0x301a5f){const _0x369431=a10_0x16d27a;return gameState[_0x369431(0x3f7)][_0x369431(0x273)](_0x537242=>_0x537242[_0x369431(0x285)](new RegExp(_0x301a5f,'i')))[_0x369431(0x425)];}function getPerkAttackBonus(){const _0x181ba8=a10_0x16d27a;return{'unholy':getPerkCount(_0x181ba8(0x254))*0x7/0x64,'fire':(getPerkCount(_0x181ba8(0x419))*0x7+getPerkCount(_0x181ba8(0x30f))*0xf)/0x64,'frost':(getPerkCount(_0x181ba8(0x382))*0x7+getPerkCount('unitingTheElements')*0xf)/0x64,'arcane':(getPerkCount(_0x181ba8(0x4ce))*0x7+getPerkCount(_0x181ba8(0x30f))*0xf)/0x64,'nature':getPerkCount('naturesVengeanceI*')*0x7/0x64};}function getBaseAttack(_0x1e1426){const _0x3e7592=a10_0x16d27a,_0x35c340=0x1+0.2*getPerkCount(_0x3e7592(0x356)+_0x1e1426+'I*');return originalUnitAttack[_0x1e1426]*_0x35c340;}function getBaseDefense(_0x1ede27){const _0x29525b=a10_0x16d27a,_0x10e3a0=0x1+0.2*getPerkCount(_0x29525b(0x356)+_0x1ede27+'I*');return originalUnitDefense[_0x1ede27]*_0x10e3a0;}function updateUnitAttack(){const _0x618481=a10_0x16d27a,_0x4a05f3=getPerkAttackBonus();for(const _0x43a13f in unitAttack){if(friendlyArmyUnitTypes['includes'](_0x43a13f)){let _0x1186c7=0x1+totalItemBonuses[_0x618481(0x316)];const _0x35a838=unitAttackTypes[_0x43a13f];for(const _0x1f76b7 of _0x35a838){_0x1186c7+=totalItemBonuses[_0x1f76b7+_0x618481(0x323)],_0x1186c7+=_0x4a05f3[_0x1f76b7]||0x0,_0x1186c7+=getPotionCombatBoost(_0x1f76b7);}unitAttack[_0x43a13f]=getBaseAttack(_0x43a13f)*_0x1186c7;}}};function updateUnitDefense(){const _0x3fd59b=a10_0x16d27a;for(const _0x456738 in unitDefense){if(friendlyArmyUnitTypes[_0x3fd59b(0x25d)](_0x456738)){let _0x3b10a3=0x1+totalItemBonuses[_0x3fd59b(0x4b4)];unitDefense[_0x456738]=getBaseDefense(_0x456738)*_0x3b10a3;}}};let perkBtns=document[a10_0x16d27a(0x4a2)](a10_0x16d27a(0x1fb)),perkStrokes=document[a10_0x16d27a(0x4a2)]('perk-stroke');function updateTechTree(){const _0x2818bf=a10_0x16d27a;Array[_0x2818bf(0x2b3)](perkBtns)['forEach'](function(_0x12009a){const _0x4b2978=_0x2818bf;gameState[_0x4b2978(0x3f7)][_0x4b2978(0x25d)](_0x12009a[_0x4b2978(0x490)][_0x4b2978(0x39b)])===!![]?_0x12009a[_0x4b2978(0x1cf)][_0x4b2978(0x509)]('perk-obtained'):_0x12009a[_0x4b2978(0x1cf)][_0x4b2978(0x3fe)](_0x4b2978(0x31a));}),Array['from'](perkStrokes)[_0x2818bf(0x471)](function(_0x29e680){const _0xc1eb11=_0x2818bf;gameState[_0xc1eb11(0x3f7)][_0xc1eb11(0x25d)](_0x29e680[_0xc1eb11(0x490)][_0xc1eb11(0x39b)])===!![]?_0x29e680[_0xc1eb11(0x1cf)][_0xc1eb11(0x509)](_0xc1eb11(0x2f4)):_0x29e680[_0xc1eb11(0x1cf)][_0xc1eb11(0x3fe)](_0xc1eb11(0x2f4));}),updateUnitAttack(),updateUnitDefense(),updatePerkPoints();};updateTechTree();function updatePerkPoints(){const _0x1198dd=a10_0x16d27a;gameState[_0x1198dd(0x42c)]>0x0?$(_0x1198dd(0x439))[_0x1198dd(0x1cf)][_0x1198dd(0x509)](_0x1198dd(0x4f4)):$(_0x1198dd(0x439))[_0x1198dd(0x1cf)]['remove'](_0x1198dd(0x4f4)),document[_0x1198dd(0x326)](_0x1198dd(0x4cf))['forEach'](function(_0x39933a){const _0x24c394=_0x1198dd;_0x39933a[_0x24c394(0x2df)]=gameState[_0x24c394(0x42c)];});};const bookBtns=document[a10_0x16d27a(0x326)]('.tech-tree-nav-button'),techTrees=document[a10_0x16d27a(0x326)](a10_0x16d27a(0x22f));bookBtns['forEach'](function(_0x54790c){const _0x3fc48e=a10_0x16d27a;_0x54790c[_0x3fc48e(0x3ff)](_0x3fc48e(0x3b9),()=>{const _0x5ae391=_0x3fc48e;if(_0x54790c[_0x5ae391(0x490)][_0x5ae391(0x46c)]!==_0x5ae391(0x2e2)){let _0x874b96=_0x54790c[_0x5ae391(0x490)][_0x5ae391(0x46c)];techTrees[_0x5ae391(0x471)](function(_0x447fd8){const _0x1d7384=_0x5ae391;_0x447fd8[_0x1d7384(0x1cf)]['add']('display-none'),_0x447fd8[_0x1d7384(0x490)][_0x1d7384(0x46c)]===_0x874b96&&_0x447fd8[_0x1d7384(0x1cf)][_0x1d7384(0x3fe)](_0x1d7384(0x44c));});}});});const techTreePerks=document[a10_0x16d27a(0x4a2)](a10_0x16d27a(0x350)),techTreeTooltips=document['getElementsByClassName'](a10_0x16d27a(0x3a3));Array[a10_0x16d27a(0x2b3)](techTreePerks)[a10_0x16d27a(0x471)](function(_0x58e9d0){_0x58e9d0['onmouseover']=function(){const _0x42aa8c=a10_0x33f7;document[_0x42aa8c(0x299)]('tech-tree-tooltips')[_0x42aa8c(0x1cf)][_0x42aa8c(0x3fe)]('display-none');let _0x2cb405=_0x58e9d0[_0x42aa8c(0x490)][_0x42aa8c(0x39b)];Array[_0x42aa8c(0x2b3)](techTreeTooltips)[_0x42aa8c(0x471)](function(_0x3c5623){const _0x1fc448=_0x42aa8c;_0x2cb405===_0x3c5623[_0x1fc448(0x490)][_0x1fc448(0x39b)]&&_0x3c5623[_0x1fc448(0x1cf)]['remove']('display-none');});},_0x58e9d0['onmouseleave']=function(){const _0x1879c2=a10_0x33f7;document[_0x1879c2(0x299)](_0x1879c2(0x2da))[_0x1879c2(0x1cf)][_0x1879c2(0x509)](_0x1879c2(0x44c)),Array['from'](techTreeTooltips)[_0x1879c2(0x471)](function(_0x36d7b7){const _0x2ff07e=_0x1879c2;_0x36d7b7[_0x2ff07e(0x1cf)][_0x2ff07e(0x509)]('display-none');});};});function unlockPerk(_0x5b5e04){const _0x306bf6=a10_0x16d27a;if(gameState[_0x306bf6(0x42c)]>0x0&&gameState['perksUnlocked'][_0x306bf6(0x25d)](_0x5b5e04)===![]){if(_0x5b5e04===_0x306bf6(0x301)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x499))===![]||_0x5b5e04===_0x306bf6(0x234)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)]('demonicFertility')===![]||_0x5b5e04===_0x306bf6(0x20b)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x234))===![]||_0x5b5e04===_0x306bf6(0x402)&&gameState['perksUnlocked'][_0x306bf6(0x25d)](_0x306bf6(0x20b))===![]||_0x5b5e04==='enhancedSacrificialAltar'&&gameState['perksUnlocked'][_0x306bf6(0x25d)]('sacrificialAltar')===![]||_0x5b5e04===_0x306bf6(0x231)&&gameState['perksUnlocked'][_0x306bf6(0x25d)]('demonicFertilityIII')===![]||_0x5b5e04===_0x306bf6(0x278)&&gameState['perksUnlocked'][_0x306bf6(0x25d)](_0x306bf6(0x231))===![]||_0x5b5e04===_0x306bf6(0x506)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x301))===![]||_0x5b5e04===_0x306bf6(0x4d4)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x499))===![]||_0x5b5e04===_0x306bf6(0x2eb)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x4d4))===![]||_0x5b5e04===_0x306bf6(0x2c3)&&gameState['perksUnlocked'][_0x306bf6(0x25d)]('demonicFuryII')===![]||_0x5b5e04===_0x306bf6(0x447)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)]('demonicFuryIII')===![]||_0x5b5e04===_0x306bf6(0x434)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x447))===![]||_0x5b5e04==='succubus'&&gameState[_0x306bf6(0x3f7)]['includes'](_0x306bf6(0x2c3))===![]||_0x5b5e04===_0x306bf6(0x2a2)&&gameState['perksUnlocked'][_0x306bf6(0x25d)](_0x306bf6(0x2c9))===![]||_0x5b5e04===_0x306bf6(0x1d1)&&gameState['perksUnlocked'][_0x306bf6(0x25d)](_0x306bf6(0x4d4))===![]||_0x5b5e04===_0x306bf6(0x41b)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x1d1))===![]||_0x5b5e04==='bloodDemon'&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x447))===![]||_0x5b5e04==='bloodDemon'&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x402))===![]||_0x5b5e04===_0x306bf6(0x34a)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x296))===![]||_0x5b5e04===_0x306bf6(0x2f9)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)]('bloodDemon')===![]||_0x5b5e04===_0x306bf6(0x4fb)&&gameState['perksUnlocked'][_0x306bf6(0x25d)](_0x306bf6(0x296))===![]||_0x5b5e04===_0x306bf6(0x38f)&&gameState['perksUnlocked'][_0x306bf6(0x25d)](_0x306bf6(0x252))===![]||_0x5b5e04===_0x306bf6(0x1e4)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x38f))===![]||_0x5b5e04===_0x306bf6(0x223)&&gameState['perksUnlocked'][_0x306bf6(0x25d)](_0x306bf6(0x1e4))===![]||_0x5b5e04===_0x306bf6(0x2c0)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x223))===![]||_0x5b5e04===_0x306bf6(0x473)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x2c0))===![]||_0x5b5e04===_0x306bf6(0x282)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)]('collegeOfArcanum')===![]||_0x5b5e04==='arcaneTalentScouting'&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x282))===![]||_0x5b5e04===_0x306bf6(0x398)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x22c))===![]||_0x5b5e04===_0x306bf6(0x468)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x398))===![]||_0x5b5e04===_0x306bf6(0x4d7)&&gameState['perksUnlocked'][_0x306bf6(0x25d)](_0x306bf6(0x468))===![]||_0x5b5e04===_0x306bf6(0x274)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x454))===![]||_0x5b5e04===_0x306bf6(0x4f8)&&gameState['perksUnlocked'][_0x306bf6(0x25d)](_0x306bf6(0x274))===![]||_0x5b5e04===_0x306bf6(0x4e7)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)]('frostTalentScouting')===![]||_0x5b5e04==='enhancedCollegeOfFrost'&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x4e7))===![]||_0x5b5e04===_0x306bf6(0x1f8)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x386))===![]||_0x5b5e04==='unitingTheElements'&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x473))===![]||_0x5b5e04===_0x306bf6(0x30f)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x4d7))===![]||_0x5b5e04==='unitingTheElements'&&gameState[_0x306bf6(0x3f7)]['includes'](_0x306bf6(0x1f8))===![]||_0x5b5e04==='enhancedTeleportation'&&gameState['perksUnlocked']['includes']('teleportation')===![]||_0x5b5e04===_0x306bf6(0x21d)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x1dc))===![]||_0x5b5e04==='naturesVengeanceII'&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)]('naturesVengeance')===![]||_0x5b5e04===_0x306bf6(0x3e0)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x2fb))===![]||_0x5b5e04===_0x306bf6(0x3ba)&&gameState[_0x306bf6(0x3f7)]['includes'](_0x306bf6(0x1f3))===![]||_0x5b5e04==='herbalGarden'&&gameState[_0x306bf6(0x3f7)]['includes'](_0x306bf6(0x3ba))===![]||_0x5b5e04===_0x306bf6(0x3f1)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x269))===![]||_0x5b5e04===_0x306bf6(0x30e)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x3e0))===![]||_0x5b5e04===_0x306bf6(0x30e)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)]('denseForestsIII')===![]||_0x5b5e04===_0x306bf6(0x4b1)&&gameState[_0x306bf6(0x3f7)]['includes'](_0x306bf6(0x30e))===![]||_0x5b5e04===_0x306bf6(0x3da)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x30e))===![]||_0x5b5e04===_0x306bf6(0x32c)&&gameState['perksUnlocked'][_0x306bf6(0x25d)](_0x306bf6(0x269))===![]||_0x5b5e04==='hops'&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)]('alchemistHut')===![]||_0x5b5e04===_0x306bf6(0x297)&&gameState[_0x306bf6(0x3f7)]['includes']('hops')===![]||_0x5b5e04===_0x306bf6(0x36b)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)]('hops')===![]||_0x5b5e04===_0x306bf6(0x2bd)&&gameState[_0x306bf6(0x3f7)]['includes'](_0x306bf6(0x4d2))===![]||_0x5b5e04===_0x306bf6(0x466)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)](_0x306bf6(0x2bd))===![]||_0x5b5e04==='pinstripeCalathea'&&gameState['perksUnlocked'][_0x306bf6(0x25d)]('bronzeFennel')===![]||_0x5b5e04===_0x306bf6(0x43a)&&gameState[_0x306bf6(0x3f7)][_0x306bf6(0x25d)]('bronzeFennel')===![]||_0x5b5e04===_0x306bf6(0x220)&&gameState['perksUnlocked'][_0x306bf6(0x25d)](_0x306bf6(0x43a))===![]||_0x5b5e04===_0x306bf6(0x3aa)&&gameState[_0x306bf6(0x3f7)]['includes'](_0x306bf6(0x43a))===![]){}else gameState['perksUnlocked'][_0x306bf6(0x214)](_0x5b5e04),gameState['perkPoints']--,updateTechTree(),updateUnlocks(),updateUnitAttack(),updateUnitDefense();}};Array[a10_0x16d27a(0x2b3)](perkBtns)['forEach'](function(_0x47e37c){const _0x1e0406=a10_0x16d27a;_0x47e37c['addEventListener'](_0x1e0406(0x3b9),()=>unlockPerk(_0x47e37c['dataset'][_0x1e0406(0x39b)]));}),document[a10_0x16d27a(0x3ff)]('keydown',logKey);function logKey(_0xcf44e6){const _0x2195cc=a10_0x16d27a;if(_0xcf44e6['code']===_0x2195cc(0x241)&&isTechTreeOpen===![]&&gameState[_0x2195cc(0x304)]===!![])openTechTreeMenu();else _0xcf44e6[_0x2195cc(0x401)]===_0x2195cc(0x241)&&closeTechTreeMenu();;_0xcf44e6[_0x2195cc(0x401)]===_0x2195cc(0x3d1)&&(closeBuildMenu(),closeTechTreeMenu(),closeEnemyMenu(),closeBuildingInfoMenu(),closeChampionMenu(),closeSettings());;_0xcf44e6[_0x2195cc(0x401)]===_0x2195cc(0x4c0)&&letsJiggle();;if(_0xcf44e6[_0x2195cc(0x401)]===_0x2195cc(0x362)&&isChampionMenuOpen===![]&&isInventoryMenuOpen===![]&&(gameState[_0x2195cc(0x1cd)]||soulState[_0x2195cc(0x270)]>0x1))openChampionMenu(),openInventoryMenu();else{if(_0xcf44e6[_0x2195cc(0x401)]===_0x2195cc(0x362)&&isChampionMenuOpen===!![]&&isInventoryMenuOpen===![])openInventoryMenu();else _0xcf44e6[_0x2195cc(0x401)]==='KeyI'&&isChampionMenuOpen===!![]&&isInventoryMenuOpen===!![]&&closeChampionMenu();}if(gameState[_0x2195cc(0x1cd)]===!![]){if(_0xcf44e6['code']===_0x2195cc(0x4be)&&isChampionMenuOpen===![]&&isShopMenuOpen===![])openChampionMenu(),openShopMenu();else{if(_0xcf44e6[_0x2195cc(0x401)]==='KeyS'&&isChampionMenuOpen===!![]&&isShopMenuOpen===![])openShopMenu();else _0xcf44e6[_0x2195cc(0x401)]===_0x2195cc(0x4be)&&isChampionMenuOpen===!![]&&isShopMenuOpen===!![]&&closeChampionMenu();}}};const attackBtns=document[a10_0x16d27a(0x4a2)]('attack-button');Array['from'](attackBtns)['forEach'](function(_0x4317ef){const _0x22b130=a10_0x16d27a;_0x4317ef[_0x22b130(0x3ff)]('click',()=>openPreCombatMenu(_0x4317ef));});function openPreCombatMenu(_0x18f829){const _0x1c7d40=a10_0x16d27a;if(gameState['isCombat']===![]){document['getElementById'](_0x1c7d40(0x203))[_0x1c7d40(0x1cf)][_0x1c7d40(0x3fe)](_0x1c7d40(0x44c)),combatSimBtn[_0x1c7d40(0x1cf)][_0x1c7d40(0x509)](_0x1c7d40(0x276));const _0x1f222c=getCombatSimCost();combatSimBtn['querySelector'](_0x1c7d40(0x4dc))[_0x1c7d40(0x2df)]=_0x1f222c[_0x1c7d40(0x3b1)],combatSimBtn[_0x1c7d40(0x460)](_0x1c7d40(0x246))['innerText']=_0x1f222c[_0x1c7d40(0x2be)],isPreCombatMenuOpen=!![],closeEnemyMenu(),selectedEnemyBuilding=_0x18f829[_0x1c7d40(0x490)][_0x1c7d40(0x364)];let _0x3356ba=document[_0x1c7d40(0x4a2)](_0x1c7d40(0x4a7));Array[_0x1c7d40(0x2b3)](_0x3356ba)[_0x1c7d40(0x471)](function(_0xb8aab5){const _0x45008d=_0x1c7d40;_0xb8aab5[_0x45008d(0x1cf)][_0x45008d(0x509)](_0x45008d(0x44c));enemyStructureUnits[selectedEnemyBuilding][_0xb8aab5[_0x45008d(0x490)][_0x45008d(0x45f)]]>0x0&&_0xb8aab5[_0x45008d(0x1cf)]['remove'](_0x45008d(0x44c));;});let _0x518e47=document[_0x1c7d40(0x4a2)](_0x1c7d40(0x2f3));Array[_0x1c7d40(0x2b3)](_0x518e47)[_0x1c7d40(0x471)](function(_0xc4452e){const _0x129230=_0x1c7d40;_0xc4452e['innerText']=enemyStructureUnits[selectedEnemyBuilding][_0xc4452e[_0x129230(0x490)][_0x129230(0x45f)]];}),gameState[_0x1c7d40(0x1f1)]=selectedTile['id'],closeVicDef();};};updateUnlocks();function updateEnemyCounts(){const _0x3b36ed=a10_0x16d27a;let _0x4479c7=document[_0x3b36ed(0x4a2)](_0x3b36ed(0x42e));Array[_0x3b36ed(0x2b3)](_0x4479c7)[_0x3b36ed(0x471)](function(_0x33185a){const _0x3e344c=_0x3b36ed;_0x33185a[_0x3e344c(0x2df)]=enemyStructureUnits[_0x33185a[_0x3e344c(0x490)][_0x3e344c(0x1f9)]][_0x33185a[_0x3e344c(0x490)]['unitType']];});};updateEnemyCounts();let selectedEnemyBuilding=null,selectedArmy=initArmyUnitCounts();function resetSelectedArmy(){const _0x464646=a10_0x16d27a;selectedArmy=initArmyUnitCounts();for(const _0x153a33 in selectedArmy){document['getElementById']('selected-'+_0x153a33+_0x464646(0x258))[_0x464646(0x2df)]=0x0;}}function loadInCombatUnits(){const _0x41a5ea=a10_0x16d27a;let _0x1a7fec=document['getElementsByClassName'](_0x41a5ea(0x1d2));for(const _0x344945 of _0x1a7fec){(gameState[_0x41a5ea(0x2b2)][_0x344945['dataset'][_0x41a5ea(0x45f)]]||0x0)>0x0?_0x344945['classList'][_0x41a5ea(0x3fe)](_0x41a5ea(0x44c)):_0x344945[_0x41a5ea(0x1cf)][_0x41a5ea(0x509)](_0x41a5ea(0x44c));;};updateInCombatCounts(),resetSelectedArmy();};function updateInCombatCounts(){const _0xa4dab8=a10_0x16d27a;let _0x366828=document[_0xa4dab8(0x4a2)](_0xa4dab8(0x389));for(const _0x4676c6 of _0x366828){_0x4676c6[_0xa4dab8(0x2df)]=gameState[_0xa4dab8(0x2b2)][_0x4676c6['dataset']['enemyType']];};}const closePreFightMenuBtn=document[a10_0x16d27a(0x299)](a10_0x16d27a(0x280));closePreFightMenuBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),closePreFightkMenu);const increaseUnitSelectionBtns=document[a10_0x16d27a(0x4a2)](a10_0x16d27a(0x312)),decreaseUnitSelectionBtns=document[a10_0x16d27a(0x4a2)](a10_0x16d27a(0x32d)),combatInitBtn=document[a10_0x16d27a(0x299)]('initiate-combat-button');function combatInit(){const _0x5da1e2=a10_0x16d27a;(Object['values'](selectedArmy)[_0x5da1e2(0x3e5)](_0x11bcd5=>_0x11bcd5>0x0)||gameState[_0x5da1e2(0x310)]===!![])&&(preFightMenu[_0x5da1e2(0x1cf)][_0x5da1e2(0x509)](_0x5da1e2(0x44c)),document[_0x5da1e2(0x299)](_0x5da1e2(0x449))[_0x5da1e2(0x1cf)][_0x5da1e2(0x3fe)]('display-none'),isPreCombatMenuOpen=![],turnTilesBright(),gameState[_0x5da1e2(0x310)]===![]&&(gameState['unitsInCombat']={...selectedArmy,...enemyStructureUnits[selectedEnemyBuilding]}),loadInCombatUnits(),gameState['isCombat']=!![]);;}combatInit(),combatInitBtn[a10_0x16d27a(0x3ff)]('click',combatInit);function increaseUnitSelection(){const _0x5506b5=a10_0x16d27a;let _0xbdf603=this['dataset'][_0x5506b5(0x45f)];gameState[_0x5506b5(0x27c)][_0xbdf603]>selectedArmy[_0xbdf603]&&(selectedArmy[_0xbdf603]++,document[_0x5506b5(0x299)]('selected-'+_0xbdf603+_0x5506b5(0x258))[_0x5506b5(0x2df)]=selectedArmy[_0xbdf603]);}Array[a10_0x16d27a(0x2b3)](increaseUnitSelectionBtns)['forEach'](function(_0x3c06e0){const _0x1b0754=a10_0x16d27a;_0x3c06e0['addEventListener'](_0x1b0754(0x3b9),increaseUnitSelection);});function decreaseUnitSelection(){const _0x54c3a3=a10_0x16d27a;let _0x568680=this[_0x54c3a3(0x490)][_0x54c3a3(0x45f)];selectedArmy[_0x568680]>0x0&&(selectedArmy[_0x568680]--,document[_0x54c3a3(0x299)](_0x54c3a3(0x31d)+_0x568680+_0x54c3a3(0x258))[_0x54c3a3(0x2df)]=selectedArmy[_0x568680]);}Array['from'](decreaseUnitSelectionBtns)[a10_0x16d27a(0x471)](function(_0x6bf8b4){const _0x5cc7c5=a10_0x16d27a;_0x6bf8b4[_0x5cc7c5(0x3ff)]('click',decreaseUnitSelection);});const maxOutUnitsBtn=$('#max-out-units-btn');maxOutUnitsBtn['addEventListener'](a10_0x16d27a(0x3b9),function(){const _0x56bba4=a10_0x16d27a;for(const _0x398134 in selectedArmy){selectedArmy[_0x398134]=gameState[_0x56bba4(0x27c)][_0x398134],document[_0x56bba4(0x299)](_0x56bba4(0x31d)+_0x398134+'-count')[_0x56bba4(0x2df)]=selectedArmy[_0x398134];}});const retreatBtn=$(a10_0x16d27a(0x374));retreatBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),function(){const _0x5072fa=a10_0x16d27a;gameState[_0x5072fa(0x3eb)]>gameState['retreatCost']&&(gameState['equipment']-=gameState[_0x5072fa(0x3d8)],endCombat());});function endCombat(){const _0x173b3b=a10_0x16d27a;closeEnemyMenu(),gameState['isCombat']=![],isAutoResolving=![],gameState[_0x173b3b(0x482)]=null,gameState[_0x173b3b(0x327)]=0x0;const _0x1cf1f7=$(_0x173b3b(0x444));_0x1cf1f7['classList'][_0x173b3b(0x509)](_0x173b3b(0x44c));gameState['currentlyFighting']!==null&&document[_0x173b3b(0x299)](gameState[_0x173b3b(0x1f1)]+_0x173b3b(0x35d))[_0x173b3b(0x1cf)][_0x173b3b(0x3fe)](_0x173b3b(0x23f));;gameState[_0x173b3b(0x2b2)]={},Array[_0x173b3b(0x2b3)](attackBtns)['forEach'](_0x88f597=>_0x88f597[_0x173b3b(0x1cf)][_0x173b3b(0x3fe)](_0x173b3b(0x276))),combatLog[_0x173b3b(0x43b)]='',gameState[_0x173b3b(0x1cd)]=!![],updateUnlocks();};let loadBuildingIMGS=function(){const _0x443e76=a10_0x16d27a;for(const _0x311e7a of tileElements){if(gameState[_0x443e76(0x500)][_0x311e7a['id']]!=undefined){const _0xd2b30e=document['createElement'](_0x443e76(0x3b0));_0xd2b30e[_0x443e76(0x483)]=_0x443e76(0x260)+gameState['tiles'][_0x311e7a['id']]+_0x443e76(0x462),_0xd2b30e['setAttribute']('class','tile-overlay-image');const _0x41eddf=document[_0x443e76(0x299)](_0x311e7a['id']+_0x443e76(0x35d));_0x41eddf['replaceChildren'](_0xd2b30e);}}};loadBuildingIMGS();const bagSlots=document[a10_0x16d27a(0x4a2)]('inventory-grid-item'),characterSlots=document[a10_0x16d27a(0x4a2)](a10_0x16d27a(0x4f5)),bagBtns=document[a10_0x16d27a(0x4a2)]('inventory-tab'),itemToolTipContainer=document['querySelector'](a10_0x16d27a(0x37d)),itemNameContainer=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x4e0));Array[a10_0x16d27a(0x2b3)](bagSlots)[a10_0x16d27a(0x471)](function(_0x73bdef){const _0x5338e5=a10_0x16d27a;let _0x58debb='i'+_0x73bdef[_0x5338e5(0x490)][_0x5338e5(0x1e7)];_0x73bdef['addEventListener'](_0x5338e5(0x2c8),function(){const _0x22a8e8=_0x5338e5;if(Object[_0x22a8e8(0x222)](soulState[_0x58debb])[_0x22a8e8(0x425)]!==0x0){moveItem(_0x58debb);if(isItemBeingMoved===![]){let _0x282ba2=document[_0x22a8e8(0x3c0)](_0x22a8e8(0x3b0));const _0x213540=soulState['i'+_0x73bdef[_0x22a8e8(0x490)]['bagSlot']][_0x22a8e8(0x416)];_0x282ba2['setAttribute'](_0x22a8e8(0x4e8),_0x22a8e8(0x37b)),_0x282ba2[_0x22a8e8(0x483)]=_0x22a8e8(0x34d)+_0x213540,document[_0x22a8e8(0x299)](_0x22a8e8(0x4f2))[_0x22a8e8(0x36f)](_0x282ba2),moveMouseX=event[_0x22a8e8(0x300)],moveMouseY=event[_0x22a8e8(0x307)],movingContainer[_0x22a8e8(0x481)][_0x22a8e8(0x3e2)]=0x3c+'px',movingContainer[_0x22a8e8(0x481)][_0x22a8e8(0x277)]=0x3c+'px',movingContainer[_0x22a8e8(0x481)][_0x22a8e8(0x29a)]=moveMouseX-0x1e+'px',movingContainer['style'][_0x22a8e8(0x3d0)]=moveMouseY-0x1e+'px',dragInit(movingContainer);}isItemBeingMoved=!![],updateTotalItemBonuses();}loadItemPlaceholderIMGS();}),_0x73bdef[_0x5338e5(0x3ff)]('mouseup',function(){const _0x2bcaa8=_0x5338e5;isItemBeingMoved===!![]&&(moveItemStop(soulState,_0x58debb),isItemBeingMoved=![],updateTotalItemBonuses(),movingContainer[_0x2bcaa8(0x2c1)](movingContainer['firstChild']));}),_0x73bdef[_0x5338e5(0x3ff)](_0x5338e5(0x4cc),()=>showItemTooltip(soulState,_0x73bdef)),_0x73bdef[_0x5338e5(0x3ff)](_0x5338e5(0x2fc),()=>showItemTooltip(soulState,_0x73bdef)),_0x73bdef[_0x5338e5(0x3ff)](_0x5338e5(0x2db),function(){const _0x840f60=_0x5338e5;itemToolTipContainer[_0x840f60(0x1cf)][_0x840f60(0x509)](_0x840f60(0x44c)),itemNameContainer['style'][_0x840f60(0x41e)]='';});}),Array['from'](characterSlots)[a10_0x16d27a(0x471)](function(_0x406678){const _0x58e9f0=a10_0x16d27a;let _0x20492c=_0x406678['dataset'][_0x58e9f0(0x3ea)];_0x406678[_0x58e9f0(0x3ff)](_0x58e9f0(0x2c8),function(){const _0x26d313=_0x58e9f0;if(Object['keys'](soulState[_0x20492c])[_0x26d313(0x425)]!==0x0){moveItem(_0x20492c);if(isItemBeingMoved===![]){let _0x58dd4c=document['createElement'](_0x26d313(0x3b0));const _0x4790d0=soulState[_0x406678[_0x26d313(0x490)][_0x26d313(0x3ea)]][_0x26d313(0x416)];_0x58dd4c[_0x26d313(0x2a8)](_0x26d313(0x4e8),_0x26d313(0x37b)),_0x58dd4c[_0x26d313(0x483)]=_0x26d313(0x34d)+_0x4790d0,document[_0x26d313(0x299)]('moving-building-container')[_0x26d313(0x36f)](_0x58dd4c),moveMouseX=event[_0x26d313(0x300)],moveMouseY=event[_0x26d313(0x307)],movingContainer[_0x26d313(0x481)][_0x26d313(0x3e2)]=0x3c+'px',movingContainer[_0x26d313(0x481)][_0x26d313(0x277)]=0x3c+'px',movingContainer[_0x26d313(0x481)][_0x26d313(0x29a)]=moveMouseX-0x1e+'px',movingContainer['style']['top']=moveMouseY-0x1e+'px',dragInit(movingContainer),isItemBeingMoved=!![],updateTotalItemBonuses();}}loadItemPlaceholderIMGS();}),_0x406678['addEventListener'](_0x58e9f0(0x2fc),function(){const _0x50221d=_0x58e9f0;isItemBeingMoved===!![]&&(moveItemStop(soulState,_0x20492c),isItemBeingMoved=![],movingContainer[_0x50221d(0x2c1)](movingContainer[_0x50221d(0x1d3)]),updateTotalItemBonuses());}),_0x406678['addEventListener'](_0x58e9f0(0x4cc),()=>showItemTooltip(soulState,_0x406678)),_0x406678['addEventListener']('mouseup',()=>showItemTooltip(soulState,_0x406678)),_0x406678[_0x58e9f0(0x3ff)](_0x58e9f0(0x2db),function(){const _0x52a0b1=_0x58e9f0;itemToolTipContainer[_0x52a0b1(0x1cf)][_0x52a0b1(0x509)]('display-none'),itemNameContainer[_0x52a0b1(0x481)]['color']='';});});let isItemBeingMoved=![];document[a10_0x16d27a(0x3e6)][a10_0x16d27a(0x3ff)](a10_0x16d27a(0x2db),function(){const _0xaa2f0f=a10_0x16d27a;isItemBeingMoved===!![]&&(abandonMoveItem(soulState),isItemBeingMoved=![],movingContainer[_0xaa2f0f(0x2c1)](movingContainer[_0xaa2f0f(0x1d3)]),updateTotalItemBonuses());}),document[a10_0x16d27a(0x3e6)][a10_0x16d27a(0x3ff)](a10_0x16d27a(0x2fc),function(){const _0x4a8095=a10_0x16d27a;isItemBeingMoved===!![]&&(abandonMoveItem(soulState),isItemBeingMoved=![],movingContainer[_0x4a8095(0x2c1)](movingContainer['firstChild']),updateTotalItemBonuses());}),Array[a10_0x16d27a(0x2b3)](bagBtns)[a10_0x16d27a(0x471)](function(_0x21d320){const _0x371284=a10_0x16d27a;let _0x4f8355;_0x21d320['addEventListener']('mouseover',function(){isItemBeingMoved===!![]&&(_0x4f8355=setTimeout(function(){const _0x41e9ba=a10_0x33f7;if(_0x21d320['id']===_0x41e9ba(0x393))openBag1();else{if(_0x21d320['id']===_0x41e9ba(0x3ee))openBag2();else _0x21d320['id']==='bag-btn-3'&&openBag3();}},0x12c));}),_0x21d320[_0x371284(0x3ff)](_0x371284(0x2db),function(){clearTimeout(_0x4f8355);});});const sellItemBox=document['querySelector'](a10_0x16d27a(0x2b0));sellItemBox[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x4cc),prepareSale),sellItemBox[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x2db),stopSale),sellItemBox[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x2fc),function(){isItemBeingMoved===!![]&&(sellItem(soulState),sellAnimation(),loadShopPrices(soulState));});function prepareSale(){const _0x454e80=a10_0x16d27a;isItemBeingMoved===!![]&&(sellItemBox[_0x454e80(0x481)][_0x454e80(0x273)]=_0x454e80(0x3be),sellItemBox[_0x454e80(0x481)]['transform']=_0x454e80(0x2c2),sellItemBox[_0x454e80(0x2df)]=_0x454e80(0x3c6));}function stopSale(){const _0xfe846f=a10_0x16d27a;sellItemBox[_0xfe846f(0x481)][_0xfe846f(0x273)]='',sellItemBox[_0xfe846f(0x2df)]='Sell',sellItemBox[_0xfe846f(0x481)][_0xfe846f(0x349)]='';}function sellAnimation(){const _0x3f5198=a10_0x16d27a;sellItemBox[_0x3f5198(0x481)][_0x3f5198(0x273)]='',sellItemBox[_0x3f5198(0x2df)]=_0x3f5198(0x397),sellItemBox[_0x3f5198(0x481)]['transform']='',document[_0x3f5198(0x460)](_0x3f5198(0x40e))[_0x3f5198(0x481)][_0x3f5198(0x349)]=_0x3f5198(0x2c2),setTimeout(function(){const _0x4ea94f=_0x3f5198;document[_0x4ea94f(0x460)](_0x4ea94f(0x40e))[_0x4ea94f(0x481)]['transform']='';},0xc8);}function updateTotalItemBonuses(){const _0x3de56e=a10_0x16d27a;Object[_0x3de56e(0x222)](totalItemBonuses)[_0x3de56e(0x471)](_0x42a2c4=>totalItemBonuses[_0x42a2c4]=0x0),Array[_0x3de56e(0x2b3)](characterSlots)[_0x3de56e(0x471)](function(_0x5e15b5){const _0x25d37e=_0x3de56e;if(soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]]['stat']===_0x25d37e(0x3e1))totalItemBonuses[_0x25d37e(0x316)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x4ba)];else soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x40d)]===_0x25d37e(0x237)&&(totalItemBonuses['def']+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x4ba)]);soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x3ae)]===_0x25d37e(0x3a6)&&(totalItemBonuses[_0x25d37e(0x365)]+=soulState[_0x5e15b5['dataset'][_0x25d37e(0x3ea)]][_0x25d37e(0x383)]),soulState[_0x5e15b5[_0x25d37e(0x490)]['charSlot']][_0x25d37e(0x3ae)]===_0x25d37e(0x29c)&&(totalItemBonuses[_0x25d37e(0x3b7)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x383)]),soulState[_0x5e15b5['dataset'][_0x25d37e(0x3ea)]][_0x25d37e(0x3ae)]===_0x25d37e(0x247)&&(totalItemBonuses[_0x25d37e(0x332)]+=soulState[_0x5e15b5['dataset'][_0x25d37e(0x3ea)]]['spAtkBuff']),soulState[_0x5e15b5[_0x25d37e(0x490)]['charSlot']][_0x25d37e(0x3ae)]===_0x25d37e(0x3d4)&&(totalItemBonuses[_0x25d37e(0x354)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x383)]),soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]]['spAtkType']===_0x25d37e(0x368)&&(totalItemBonuses[_0x25d37e(0x446)]+=soulState[_0x5e15b5[_0x25d37e(0x490)]['charSlot']][_0x25d37e(0x383)]),soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]]['spAtkType']==='frost'&&(totalItemBonuses[_0x25d37e(0x400)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x383)]),soulState[_0x5e15b5[_0x25d37e(0x490)]['charSlot']]['spAtkType']===_0x25d37e(0x1de)&&(totalItemBonuses[_0x25d37e(0x287)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x383)]),soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x3ae)]===_0x25d37e(0x3ec)&&(totalItemBonuses[_0x25d37e(0x3d7)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x383)]),soulState[_0x5e15b5[_0x25d37e(0x490)]['charSlot']][_0x25d37e(0x3ae)]===_0x25d37e(0x342)&&(totalItemBonuses[_0x25d37e(0x4e3)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x383)]),soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x50a)]===_0x25d37e(0x1d5)&&(totalItemBonuses['humans']+=soulState[_0x5e15b5['dataset'][_0x25d37e(0x3ea)]][_0x25d37e(0x412)]),soulState[_0x5e15b5['dataset'][_0x25d37e(0x3ea)]][_0x25d37e(0x50a)]===_0x25d37e(0x32b)&&(totalItemBonuses[_0x25d37e(0x32b)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x412)]),soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x50a)]==='wood'&&(totalItemBonuses[_0x25d37e(0x1f7)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]]['productionBonusOnePower']),soulState[_0x5e15b5[_0x25d37e(0x490)]['charSlot']][_0x25d37e(0x50a)]==='stone'&&(totalItemBonuses[_0x25d37e(0x450)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x412)]),soulState[_0x5e15b5[_0x25d37e(0x490)]['charSlot']][_0x25d37e(0x50a)]===_0x25d37e(0x21c)&&(totalItemBonuses['iron']+=soulState[_0x5e15b5['dataset'][_0x25d37e(0x3ea)]]['productionBonusOnePower']),soulState[_0x5e15b5['dataset']['charSlot']]['productionBonusOne']===_0x25d37e(0x3eb)&&(totalItemBonuses[_0x25d37e(0x3eb)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]]['productionBonusOnePower']),soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]]['productionBonusOne']===_0x25d37e(0x3b1)&&(totalItemBonuses[_0x25d37e(0x3b1)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x412)]),soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]]['productionBonusOne']===_0x25d37e(0x3d3)&&(totalItemBonuses['blood']+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x412)]),soulState[_0x5e15b5['dataset']['charSlot']][_0x25d37e(0x1df)]==='humans'&&(totalItemBonuses[_0x25d37e(0x1d5)]+=soulState[_0x5e15b5[_0x25d37e(0x490)]['charSlot']][_0x25d37e(0x3cf)]),soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x1df)]==='food'&&(totalItemBonuses['food']+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x3cf)]),soulState[_0x5e15b5[_0x25d37e(0x490)]['charSlot']][_0x25d37e(0x1df)]==='wood'&&(totalItemBonuses[_0x25d37e(0x1f7)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x3cf)]),soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]]['productionBonusTwo']==='stone'&&(totalItemBonuses['stone']+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x3cf)]),soulState[_0x5e15b5['dataset'][_0x25d37e(0x3ea)]]['productionBonusTwo']===_0x25d37e(0x21c)&&(totalItemBonuses[_0x25d37e(0x21c)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x3cf)]),soulState[_0x5e15b5[_0x25d37e(0x490)]['charSlot']]['productionBonusTwo']==='equipment'&&(totalItemBonuses[_0x25d37e(0x3eb)]+=soulState[_0x5e15b5['dataset'][_0x25d37e(0x3ea)]]['productionBonusTwoPower']),soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x1df)]===_0x25d37e(0x3b1)&&(totalItemBonuses[_0x25d37e(0x3b1)]+=soulState[_0x5e15b5['dataset'][_0x25d37e(0x3ea)]][_0x25d37e(0x3cf)]),soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x1df)]===_0x25d37e(0x3d3)&&(totalItemBonuses[_0x25d37e(0x3d3)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x3cf)]),soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x4aa)]===_0x25d37e(0x1d5)&&(totalItemBonuses['humans']+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x3cb)]),soulState[_0x5e15b5['dataset'][_0x25d37e(0x3ea)]][_0x25d37e(0x4aa)]===_0x25d37e(0x32b)&&(totalItemBonuses[_0x25d37e(0x32b)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x3cb)]),soulState[_0x5e15b5[_0x25d37e(0x490)]['charSlot']][_0x25d37e(0x4aa)]==='wood'&&(totalItemBonuses[_0x25d37e(0x1f7)]+=soulState[_0x5e15b5['dataset'][_0x25d37e(0x3ea)]]['doubleProductionBonusPower']),soulState[_0x5e15b5['dataset'][_0x25d37e(0x3ea)]][_0x25d37e(0x4aa)]==='stone'&&(totalItemBonuses['stone']+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x3cb)]),soulState[_0x5e15b5['dataset']['charSlot']]['doubleProductionBonus']===_0x25d37e(0x21c)&&(totalItemBonuses[_0x25d37e(0x21c)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x3cb)]),soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x4aa)]===_0x25d37e(0x3eb)&&(totalItemBonuses[_0x25d37e(0x3eb)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x3cb)]),soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x4aa)]==='knowledge'&&(totalItemBonuses[_0x25d37e(0x3b1)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x3cb)]),soulState[_0x5e15b5['dataset'][_0x25d37e(0x3ea)]][_0x25d37e(0x4aa)]===_0x25d37e(0x3d3)&&(totalItemBonuses[_0x25d37e(0x3d3)]+=soulState[_0x5e15b5[_0x25d37e(0x490)][_0x25d37e(0x3ea)]][_0x25d37e(0x3cb)]);});const _0x55edd4=document[_0x3de56e(0x4a2)](_0x3de56e(0x243));Array[_0x3de56e(0x2b3)](_0x55edd4)[_0x3de56e(0x471)](function(_0x119b11){const _0xddbdf1=_0x3de56e;_0x119b11[_0xddbdf1(0x2df)]='+'+(totalItemBonuses[_0x119b11[_0xddbdf1(0x490)][_0xddbdf1(0x40d)]]*0x64)[_0xddbdf1(0x469)](0x2)+'%';}),updateUnitAttack(),updateUnitDefense();}updateTotalItemBonuses();const combatStatsBtn=document['querySelector']('.combat-stats-btn'),productionStatsBtn=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x46d)),combatStatsContainer=document[a10_0x16d27a(0x460)](a10_0x16d27a(0x1e8)),productionStatsContainer=document['querySelector']('.production-stats-container');combatStatsBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),function(){const _0x2c52fa=a10_0x16d27a;combatStatsBtn[_0x2c52fa(0x1cf)][_0x2c52fa(0x509)](_0x2c52fa(0x321)),productionStatsBtn['classList'][_0x2c52fa(0x3fe)](_0x2c52fa(0x321)),combatStatsContainer[_0x2c52fa(0x1cf)][_0x2c52fa(0x3fe)]('display-none'),productionStatsContainer[_0x2c52fa(0x1cf)][_0x2c52fa(0x509)](_0x2c52fa(0x44c));}),productionStatsBtn['addEventListener'](a10_0x16d27a(0x3b9),function(){const _0x3b5309=a10_0x16d27a;combatStatsBtn['classList'][_0x3b5309(0x3fe)]('inventory-stats-btn-active'),productionStatsBtn[_0x3b5309(0x1cf)][_0x3b5309(0x509)]('inventory-stats-btn-active'),combatStatsContainer[_0x3b5309(0x1cf)][_0x3b5309(0x509)](_0x3b5309(0x44c)),productionStatsContainer[_0x3b5309(0x1cf)][_0x3b5309(0x3fe)](_0x3b5309(0x44c));}),updateGoldCount(soulState),loadItemIMGS(soulState),loadItemPlaceholderIMGS();const zoomInBtn=document[a10_0x16d27a(0x299)]('zoom-in'),zoomOutBtn=document['getElementById'](a10_0x16d27a(0x3a2));let zoomLevel=1.2,zoomTimeoutId;zoomInBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),zoomIn);function zoomIn(){const _0x299140=a10_0x16d27a;if(zoomLevel<3.2){clearTimeout(zoomTimeoutId);zoomLevel>2.8?zoomLevel=3.2:zoomLevel+=0.4;let _0x4f533e=document[_0x299140(0x299)](_0x299140(0x4cd)),_0x601c55=document['getElementById'](_0x299140(0x216));_0x4f533e['classList']['add']('smooth-transition'),_0x601c55[_0x299140(0x1cf)]['add'](_0x299140(0x391)),_0x4f533e[_0x299140(0x481)][_0x299140(0x349)]='rotateX(55deg)\x20rotateZ(45deg)\x20scale('+zoomLevel+')',_0x601c55[_0x299140(0x481)][_0x299140(0x349)]=_0x299140(0x496)+zoomLevel+')',zoomTimeoutId=setTimeout(function(){const _0x59f6b3=_0x299140;_0x4f533e['classList'][_0x59f6b3(0x3fe)](_0x59f6b3(0x391)),_0x601c55['classList']['remove'](_0x59f6b3(0x391));},0xc8);};};zoomOutBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),zoomOut);function zoomOut(){const _0x149a54=a10_0x16d27a;if(zoomLevel>0.5){clearTimeout(zoomTimeoutId);zoomLevel<0.9?zoomLevel=0.5:zoomLevel-=0.4;let _0x25f33a=document['getElementById'](_0x149a54(0x4cd)),_0x52841b=document[_0x149a54(0x299)]('buildings');_0x25f33a[_0x149a54(0x1cf)][_0x149a54(0x509)]('smooth-transition'),_0x52841b[_0x149a54(0x1cf)][_0x149a54(0x509)](_0x149a54(0x391)),_0x25f33a['style']['transform']='rotateX(55deg)\x20rotateZ(45deg)\x20scale('+zoomLevel+')',_0x52841b[_0x149a54(0x481)][_0x149a54(0x349)]=_0x149a54(0x496)+zoomLevel+')',zoomTimeoutId=setTimeout(function(){const _0x53ba81=_0x149a54;_0x25f33a[_0x53ba81(0x1cf)][_0x53ba81(0x3fe)](_0x53ba81(0x391)),_0x52841b[_0x53ba81(0x1cf)][_0x53ba81(0x3fe)](_0x53ba81(0x391));},0xc8);}}let toggleFullScreenBtn=document[a10_0x16d27a(0x299)](a10_0x16d27a(0x3b4));toggleFullScreenBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),toggleFullScreen);function toggleFullScreen(){const _0x32ec89=a10_0x16d27a;document[_0x32ec89(0x474)]===null?(document[_0x32ec89(0x460)](_0x32ec89(0x46a))[_0x32ec89(0x2d5)](),document['getElementById'](_0x32ec89(0x2a1))['classList'][_0x32ec89(0x3fe)](_0x32ec89(0x44c)),document[_0x32ec89(0x299)](_0x32ec89(0x2dc))['classList'][_0x32ec89(0x509)](_0x32ec89(0x44c)),document['querySelector']('.adsbygoogle')[_0x32ec89(0x1cf)][_0x32ec89(0x509)](_0x32ec89(0x44c)),document['documentElement'][_0x32ec89(0x481)]['setProperty'](_0x32ec89(0x2ab),'0px')):(document[_0x32ec89(0x4bb)](),document['getElementById'](_0x32ec89(0x2dc))[_0x32ec89(0x1cf)][_0x32ec89(0x3fe)](_0x32ec89(0x44c)),document[_0x32ec89(0x299)](_0x32ec89(0x2a1))[_0x32ec89(0x1cf)]['add']('display-none'),document['querySelector'](_0x32ec89(0x457))[_0x32ec89(0x1cf)]['remove'](_0x32ec89(0x44c)),document[_0x32ec89(0x37f)][_0x32ec89(0x481)][_0x32ec89(0x48e)]('--ad-container-width',_0x32ec89(0x3d5)));;};const map=document[a10_0x16d27a(0x299)]('map');map[a10_0x16d27a(0x3ff)]('wheel',function(_0x52ae1c){const _0x5c6164=a10_0x16d27a;isBuildingMoving===![]&&(zoomLevel-=_0x52ae1c[_0x5c6164(0x21f)]*0.002,zoomLevel=Math[_0x5c6164(0x284)](Math[_0x5c6164(0x2b6)](0.5,zoomLevel),3.2),document['getElementById']('map-grid')[_0x5c6164(0x481)][_0x5c6164(0x349)]=_0x5c6164(0x24d)+zoomLevel+')',document[_0x5c6164(0x299)]('buildings')['style'][_0x5c6164(0x349)]=_0x5c6164(0x496)+zoomLevel+')');},{'passive':!![]});let selected=null,xPos=0x0,yPos=0x0,xElem=0x0,yElem=0x0;function dragInit(_0x4e7f9f){const _0x399084=a10_0x16d27a;selected=_0x4e7f9f,xElem=xPos-selected[_0x399084(0x318)],yElem=yPos-selected[_0x399084(0x47a)];}function moveElem(_0x42eb8a){const _0x52e590=a10_0x16d27a;xPos=window['event'][_0x52e590(0x24a)],yPos=window[_0x52e590(0x47c)][_0x52e590(0x341)],selected!==null&&(selected['style']['left']=xPos-xElem+'px',selected[_0x52e590(0x481)][_0x52e590(0x3d0)]=yPos-yElem+'px');}function destroy(){selected=null;}document[a10_0x16d27a(0x299)](a10_0x16d27a(0x3f0))[a10_0x16d27a(0x338)]=function(_0x245c74){return dragInit(this),![];},document[a10_0x16d27a(0x299)]('grid-container')['onmouseup']=function(){closeBuildMenu(),closeEnemyMenu(),closeBuildingInfoMenu(),closeBuildMenu(),closePreFightkMenu(),closeTechTreeMenu(),closeChampionMenu();},document[a10_0x16d27a(0x44f)]=moveElem,document['onmouseup']=destroy;let tileReach;function calcTileReach(){const _0x1df08c=a10_0x16d27a;let _0x407635=[];gameState[_0x1df08c(0x3d9)][_0x1df08c(0x471)](function(_0x3c9de2){const _0x29c9cc=_0x1df08c;_0x407635['push'](_0x3c9de2[_0x29c9cc(0x228)]('t',''));}),tileReach=[],_0x407635[_0x1df08c(0x471)](function(_0x13621c){const _0x273a6c=_0x1df08c;_0x13621c=parseInt(_0x13621c);if(_0x13621c===0x1)tileReach[_0x273a6c(0x214)]('t'+(_0x13621c+0x1),'t'+(_0x13621c+0x8));else{if(_0x13621c===0x8)tileReach['push']('t'+(_0x13621c-0x1),'t'+(_0x13621c+0x8));else{if(_0x13621c===0x39)tileReach['push']('t'+(_0x13621c-0x8),'t'+(_0x13621c+0x1));else{if(_0x13621c===0x40)tileReach['push']('t'+(_0x13621c-0x8),'t'+(_0x13621c-0x1));else{if(_0x13621c%0x8===0x1)tileReach[_0x273a6c(0x214)]('t'+(_0x13621c-0x8),'t'+(_0x13621c+0x1),'t'+(_0x13621c+0x8));else{if(_0x13621c%0x8===0x0)tileReach[_0x273a6c(0x214)]('t'+(_0x13621c-0x8),'t'+(_0x13621c-0x1),'t'+(_0x13621c+0x8));else{if(_0x13621c<0x8)tileReach['push']('t'+(_0x13621c-0x1),'t'+(_0x13621c+0x1),'t'+(_0x13621c+0x8));else _0x13621c>0x39?tileReach[_0x273a6c(0x214)]('t'+(_0x13621c-0x1),'t'+(_0x13621c+0x1),'t'+(_0x13621c-0x8)):tileReach[_0x273a6c(0x214)]('t'+(_0x13621c-0x1),'t'+(_0x13621c+0x1),'t'+(_0x13621c-0x8),'t'+(_0x13621c+0x8));}}}}}}});};function updatePrestigeCounter(){const _0xf4475a=a10_0x16d27a;prestigeCounter[_0xf4475a(0x2df)]=soulState[_0xf4475a(0x270)];}updatePrestigeCounter();function refreshFog(){const _0x54f926=a10_0x16d27a;calcTileReach(),Array['from'](tileOverlays)[_0x54f926(0x471)](function(_0x1a5a7c){const _0x533799=_0x54f926;_0x1a5a7c[_0x533799(0x481)][_0x533799(0x4e5)]='0.5s\x20ease-in-out',setTimeout(()=>{const _0x4d0c46=_0x533799;_0x1a5a7c[_0x4d0c46(0x481)][_0x4d0c46(0x4e5)]='';},0x1f4),tileReach[_0x533799(0x25d)](_0x1a5a7c['id'][_0x533799(0x228)](_0x533799(0x35d),''))===![]&&_0x1a5a7c[_0x533799(0x1cf)][_0x533799(0x509)](_0x533799(0x33b)),tileReach['includes'](_0x1a5a7c['id']['replace'](_0x533799(0x35d),''))===!![]&&_0x1a5a7c['classList'][_0x533799(0x3fe)](_0x533799(0x33b));}),Array[_0x54f926(0x2b3)](tileElements)[_0x54f926(0x471)](function(_0x335fcd){const _0x55de1a=_0x54f926;tileReach['includes'](_0x335fcd['id'][_0x55de1a(0x228)](_0x55de1a(0x35d),''))===![]&&_0x335fcd['classList'][_0x55de1a(0x509)](_0x55de1a(0x410)),tileReach['includes'](_0x335fcd['id'][_0x55de1a(0x228)](_0x55de1a(0x35d),''))===!![]&&_0x335fcd[_0x55de1a(0x1cf)][_0x55de1a(0x3fe)](_0x55de1a(0x410));});};refreshFog();function showPrestigeButton(){const _0xb948ad=a10_0x16d27a;gameState[_0xb948ad(0x3d9)][_0xb948ad(0x425)]===0x40&&$('.prestige-button')[_0xb948ad(0x1cf)][_0xb948ad(0x3fe)](_0xb948ad(0x44c));}function getCombatSimCost(){const _0x30b592=a10_0x16d27a,_0x33d7b1=gameState[_0x30b592(0x500)][selectedTile['id']],_0x469916=enemyStructureUnits[_0x33d7b1],_0x32433b=Object['values'](_0x469916)[_0x30b592(0x4ec)]((_0x7bcd20,_0xe42e2b)=>_0x7bcd20+_0xe42e2b);return{'knowledge':0x23*_0x32433b,'gold':_0x32433b};}function canCombatSim(){const _0x2d2db9=a10_0x16d27a,_0x422ccd=Object[_0x2d2db9(0x2ca)](selectedArmy)[_0x2d2db9(0x3e5)](_0x1d954b=>_0x1d954b>0x0),_0x272070=getCombatSimCost(),_0x32a9d2=_0x272070[_0x2d2db9(0x3b1)]<=gameState[_0x2d2db9(0x3b1)]&&_0x272070[_0x2d2db9(0x2be)]<=soulState[_0x2d2db9(0x2be)];return _0x422ccd&&_0x32a9d2;}function getAutoResolveCost(){const _0x2e3616=a10_0x16d27a,_0x52fa82=gameState[_0x2e3616(0x32e)]['length'];return{'gold':0x7*_0x52fa82,'equipment':0x6*_0x52fa82,'knowledge':0xd*_0x52fa82};}function canAutoResolve(){const _0x118db8=a10_0x16d27a,_0x4e41ed=soulState[_0x118db8(0x26a)]['includes'](_0x118db8(0x2d0)),_0xdc67ba=getAutoResolveCost(),_0xca1f24=_0xdc67ba[_0x118db8(0x3b1)]<=gameState['knowledge']&&_0xdc67ba[_0x118db8(0x2be)]<=soulState['gold']&&_0xdc67ba[_0x118db8(0x3eb)]<=gameState[_0x118db8(0x3eb)];return _0x4e41ed&&_0xca1f24;}function autoResolveCombat(){const _0x20af89=a10_0x16d27a,_0x2ba762=gameState[_0x20af89(0x42b)],_0x3e27be=gameState[_0x20af89(0x32e)],_0x9ec93f=getTeleportChance(),_0x1cdc88=getCombatSimulationResult(_0x2ba762,_0x3e27be,unitAttackTypes,unitWeaknessTypes,unitAttack,unitDefense,getSaveChance(),_0x9ec93f),_0x187460=_0x1cdc88[0x0][_0x20af89(0x425)]>0x0,_0xe1e6c9=_0x1cdc88[0x0][_0x20af89(0x4ec)]((_0x4541ed,_0x14248b)=>{const _0x1df7a8=_0x20af89,_0xb1deec=_0x4541ed[_0x1df7a8(0x209)](_0x14248b);return _0x4541ed[_0x1df7a8(0x273)]((_0xcd8292,_0x646d2e)=>_0x646d2e!==_0xb1deec);},_0x2ba762);for(const _0x1991a3 of _0xe1e6c9){onUnitRemoved(_0x1991a3,!![]),(!_0x9ec93f||Math[_0x20af89(0x45c)]()>_0x9ec93f)&&gameState[_0x20af89(0x27c)][_0x1991a3]--;}const _0xaef5ba=_0x1cdc88[0x1]['reduce']((_0x157241,_0x167baa)=>{const _0x23f4f8=_0x20af89,_0x59a9cb=_0x157241[_0x23f4f8(0x209)](_0x167baa);return _0x157241[_0x23f4f8(0x273)]((_0x41cca5,_0x494d18)=>_0x494d18!==_0x59a9cb);},_0x3e27be);for(const _0x3e311c of _0xaef5ba){onUnitRemoved(_0x3e311c,!![]),onEnemyKilled(_0x3e311c,!![]);}updateInCombatCounts(),onCombatEnd(_0x187460);}let isAutoResolving=![];function a10_0x33f7(_0x42244f,_0x2de24c){return a10_0x33f7=function(_0x2f9a2a,_0x33f7dc){_0x2f9a2a=_0x2f9a2a-0x1cb;let _0x20b99f=a10_0x2f9a[_0x2f9a2a];return _0x20b99f;},a10_0x33f7(_0x42244f,_0x2de24c);}const autoResolveCombatBtn=$(a10_0x16d27a(0x1f0));autoResolveCombatBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),function(){const _0x41a2fa=a10_0x16d27a;if(!isAutoResolving&&canAutoResolve()){const _0x2ff761=getAutoResolveCost();gameState[_0x41a2fa(0x3eb)]-=_0x2ff761[_0x41a2fa(0x3eb)],gameState[_0x41a2fa(0x3b1)]-=_0x2ff761[_0x41a2fa(0x3b1)],soulState[_0x41a2fa(0x2be)]-=_0x2ff761[_0x41a2fa(0x2be)],updateGoldCount(soulState),isAutoResolving=!![];}});let isCalculatingWinChance=![];const combatSimBtn=$(a10_0x16d27a(0x314));combatSimBtn[a10_0x16d27a(0x3ff)](a10_0x16d27a(0x3b9),function(){const _0x1a386d=a10_0x16d27a;if(isCalculatingWinChance===![]&&canCombatSim()){const _0x177ca0=getCombatSimCost();gameState[_0x1a386d(0x3b1)]-=_0x177ca0[_0x1a386d(0x3b1)],soulState[_0x1a386d(0x2be)]-=_0x177ca0[_0x1a386d(0x2be)],updateGoldCount(soulState),runCombatSimulations(),isCalculatingWinChance=!![];}});function runCombatSimulations(){const _0x479ce9=a10_0x16d27a,_0x92089a=Object[_0x479ce9(0x222)](selectedArmy)[_0x479ce9(0x4ec)]((_0x52d2b2,_0x55b638)=>[..._0x52d2b2,...Array(selectedArmy[_0x55b638])['fill'](_0x55b638)],[]),_0x2fc918=Object['keys'](enemyStructureUnits[selectedEnemyBuilding])[_0x479ce9(0x4ec)]((_0xf132f0,_0x1016bc)=>[..._0xf132f0,...Array(enemyStructureUnits[selectedEnemyBuilding][_0x1016bc])[_0x479ce9(0x408)](_0x1016bc)],[]),_0x3e0199={'attackers':_0x92089a,'defenders':_0x2fc918,'unitAttackTypes':unitAttackTypes,'unitWeaknessTypes':unitWeaknessTypes,'unitAttack':unitAttack,'unitDefense':unitDefense,'saveChance':getSaveChance(),'teleportChance':getTeleportChance()};simulationWorker[_0x479ce9(0x4d5)](_0x3e0199);}function fillCombatArrays(){const _0x1570c6=a10_0x16d27a;for(const [_0x28ebeb,_0x446394]of[[friendlyArmyUnitTypes,gameState[_0x1570c6(0x42b)]=[]],[enemyUnitTypes,gameState[_0x1570c6(0x32e)]=[]]]){for(const _0x17e484 of _0x28ebeb)_0x446394['push'](...Array(gameState[_0x1570c6(0x2b2)][_0x17e484]||0x0)['fill'](_0x17e484));for(let _0x22d8d8=_0x446394[_0x1570c6(0x425)]-0x1;_0x22d8d8>0x0;_0x22d8d8--){let _0x171d05=Math[_0x1570c6(0x2a0)](Math[_0x1570c6(0x45c)]()*(_0x22d8d8+0x1)),_0x448291=_0x446394[_0x22d8d8];_0x446394[_0x22d8d8]=_0x446394[_0x171d05],_0x446394[_0x171d05]=_0x448291;};}};const currentCombatGoldCount=document['querySelector'](a10_0x16d27a(0x495)),tickWorker=new Worker(a10_0x16d27a(0x42d));tickWorker['onmessage']=tick;const simulationWorker=new Worker(a10_0x16d27a(0x35a));simulationWorker[a10_0x16d27a(0x317)]=({data:_0x3643b2})=>{const _0x3797e1=a10_0x16d27a,{progress:_0x331508,winChance:_0x46acb8}=_0x3643b2;$(_0x3797e1(0x3df))[_0x3797e1(0x481)][_0x3797e1(0x277)]=_0x331508+'%',_0x331508===0x64&&($(_0x3797e1(0x31f))[_0x3797e1(0x2df)]='~'+_0x46acb8+'%',isCalculatingWinChance=![],setTimeout(()=>{const _0x144bd0=_0x3797e1;$(_0x144bd0(0x3df))['style']['width']='0%';},0x64));};let displayedTime;function tick(){const _0x4a630b=a10_0x16d27a;gameState[_0x4a630b(0x41f)]++;let _0x2ed8bf=Math[_0x4a630b(0x2a0)](gameState[_0x4a630b(0x41f)]/ticksPerSecond%0x3c)[_0x4a630b(0x4fa)]()[_0x4a630b(0x1e5)](0x2,'0'),_0x2b9845=Math[_0x4a630b(0x2a0)](gameState['elapsedTime']/ticksPerSecond/0x3c%0x3c)[_0x4a630b(0x4fa)]()['padStart'](0x2,'0'),_0x245e48=Math[_0x4a630b(0x2a0)](gameState[_0x4a630b(0x41f)]/ticksPerSecond/0x3c/0x3c%0x18)[_0x4a630b(0x4fa)]()['padStart'](0x2,'0'),_0x3b4145=Math[_0x4a630b(0x2a0)](gameState[_0x4a630b(0x41f)]/ticksPerSecond/0x3c/0x3c/0x18)['toString']()[_0x4a630b(0x1e5)](0x2,'0');displayedTime=_0x3b4145+':'+_0x245e48+':'+_0x2b9845+':'+_0x2ed8bf,$('#elapsed-time')[_0x4a630b(0x2df)]=displayedTime;if(!gameState[_0x4a630b(0x3f7)][_0x4a630b(0x25d)](_0x4a630b(0x4fb))){if(gameState['elapsedTime']===gameState[_0x4a630b(0x4dd)]){const _0x4768bd=[droughtInit,rainInit,carnivalInit],_0x2b3a51=_0x4768bd[Math[_0x4a630b(0x2a0)](Math['random']()*_0x4768bd[_0x4a630b(0x425)])];_0x2b3a51();}else{const _0x489b23=0x78*ticksPerSecond;gameState[_0x4a630b(0x41f)]>=gameState[_0x4a630b(0x4dd)]+_0x489b23&&(eventTerminate(),setNextEventTime());}}let _0x513231=0.2+baseUnitEfficiency[_0x4a630b(0x4c2)]*gameState[_0x4a630b(0x476)][_0x4a630b(0x4c2)];gameState[_0x4a630b(0x41f)]%0x5===0x0&&increasePlantProgress(_0x513231);if(gameState['activePotionEffect'][_0x4a630b(0x27e)]>0x0&&gameState[_0x4a630b(0x491)][_0x4a630b(0x3ef)]!==null){potionEffectIcon[_0x4a630b(0x483)]=_0x4a630b(0x3f5)+Object[_0x4a630b(0x2ca)](potionEffects[gameState[_0x4a630b(0x491)][_0x4a630b(0x3ef)]])[0x0]+'_icon.svg';potionEffects[gameState[_0x4a630b(0x491)][_0x4a630b(0x3ef)]][_0x4a630b(0x265)]===!![]?potionEffectText[_0x4a630b(0x2df)]=_0x4a630b(0x2ec)+potionEffectPower['production'][gameState[_0x4a630b(0x491)]['strength']]*0x64+'%':potionEffectText[_0x4a630b(0x2df)]=_0x4a630b(0x497)+potionEffectPower[_0x4a630b(0x47f)][gameState[_0x4a630b(0x491)][_0x4a630b(0x41d)]]*0x64+'%';let _0x142d45=Math['ceil'](gameState[_0x4a630b(0x491)][_0x4a630b(0x27e)]/0x5);potionTimer[_0x4a630b(0x2df)]=Math[_0x4a630b(0x2a0)](_0x142d45/0x3c)[_0x4a630b(0x4fa)]()[_0x4a630b(0x1e5)](0x2,'0')+':'+(_0x142d45%0x3c)[_0x4a630b(0x4fa)]()['padStart'](0x2,'0'),gameState['activePotionEffect'][_0x4a630b(0x27e)]--;}else gameState['activePotionEffect'][_0x4a630b(0x3ef)]!==null&&(gameState[_0x4a630b(0x491)][_0x4a630b(0x3ef)]=null,gameState['activePotionEffect']['strength']=null,potionEffectIcon[_0x4a630b(0x483)]='',potionEffectText[_0x4a630b(0x2df)]=_0x4a630b(0x377),potionTimer['innerText']='',updateUnitAttack());if(gameState[_0x4a630b(0x310)]===!![]){Array[_0x4a630b(0x2b3)](attackBtns)[_0x4a630b(0x471)](function(_0x22047d){const _0x36a778=_0x4a630b;_0x22047d[_0x36a778(0x1cf)]['add']('button-disabled');});gameState[_0x4a630b(0x482)]===null&&(gameState[_0x4a630b(0x482)]=!![]);;document[_0x4a630b(0x299)](gameState['currentlyFighting']+'-overlay')[_0x4a630b(0x1cf)][_0x4a630b(0x509)]('building-under-attack'),gameState['turnTimer']===0x0&&(fillCombatArrays(),gameState['resolveCost']=getAutoResolveCost(),gameState[_0x4a630b(0x3d8)]=gameState[_0x4a630b(0x42b)][_0x4a630b(0x425)]*0xa),advanceTurn(gameState[_0x4a630b(0x482)]);};let _0x1814f0=gameState[_0x4a630b(0x1d5)],_0x160dec,_0x44ebd4=maxGenerated['humans']/ticksPerSecond;gameState[_0x4a630b(0x1d5)]=gameState['humans']+_0x44ebd4;let _0x449e21=gameState[_0x4a630b(0x3d3)];if(gameState['perksUnlocked'][_0x4a630b(0x25d)](_0x4a630b(0x4fb))){const _0xe8b592=0x1;gameState[_0x4a630b(0x3d3)]=Math[_0x4a630b(0x284)](gameState[_0x4a630b(0x3d3)]+gameState[_0x4a630b(0x41c)]*_0xe8b592/ticksPerSecond,maxResources[_0x4a630b(0x3d3)]);}let _0x139b17=maxGenerated[_0x4a630b(0x3d3)]/ticksPerSecond;const _0x3ffce6=calcResourceConsumptionRatio[_0x4a630b(0x402)](gameState),_0x220f25=0x1/_0x3ffce6[_0x4a630b(0x1d5)],_0x50753a=Math[_0x4a630b(0x284)](_0x139b17,Math[_0x4a630b(0x284)](gameState['humans'],maxResources[_0x4a630b(0x1d5)])*_0x220f25,maxResources['blood']-gameState[_0x4a630b(0x3d3)]);gameState[_0x4a630b(0x1d5)]-=_0x50753a/_0x220f25,gameState[_0x4a630b(0x3d3)]+=_0x50753a;const _0x323c11=gameState[_0x4a630b(0x3d3)];gameState[_0x4a630b(0x1d5)]=Math[_0x4a630b(0x284)](gameState[_0x4a630b(0x1d5)],maxResources[_0x4a630b(0x1d5)]),_0x160dec=gameState[_0x4a630b(0x1d5)];let _0x3e651f=(_0x323c11-_0x449e21)*ticksPerSecond,_0x5bddfa=(_0x160dec-_0x1814f0)*ticksPerSecond*0x3c;const _0x55f4a1=maxConsumed['food']/ticksPerSecond;let _0x4ec786=gameState[_0x4a630b(0x32b)],_0x123257,_0x58b8f2=maxGenerated['food']/ticksPerSecond;if(gameState['food']>=maxResources[_0x4a630b(0x32b)]&&_0x55f4a1<_0x58b8f2)gameState[_0x4a630b(0x32b)]=maxResources[_0x4a630b(0x32b)],_0x123257=gameState[_0x4a630b(0x32b)];else gameState[_0x4a630b(0x32b)]<maxResources[_0x4a630b(0x32b)]?(gameState['food']=gameState['food']+_0x58b8f2-_0x55f4a1,gameState[_0x4a630b(0x32b)]>maxResources[_0x4a630b(0x32b)]&&(gameState[_0x4a630b(0x32b)]=maxResources[_0x4a630b(0x32b)]),_0x123257=gameState[_0x4a630b(0x32b)]):(gameState[_0x4a630b(0x32b)]=gameState['food']-_0x55f4a1+_0x58b8f2,_0x123257=gameState[_0x4a630b(0x32b)]);let _0x1041d1=(_0x123257-_0x4ec786)*ticksPerSecond,_0x2d4531=gameState[_0x4a630b(0x1f7)],_0x27fe1c,_0x5533ad=maxGenerated[_0x4a630b(0x1f7)]/ticksPerSecond;gameState[_0x4a630b(0x1f7)]=gameState['wood']+_0x5533ad;let _0x13eaf3=gameState[_0x4a630b(0x450)],_0x14a13e,_0x6ab9d3=maxGenerated[_0x4a630b(0x450)]/ticksPerSecond;gameState[_0x4a630b(0x450)]=gameState['stone']+_0x6ab9d3;let _0x4ad553=gameState[_0x4a630b(0x21c)],_0x4ed387,_0x5e914e=maxGenerated[_0x4a630b(0x21c)]/ticksPerSecond;const _0x51af1e=calcResourceConsumptionRatio[_0x4a630b(0x360)](gameState),_0x4abf7e=Math['min'](_0x5e914e,Math[_0x4a630b(0x284)](gameState[_0x4a630b(0x450)],maxResources[_0x4a630b(0x450)])/_0x51af1e[_0x4a630b(0x450)]);let _0x19345a=gameState['equipment'],_0x13023f,_0x4943b1=maxGenerated[_0x4a630b(0x3eb)]/ticksPerSecond;const _0x339a2e=calcResourceConsumptionRatio['forge'](gameState),_0x27b436=Math['min'](_0x4943b1,maxResources[_0x4a630b(0x3eb)]-_0x19345a,Math[_0x4a630b(0x284)](gameState[_0x4a630b(0x21c)]+_0x4abf7e,maxResources[_0x4a630b(0x21c)])/_0x339a2e[_0x4a630b(0x21c)],Math['min'](gameState[_0x4a630b(0x1f7)],maxResources['wood'])/_0x339a2e[_0x4a630b(0x1f7)]);gameState[_0x4a630b(0x1f7)]-=_0x27b436*_0x339a2e[_0x4a630b(0x1f7)],gameState[_0x4a630b(0x21c)]-=_0x27b436*_0x339a2e[_0x4a630b(0x21c)],gameState[_0x4a630b(0x3eb)]+=_0x27b436;const _0x384f20=Math['min'](_0x4abf7e,maxResources[_0x4a630b(0x21c)]-gameState[_0x4a630b(0x21c)]);gameState[_0x4a630b(0x450)]-=_0x384f20*_0x51af1e[_0x4a630b(0x450)],gameState[_0x4a630b(0x21c)]+=_0x384f20,gameState[_0x4a630b(0x1f7)]=Math[_0x4a630b(0x284)](gameState[_0x4a630b(0x1f7)],maxResources['wood']),gameState['stone']=Math[_0x4a630b(0x284)](gameState[_0x4a630b(0x450)],maxResources[_0x4a630b(0x450)]),gameState[_0x4a630b(0x21c)]=Math['min'](Math[_0x4a630b(0x2b6)](gameState[_0x4a630b(0x21c)],0x0),maxResources[_0x4a630b(0x21c)]),gameState[_0x4a630b(0x3eb)]=Math['min'](gameState[_0x4a630b(0x3eb)],maxResources[_0x4a630b(0x3eb)]),_0x13023f=gameState[_0x4a630b(0x3eb)];let _0x2fccad=(_0x13023f-_0x19345a)*ticksPerSecond;_0x4ed387=gameState['iron'];let _0x269993=(_0x4ed387-_0x4ad553)*ticksPerSecond;_0x14a13e=gameState['stone'];let _0x5b2fc8=(_0x14a13e-_0x13eaf3)*ticksPerSecond;_0x27fe1c=gameState[_0x4a630b(0x1f7)];let _0x28c657=(_0x27fe1c-_0x2d4531)*ticksPerSecond,_0x31a9c8=gameState['knowledge'],_0x1165dc=maxGenerated[_0x4a630b(0x3b1)]/ticksPerSecond;gameState[_0x4a630b(0x3b1)]=Math[_0x4a630b(0x284)](gameState['knowledge']+_0x1165dc,maxResources['knowledge']);let _0x5a092d=gameState[_0x4a630b(0x3b1)],_0x254645=(_0x5a092d-_0x31a9c8)*ticksPerSecond;gameState[_0x4a630b(0x28a)]=civilUnitTypes[_0x4a630b(0x4ec)]((_0x381dbf,_0x351341)=>_0x381dbf+gameState[_0x4a630b(0x476)][_0x351341],0x0),gameState['armyPopulation']=friendlyArmyUnitTypes[_0x4a630b(0x4ec)]((_0xb1220d,_0x409dc7)=>_0xb1220d+gameState[_0x4a630b(0x27c)][_0x409dc7],0x0);if(gameState[_0x4a630b(0x28a)]>maxPopulation[_0x4a630b(0x359)]){const _0x1867fd=Object[_0x4a630b(0x222)](gameState[_0x4a630b(0x476)])[_0x4a630b(0x23d)](_0xa76799=>gameState[_0x4a630b(0x476)][_0xa76799]>0x0);gameState['civilUnits'][_0x1867fd]-=0x1;}if(gameState[_0x4a630b(0x438)]>maxPopulation[_0x4a630b(0x49a)]){const _0x1c5b3d=Object[_0x4a630b(0x222)](gameState['armyUnits'])['find'](_0x4b7235=>gameState[_0x4a630b(0x27c)][_0x4b7235]>0x0);gameState['armyUnits'][_0x1c5b3d]-=0x1;}if(gameState['food']<=0x0&&_0x55f4a1>_0x58b8f2){$('#famine-popup')[_0x4a630b(0x1cf)][_0x4a630b(0x3fe)]('display-none'),gameState[_0x4a630b(0x32b)]=0x0;let _0x2db5c4=0x2;for(const _0x1f37af of[gameState[_0x4a630b(0x27c)],gameState[_0x4a630b(0x476)]]){for(const _0x22071e in _0x1f37af){_0x1f37af[_0x22071e]>0x0&&unitFoodConsumption[_0x22071e]>0x0&&(_0x1f37af[_0x22071e]=Math[_0x4a630b(0x2b6)](0x0,_0x1f37af[_0x22071e]-_0x2db5c4));}}gameState['isCombat']===!![]&&(endCombat(),$('#victory-defeat-screen')[_0x4a630b(0x1cf)][_0x4a630b(0x3fe)](_0x4a630b(0x44c)),$('#defeat-container')[_0x4a630b(0x1cf)]['remove'](_0x4a630b(0x44c)));;};if(isPreCombatMenuOpen){if(canCombatSim())combatSimBtn[_0x4a630b(0x1cf)][_0x4a630b(0x3fe)]('button-disabled');else combatSimBtn[_0x4a630b(0x1cf)]['add'](_0x4a630b(0x276));}$(_0x4a630b(0x1e0))[_0x4a630b(0x2df)]=gameState[_0x4a630b(0x2bc)][_0x4a630b(0x3eb)],$('#resolve-cost-knowledge')[_0x4a630b(0x2df)]=gameState[_0x4a630b(0x2bc)][_0x4a630b(0x3b1)],$(_0x4a630b(0x3c2))[_0x4a630b(0x2df)]=gameState[_0x4a630b(0x2bc)][_0x4a630b(0x2be)],$(_0x4a630b(0x4ed))[_0x4a630b(0x2df)]=gameState[_0x4a630b(0x3d8)];_0x1041d1<0x0?$(_0x4a630b(0x2ed))[_0x4a630b(0x1cf)][_0x4a630b(0x509)]('alert'):$('#food-resource-card')['classList'][_0x4a630b(0x3fe)]('alert');;_0x28c657<0x0?$(_0x4a630b(0x28b))[_0x4a630b(0x1cf)][_0x4a630b(0x509)](_0x4a630b(0x298)):$(_0x4a630b(0x28b))[_0x4a630b(0x1cf)]['remove'](_0x4a630b(0x298));;_0x5b2fc8<0x0?$(_0x4a630b(0x443))[_0x4a630b(0x1cf)][_0x4a630b(0x509)](_0x4a630b(0x298)):$('#stone-resource-card')['classList']['remove']('alert');;_0x269993<0x0?$(_0x4a630b(0x2a4))[_0x4a630b(0x1cf)][_0x4a630b(0x509)]('alert'):$(_0x4a630b(0x2a4))[_0x4a630b(0x1cf)][_0x4a630b(0x3fe)](_0x4a630b(0x298));;gameState[_0x4a630b(0x1d5)]===maxResources['humans']?$(_0x4a630b(0x3e4))[_0x4a630b(0x2df)]=Math[_0x4a630b(0x2a0)](gameState[_0x4a630b(0x1d5)])[_0x4a630b(0x4e1)]('en')+_0x4a630b(0x488):$(_0x4a630b(0x3e4))[_0x4a630b(0x2df)]=Math['floor'](gameState[_0x4a630b(0x1d5)])[_0x4a630b(0x4e1)]('en');$(_0x4a630b(0x329))[_0x4a630b(0x2df)]=_0x5bddfa[_0x4a630b(0x4e1)]('en',{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),$(_0x4a630b(0x303))[_0x4a630b(0x2df)]=Math['floor'](maxResources[_0x4a630b(0x1d5)])[_0x4a630b(0x4e1)]('en');gameState[_0x4a630b(0x32b)]===maxResources[_0x4a630b(0x32b)]?$(_0x4a630b(0x294))[_0x4a630b(0x2df)]=Math[_0x4a630b(0x2a0)](gameState['food'])['toLocaleString']('en')+_0x4a630b(0x488):$(_0x4a630b(0x294))['innerText']=Math['floor'](gameState[_0x4a630b(0x32b)])['toLocaleString']('en');$(_0x4a630b(0x1d4))[_0x4a630b(0x2df)]=_0x1041d1[_0x4a630b(0x4e1)]('en',{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),$(_0x4a630b(0x394))[_0x4a630b(0x2df)]=Math[_0x4a630b(0x2a0)](maxResources[_0x4a630b(0x32b)])[_0x4a630b(0x4e1)]('en');gameState[_0x4a630b(0x1f7)]===maxResources['wood']?$(_0x4a630b(0x38b))[_0x4a630b(0x2df)]=Math['floor'](gameState[_0x4a630b(0x1f7)])[_0x4a630b(0x4e1)]('en')+'\x20Max':$(_0x4a630b(0x38b))['innerText']=Math[_0x4a630b(0x2a0)](gameState[_0x4a630b(0x1f7)])[_0x4a630b(0x4e1)]('en');$(_0x4a630b(0x340))[_0x4a630b(0x2df)]=_0x28c657[_0x4a630b(0x4e1)]('en',{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),$(_0x4a630b(0x288))[_0x4a630b(0x2df)]=Math[_0x4a630b(0x2a0)](maxResources[_0x4a630b(0x1f7)])[_0x4a630b(0x4e1)]('en');gameState['stone']===maxResources['stone']?$(_0x4a630b(0x357))[_0x4a630b(0x2df)]=Math['floor'](gameState[_0x4a630b(0x450)])['toLocaleString']('en')+'\x20Max':$(_0x4a630b(0x357))[_0x4a630b(0x2df)]=Math[_0x4a630b(0x2a0)](gameState[_0x4a630b(0x450)])[_0x4a630b(0x4e1)]('en');$(_0x4a630b(0x226))[_0x4a630b(0x2df)]=_0x5b2fc8[_0x4a630b(0x4e1)]('en',{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),$(_0x4a630b(0x2b1))[_0x4a630b(0x2df)]=Math[_0x4a630b(0x2a0)](maxResources[_0x4a630b(0x450)])[_0x4a630b(0x4e1)]('en');gameState[_0x4a630b(0x21c)]===maxResources[_0x4a630b(0x21c)]?$(_0x4a630b(0x268))[_0x4a630b(0x2df)]=Math[_0x4a630b(0x2a0)](gameState[_0x4a630b(0x21c)])[_0x4a630b(0x4e1)]('en')+'\x20Max':$(_0x4a630b(0x268))[_0x4a630b(0x2df)]=Math[_0x4a630b(0x2a0)](gameState[_0x4a630b(0x21c)])[_0x4a630b(0x4e1)]('en');$(_0x4a630b(0x3a5))[_0x4a630b(0x2df)]=_0x269993[_0x4a630b(0x4e1)]('en',{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),$('#iron-max')[_0x4a630b(0x2df)]=Math[_0x4a630b(0x2a0)](maxResources['iron'])['toLocaleString']('en');gameState['equipment']===maxResources['equipment']?$(_0x4a630b(0x2c7))['innerText']=Math[_0x4a630b(0x2a0)](gameState[_0x4a630b(0x3eb)])[_0x4a630b(0x4e1)]('en')+'\x20Max':$(_0x4a630b(0x2c7))[_0x4a630b(0x2df)]=Math['floor'](gameState[_0x4a630b(0x3eb)])[_0x4a630b(0x4e1)]('en');$(_0x4a630b(0x200))[_0x4a630b(0x2df)]=_0x2fccad[_0x4a630b(0x4e1)]('en',{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),$('#equipment-max')['innerText']=Math[_0x4a630b(0x2a0)](maxResources[_0x4a630b(0x3eb)])['toLocaleString']('en');gameState[_0x4a630b(0x3b1)]===maxResources[_0x4a630b(0x3b1)]?($(_0x4a630b(0x261))[_0x4a630b(0x2df)]=Math[_0x4a630b(0x2a0)](gameState[_0x4a630b(0x3b1)])[_0x4a630b(0x4e1)]('en')+'\x20Convert',$('#knowledge-resource-card')[_0x4a630b(0x1cf)][_0x4a630b(0x509)](_0x4a630b(0x38d))):($('#knowledge-count')[_0x4a630b(0x2df)]=Math[_0x4a630b(0x2a0)](gameState['knowledge'])['toLocaleString']('en'),$(_0x4a630b(0x39f))[_0x4a630b(0x1cf)][_0x4a630b(0x3fe)](_0x4a630b(0x38d)));$('#knowledge-per-second')[_0x4a630b(0x2df)]=_0x254645['toLocaleString']('en',{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),$(_0x4a630b(0x45a))[_0x4a630b(0x2df)]=Math[_0x4a630b(0x2a0)](maxResources[_0x4a630b(0x3b1)])[_0x4a630b(0x4e1)]('en');gameState[_0x4a630b(0x3d3)]===maxResources[_0x4a630b(0x3d3)]?$(_0x4a630b(0x22d))[_0x4a630b(0x2df)]=Math[_0x4a630b(0x2a0)](gameState[_0x4a630b(0x3d3)])[_0x4a630b(0x4e1)]('en')+_0x4a630b(0x488):$(_0x4a630b(0x22d))['innerText']=Math['floor'](gameState[_0x4a630b(0x3d3)])[_0x4a630b(0x4e1)]('en');$(_0x4a630b(0x463))[_0x4a630b(0x2df)]=_0x3e651f[_0x4a630b(0x4e1)]('en',{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),$(_0x4a630b(0x36e))[_0x4a630b(0x2df)]=Math[_0x4a630b(0x2a0)](maxResources[_0x4a630b(0x3d3)])[_0x4a630b(0x4e1)]('en');gameState[_0x4a630b(0x3db)]===maxResources[_0x4a630b(0x3db)]?$(_0x4a630b(0x20e))[_0x4a630b(0x2df)]=Math[_0x4a630b(0x2a0)](gameState[_0x4a630b(0x3db)])[_0x4a630b(0x4e1)]('en')+_0x4a630b(0x488):$(_0x4a630b(0x20e))[_0x4a630b(0x2df)]=Math[_0x4a630b(0x2a0)](gameState['magic'])[_0x4a630b(0x4e1)]('en');$(_0x4a630b(0x348))[_0x4a630b(0x2df)]=Math['floor'](maxResources[_0x4a630b(0x3db)])['toLocaleString']('en');let _0x16a4d0=document[_0x4a630b(0x4a2)]('resource-progress-bar-fill');Array[_0x4a630b(0x2b3)](_0x16a4d0)['forEach'](function(_0x413a8e){const _0x54dc96=_0x4a630b;let _0x1a7363=gameState[_0x413a8e[_0x54dc96(0x490)]['resourceType']]/maxResources[_0x413a8e['dataset']['resourceType']]*0x64;_0x413a8e[_0x54dc96(0x481)][_0x54dc96(0x277)]=_0x1a7363+'%';}),document[_0x4a630b(0x326)](_0x4a630b(0x4a4))[_0x4a630b(0x471)](_0x57b7e9=>{const _0x365626=_0x4a630b,_0x3883c1=_0x57b7e9[_0x365626(0x490)][_0x365626(0x2e1)];gameState[_0x3883c1]===maxResources[_0x3883c1]?(_0x3883c1==='humans'?_0x57b7e9[_0x365626(0x2df)]=((maxGenerated[_0x3883c1]-maxConsumed[_0x3883c1])*0x3c)[_0x365626(0x469)](0x2):_0x57b7e9[_0x365626(0x2df)]=(maxGenerated[_0x3883c1]-maxConsumed[_0x3883c1])['toFixed'](0x2),_0x57b7e9[_0x365626(0x2f0)]['classList'][_0x365626(0x3fe)](_0x365626(0x44c))):_0x57b7e9[_0x365626(0x2f0)][_0x365626(0x1cf)][_0x365626(0x509)](_0x365626(0x44c));}),updateBuildingActions();for(const _0xd013bb of civilUnitTypes){$('#'+_0xd013bb+_0x4a630b(0x258))[_0x4a630b(0x2df)]=gameState['civilUnits'][_0xd013bb][_0x4a630b(0x4e1)]('en');}for(const _0x2247ce of friendlyArmyUnitTypes){$('#'+_0x2247ce+_0x4a630b(0x258))[_0x4a630b(0x2df)]=gameState[_0x4a630b(0x27c)][_0x2247ce][_0x4a630b(0x4e1)]('en'),selectedArmy[_0x2247ce]>gameState[_0x4a630b(0x27c)][_0x2247ce]&&(selectedArmy[_0x2247ce]=gameState['armyUnits'][_0x2247ce],document[_0x4a630b(0x299)](_0x4a630b(0x31d)+_0x2247ce+'-count')[_0x4a630b(0x2df)]=selectedArmy[_0x2247ce]),$('#selected-'+_0x2247ce+'-max')[_0x4a630b(0x2df)]=gameState['armyUnits'][_0x2247ce][_0x4a630b(0x4e1)]('en');}$(_0x4a630b(0x27f))[_0x4a630b(0x2df)]=gameState[_0x4a630b(0x28a)][_0x4a630b(0x4e1)]('en')+'/',$('#civil-population-max')['innerText']=maxPopulation[_0x4a630b(0x359)][_0x4a630b(0x4e1)]('en'),$(_0x4a630b(0x379))[_0x4a630b(0x2df)]=gameState[_0x4a630b(0x438)]['toLocaleString']('en')+'/',$('#army-population-max')[_0x4a630b(0x2df)]=maxPopulation[_0x4a630b(0x49a)][_0x4a630b(0x4e1)]('en'),Array['from'](increaseCivilUnitBtns)[_0x4a630b(0x471)](function(_0x38c013){const _0x1cf9ba=_0x4a630b;let _0x45c097=_0x38c013[_0x1cf9ba(0x490)]['unitType'];const _0x56a734=unitCosts[_0x45c097];Object[_0x1cf9ba(0x222)](_0x56a734)[_0x1cf9ba(0x3e5)](_0x599551=>_0x56a734[_0x599551]>gameState[_0x599551])||gameState[_0x1cf9ba(0x28a)]===maxPopulation[_0x1cf9ba(0x359)]?_0x38c013[_0x1cf9ba(0x1cf)][_0x1cf9ba(0x509)](_0x1cf9ba(0x276)):_0x38c013[_0x1cf9ba(0x1cf)][_0x1cf9ba(0x3fe)]('button-disabled');;}),Array[_0x4a630b(0x2b3)](increaseArmyUnitBtns)[_0x4a630b(0x471)](function(_0x5cb7b4){const _0x2b52f3=_0x4a630b;let _0x4ff00c=_0x5cb7b4[_0x2b52f3(0x490)][_0x2b52f3(0x45f)];const _0x2fc42e=unitCosts[_0x4ff00c];Object[_0x2b52f3(0x222)](_0x2fc42e)[_0x2b52f3(0x3e5)](_0x2f87b5=>_0x2fc42e[_0x2f87b5]>gameState[_0x2f87b5])||gameState[_0x2b52f3(0x438)]===maxPopulation['army']||_0x5cb7b4['dataset']['unitType']===_0x2b52f3(0x1d1)&&gameState['perksUnlocked'][_0x2b52f3(0x25d)](_0x2b52f3(0x1d1))===![]||_0x5cb7b4[_0x2b52f3(0x490)][_0x2b52f3(0x45f)]==='succubus'&&gameState[_0x2b52f3(0x3f7)]['includes']('succubus')===![]||_0x5cb7b4[_0x2b52f3(0x490)]['unitType']===_0x2b52f3(0x296)&&gameState['perksUnlocked']['includes'](_0x2b52f3(0x296))===![]?_0x5cb7b4['classList']['add'](_0x2b52f3(0x276)):_0x5cb7b4[_0x2b52f3(0x1cf)][_0x2b52f3(0x3fe)]('button-disabled');;}),Array[_0x4a630b(0x2b3)](upgradeBuildingBtns)[_0x4a630b(0x471)](function(_0x2f9ffc){const _0x3f848b=_0x4a630b,_0x371950=buildingUpgradePrices[_0x2f9ffc['id']],_0x53b333=Object['keys'](_0x371950)[_0x3f848b(0x43e)](_0x21a2c7=>_0x371950[_0x21a2c7]<=gameState[_0x21a2c7]);_0x53b333?_0x2f9ffc[_0x3f848b(0x1cf)][_0x3f848b(0x3fe)](_0x3f848b(0x276)):_0x2f9ffc[_0x3f848b(0x1cf)]['add'](_0x3f848b(0x276));}),Array[_0x4a630b(0x2b3)](buildBtns)[_0x4a630b(0x471)](function(_0x399ddc){const _0x2db313=_0x4a630b,_0x5c4bc5=buildingPrices[_0x399ddc['id']],_0xe6ec4c=Object[_0x2db313(0x222)](_0x5c4bc5)['every'](_0x300e5e=>_0x5c4bc5[_0x300e5e]<=gameState[_0x300e5e]);_0xe6ec4c?_0x399ddc[_0x2db313(0x1cf)][_0x2db313(0x3fe)](_0x2db313(0x276)):_0x399ddc[_0x2db313(0x1cf)][_0x2db313(0x509)]('button-disabled');}),Array[_0x4a630b(0x2b3)](upgradeStorageBtns)[_0x4a630b(0x471)](function(_0x3bfe60){const _0x4e6816=_0x4a630b,_0x18bd01=storageUpgradePrices[_0x3bfe60['dataset'][_0x4e6816(0x2e1)]];gameState[_0x4e6816(0x1f7)]>=_0x18bd01[_0x4e6816(0x1f7)]&&gameState[_0x4e6816(0x450)]>=_0x18bd01[_0x4e6816(0x450)]?_0x3bfe60[_0x4e6816(0x1cf)][_0x4e6816(0x3fe)]('button-disabled'):_0x3bfe60['classList'][_0x4e6816(0x509)]('button-disabled');}),unitBeingHovered!==null&&(armyUnitTypes['includes'](unitBeingHovered)?updateArmyUnitTooltips(unitBeingHovered):updateWorkerUnitTooltips(unitBeingHovered)),upgradeBtnBeingHovered!==null&&updateBuildingUpgradeTooltip(upgradeBtnBeingHovered),buildingCardBeingHovered!==null&&updateBuildingTooltip(buildingCardBeingHovered),storageUpgradeBtnBeingHovered!==null&&updateStorageUpgradeTooltip(storageUpgradeBtnBeingHovered),!resettingGame&&(localStorage[_0x4a630b(0x385)](_0x4a630b(0x4f1),JSON[_0x4a630b(0x4c7)](gameState)),localStorage[_0x4a630b(0x385)](_0x4a630b(0x461),JSON[_0x4a630b(0x4c7)](soulState)));}const combatLog=document['querySelector']('.combat-log');function getSaveChance(){const _0x98614b=a10_0x16d27a;return soulState[_0x98614b(0x26a)]['includes'](_0x98614b(0x352))?0.01:0x0;}function getTeleportChance(){const _0x4aab54=a10_0x16d27a;return getPerkCount(_0x4aab54(0x478))*0x5/0x64;}function advanceTurn(_0x508214){const _0x39bcfb=a10_0x16d27a;gameState['turnTimer']++;const _0x33cec4={'units':gameState[_0x39bcfb(0x42b)],'armyHeading':document[_0x39bcfb(0x299)](_0x39bcfb(0x3dc)),'unitElements':document[_0x39bcfb(0x4a2)]('player-army-card')},_0x3e311b={'units':gameState['enemyUnitsInCombat'],'armyHeading':document['getElementById'](_0x39bcfb(0x257)),'unitElements':document['getElementsByClassName'](_0x39bcfb(0x2ff))},_0x6a13db=_0x508214?_0x33cec4:_0x3e311b,_0x1acf3a=_0x508214?_0x3e311b:_0x33cec4;setTimeout(()=>{const _0x34734a=_0x39bcfb;_0x6a13db[_0x34734a(0x43d)][_0x34734a(0x1cf)][_0x34734a(0x509)](_0x34734a(0x4c1)),_0x1acf3a[_0x34734a(0x43d)][_0x34734a(0x1cf)][_0x34734a(0x3fe)]('army-heading-active');},0x32*gameState[_0x39bcfb(0x37a)]);if(_0x6a13db[_0x39bcfb(0x1e6)]['length']>0x0&&_0x1acf3a[_0x39bcfb(0x1e6)][_0x39bcfb(0x425)]>0x0&&gameState[_0x39bcfb(0x327)]%gameState[_0x39bcfb(0x37a)]===0x0){if(isAutoResolving){autoResolveCombat();return;}const _0x11a000=_0x6a13db[_0x39bcfb(0x1e6)][0x0],_0xfee96b=_0x1acf3a[_0x39bcfb(0x1e6)][Math[_0x39bcfb(0x2a0)](Math[_0x39bcfb(0x45c)]()*_0x1acf3a[_0x39bcfb(0x1e6)][_0x39bcfb(0x425)])];for(const _0x6f1ad9 of _0x6a13db[_0x39bcfb(0x344)]){_0x6f1ad9['dataset'][_0x39bcfb(0x45f)]===_0x11a000?(_0x6f1ad9[_0x39bcfb(0x1cf)][_0x39bcfb(0x509)](_0x39bcfb(0x4fc)),setTimeout(()=>_0x6f1ad9[_0x39bcfb(0x1cf)][_0x39bcfb(0x3fe)](_0x39bcfb(0x4fc)),0x64*gameState[_0x39bcfb(0x37a)])):_0x6f1ad9[_0x39bcfb(0x1cf)][_0x39bcfb(0x3fe)](_0x39bcfb(0x4fc));;};const _0x2e1e51=runFight(_0x11a000,_0xfee96b,unitAttackTypes,unitWeaknessTypes,unitAttack,unitDefense,!_0x508214&&getSaveChance(),!_0x508214&&getTeleportChance()),_0x41685b=gameState['combatInterval'];let _0xc939=getAttackEfficiency(unitAttackTypes[_0x11a000],unitWeaknessTypes[_0xfee96b]);combatLog[_0x39bcfb(0x43b)]='',setTimeout(()=>{const _0x1e42ce=_0x39bcfb;combatLog['innerHTML']=_0x1e42ce(0x421)+unitAttackTypes[_0x11a000][0x0]+_0x1e42ce(0x396)+(unitAttackTypes[_0x11a000][0x1]?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20class=\x27combat-log-icon\x27\x20src=\x22svgs/'+unitAttackTypes[_0x11a000][0x1]+_0x1e42ce(0x33e):'')+_0x1e42ce(0x29e)+unitAttackTypes[_0xfee96b][0x0]+_0x1e42ce(0x396)+(unitAttackTypes[_0xfee96b][0x1]?_0x1e42ce(0x465)+unitAttackTypes[_0xfee96b][0x1]+_0x1e42ce(0x33e):'')+_0x1e42ce(0x202)+_0xc939+_0x1e42ce(0x279)+(calcKillChance(unitAttack[_0x11a000],unitDefense[_0xfee96b],_0xc939)*0x64)[_0x1e42ce(0x469)](0x2)+_0x1e42ce(0x40c),setTimeout(()=>{const _0xc0d794=_0x1e42ce;document[_0xc0d794(0x460)](_0xc0d794(0x3b2))!==null&&(document['querySelector']('.combat-log-result')[_0xc0d794(0x43b)]=capitalizeFirstLetter(_0x2e1e51));},0x5f*_0x41685b);},0xf*_0x41685b);for(const _0xfb7ddc of _0x1acf3a[_0x39bcfb(0x344)]){_0xfb7ddc[_0x39bcfb(0x490)][_0x39bcfb(0x45f)]===_0xfee96b&&(setTimeout(function(){const _0x22f437=_0x39bcfb;_0xfb7ddc[_0x22f437(0x1cf)][_0x22f437(0x509)]('unit-targeted');},0x14*gameState[_0x39bcfb(0x37a)]),setTimeout(function(){const _0xc11161=_0x39bcfb;_0xfb7ddc[_0xc11161(0x1cf)][_0xc11161(0x3fe)](_0xc11161(0x453));},0x64*gameState[_0x39bcfb(0x37a)]));;};if(_0x2e1e51==='kill'||_0x2e1e51=='teleport'){onUnitRemoved(_0xfee96b),setTimeout(updateInCombatCounts,0x64*gameState['combatInterval']);if(!_0x508214&&_0x2e1e51==='kill')gameState[_0x39bcfb(0x27c)][_0xfee96b]--;_0x508214&&onEnemyKilled(_0xfee96b);let _0x7a4fd2=_0x1acf3a[_0x39bcfb(0x1e6)][_0x39bcfb(0x209)](_0xfee96b);_0x1acf3a[_0x39bcfb(0x1e6)]['splice'](_0x7a4fd2,0x1),_0x1acf3a[_0x39bcfb(0x1e6)]['length']===0x0&&onCombatEnd(_0x508214);}else Array[_0x39bcfb(0x2b3)](_0x1acf3a['unitElements'])[_0x39bcfb(0x471)](function(_0xe58ce7){const _0x2553ae=_0x39bcfb;_0xe58ce7['dataset'][_0x2553ae(0x45f)]===_0xfee96b&&(setTimeout(function(){const _0x133006=_0x2553ae;_0xe58ce7[_0x133006(0x1cf)]['add'](_0x133006(0x271));},0x64*gameState[_0x2553ae(0x37a)]),setTimeout(function(){const _0xd498f3=_0x2553ae;_0xe58ce7[_0xd498f3(0x1cf)][_0xd498f3(0x3fe)](_0xd498f3(0x271));},0x96*gameState['combatInterval']));});;_0x6a13db[_0x39bcfb(0x1e6)]['splice'](0x0,0x1);}else _0x6a13db['units'][_0x39bcfb(0x425)]===0x0&&(gameState['isPlayersTurn']=_0x508214?![]:!![],gameState['turnTimer']=0x0);;}function getUnitCard(_0x514b0c){const _0x44c843=a10_0x16d27a,_0x17b696=[...document[_0x44c843(0x4a2)](_0x44c843(0x1d2))];return _0x17b696[_0x44c843(0x23d)](_0x116e20=>_0x116e20[_0x44c843(0x490)][_0x44c843(0x45f)]==_0x514b0c);}function onUnitRemoved(_0x10bc63,_0x8645c0){const _0x16d1be=a10_0x16d27a;gameState[_0x16d1be(0x2b2)][_0x10bc63]--;const _0xfeb71=_0x8645c0?0x0:gameState[_0x16d1be(0x37a)],_0x11dd83=getUnitCard(_0x10bc63);setTimeout(function(){const _0xf1e733=_0x16d1be;_0x11dd83[_0xf1e733(0x1cf)]['add'](_0xf1e733(0x30a)),setTimeout(function(){const _0x5e8863=_0xf1e733;_0x11dd83[_0x5e8863(0x1cf)][_0x5e8863(0x3fe)](_0x5e8863(0x30a));},0x32*gameState[_0xf1e733(0x37a)]);},0x64*_0xfeb71);}function onEnemyKilled(_0x29c4ac,_0x23298f){const _0x5a8bf3=a10_0x16d27a,_0x1cd80f=_0x23298f?0x0:gameState['combatInterval'],_0x4f46f7=[0x0,0xf,0x28][getPerkCount(_0x5a8bf3(0x240))];_0x4f46f7&&setTimeout(function(){gameState['blood']+=_0x4f46f7;},0x64*_0x1cd80f);const _0x524d82=enemyUnits[_0x29c4ac][_0x5a8bf3(0x316)]+enemyUnits[_0x29c4ac]['def']*1.5,_0x2e6425=Math[_0x5a8bf3(0x21b)](_0x524d82/0x28+_0x524d82/0x28*Math[_0x5a8bf3(0x45c)]());gameState[_0x5a8bf3(0x4b3)]+=_0x2e6425,((_0x9a63f6,_0x13494a,_0x579150)=>{const _0x423cc1=setTimeout(function(){const _0x28e5d2=a10_0x33f7;currentCombatGoldCount['innerText']=_0x579150;const _0x1b0192=getUnitCard(_0x9a63f6);for(let _0x49f410=0x0;_0x49f410<_0x13494a;_0x49f410++){let _0x35469e=document['createElement'](_0x28e5d2(0x3b0));_0x35469e['setAttribute'](_0x28e5d2(0x4e8),_0x28e5d2(0x4f3)+_0x423cc1),_0x35469e[_0x28e5d2(0x2a8)](_0x28e5d2(0x481),_0x28e5d2(0x448)+0x5a*Math[_0x28e5d2(0x45c)]()+_0x28e5d2(0x480)+-0x14*Math[_0x28e5d2(0x45c)]()+_0x28e5d2(0x3cd)),_0x35469e[_0x28e5d2(0x483)]=_0x28e5d2(0x45e),_0x1b0192[_0x28e5d2(0x36f)](_0x35469e);}(_0x4e50b9=>setTimeout(()=>{const _0x54a95e=_0x28e5d2;document[_0x54a95e(0x326)](_0x54a95e(0x34b)+_0x4e50b9)[_0x54a95e(0x471)](_0x1c659d=>{const _0x81b70c=_0x54a95e;_0x1c659d[_0x81b70c(0x3fe)]();});},0x3e8))(_0x423cc1);},0x73*_0x1cd80f);})(_0x29c4ac,_0x2e6425,gameState[_0x5a8bf3(0x4b3)]);}function onCombatEnd(_0x34ccac){const _0x1656a3=a10_0x16d27a;gameState[_0x1656a3(0x310)]=![],$(_0x1656a3(0x444))[_0x1656a3(0x1cf)][_0x1656a3(0x3fe)](_0x1656a3(0x418)),$(_0x1656a3(0x444))['classList']['remove'](_0x1656a3(0x3a1)),setTimeout(function(){const _0x4af587=_0x1656a3;$(_0x4af587(0x444))[_0x4af587(0x1cf)][_0x4af587(0x509)](_0x4af587(0x3a1));},0x514),setTimeout(function(){const _0x1a5a26=_0x1656a3;$(_0x1a5a26(0x444))['classList'][_0x1a5a26(0x3fe)](_0x1a5a26(0x3a1));},0xa8c),setTimeout(function(){const _0x24df39=_0x1656a3;$(_0x24df39(0x444))['classList'][_0x24df39(0x509)](_0x24df39(0x418));},0x9c4);if(_0x34ccac){if(enemyBuildingTiers[_0x1656a3(0x424)][_0x1656a3(0x25d)](gameState[_0x1656a3(0x500)][gameState['currentlyFighting']]))gameState[_0x1656a3(0x3f4)]=generateItem(0x1);else{if(enemyBuildingTiers['tier2'][_0x1656a3(0x25d)](gameState[_0x1656a3(0x500)][gameState[_0x1656a3(0x1f1)]]))gameState[_0x1656a3(0x3f4)]=generateItem(0x2);else enemyBuildingTiers[_0x1656a3(0x22a)][_0x1656a3(0x25d)](gameState[_0x1656a3(0x500)][gameState['currentlyFighting']])?gameState['chestItem']=generateItem(0x3):gameState[_0x1656a3(0x3f4)]=generateItem(0x4);}chestBtn[_0x1656a3(0x1cf)][_0x1656a3(0x3fe)](_0x1656a3(0x1f4)),chestBtn[_0x1656a3(0x1cf)][_0x1656a3(0x3fe)]('chest-img-uncommon'),chestBtn[_0x1656a3(0x1cf)][_0x1656a3(0x3fe)](_0x1656a3(0x4d3)),chestBtn[_0x1656a3(0x1cf)][_0x1656a3(0x3fe)]('chest-img-epic'),chestBtn[_0x1656a3(0x1cf)][_0x1656a3(0x3fe)]('chest-img-legendary'),chestBtn[_0x1656a3(0x1cf)]['add'](_0x1656a3(0x229)+gameState[_0x1656a3(0x3f4)][_0x1656a3(0x33c)]),gameState['controlledTiles']['push'](gameState['currentlyFighting']),openChestBuildingBtn['classList'][_0x1656a3(0x509)](_0x1656a3(0x276)),document['getElementById'](gameState[_0x1656a3(0x1f1)]+'-overlay'),gameState[_0x1656a3(0x500)][gameState[_0x1656a3(0x1f1)]]=null;let _0xbe7b80=document[_0x1656a3(0x299)](gameState[_0x1656a3(0x1f1)]+_0x1656a3(0x35d));setTimeout(function(){const _0x3901e7=_0x1656a3;$(_0x3901e7(0x444))[_0x3901e7(0x1cf)][_0x3901e7(0x509)](_0x3901e7(0x3a1));},0x9c4),setTimeout(function(){const _0x522a66=_0x1656a3;$(_0x522a66(0x444))[_0x522a66(0x1cf)]['remove'](_0x522a66(0x3a1));},0xa8c),setTimeout(function(){const _0xa69b88=_0x1656a3;_0xbe7b80[_0xa69b88(0x1cf)][_0xa69b88(0x3fe)]('building-under-attack');},0x5dc),setTimeout(function(){const _0x37b099=_0x1656a3;_0xbe7b80[_0x37b099(0x1cf)][_0x37b099(0x509)](_0x37b099(0x4fd));},0x5dc),setTimeout(function(){const _0xe79eea=_0x1656a3;_0xbe7b80[_0xe79eea(0x1cf)][_0xe79eea(0x3fe)](_0xe79eea(0x4fd));},0xbb8),setTimeout(function(){const _0xde1593=_0x1656a3;_0xbe7b80[_0xde1593(0x2c1)](_0xbe7b80['firstChild']);},0x9c4),setTimeout(function(){refreshFog();},0x9c4),calcEnemyBuildingUnits(),soulState['gold']+=gameState[_0x1656a3(0x4b3)],document[_0x1656a3(0x460)](_0x1656a3(0x4b8))[_0x1656a3(0x1cf)]['remove'](_0x1656a3(0x44c)),document[_0x1656a3(0x460)]('.victory-gold-count')[_0x1656a3(0x2df)]=gameState[_0x1656a3(0x4b3)],updateGoldCount(soulState),loadShopPrices(soulState),sellAnimation(),gameState[_0x1656a3(0x4b3)]=0x0;}setTimeout(function(){const _0x1ec41c=_0x1656a3;$(_0x1ec41c(0x32a))[_0x1ec41c(0x1cf)][_0x1ec41c(0x3fe)](_0x1ec41c(0x44c)),$('#'+(_0x34ccac?_0x1ec41c(0x211):_0x1ec41c(0x455))+_0x1ec41c(0x275))['classList'][_0x1ec41c(0x3fe)](_0x1ec41c(0x44c));},0x9c4),setTimeout(function(){endCombat();},0x9c4),gameState[_0x1656a3(0x3d9)]['length']===0x40&&setTimeout(function(){const _0x2c8d7e=_0x1656a3;let _0x5c9048=displayedTime;$(_0x2c8d7e(0x291))[_0x2c8d7e(0x2df)]=_0x5c9048,$(_0x2c8d7e(0x2cc))['classList'][_0x2c8d7e(0x3fe)](_0x2c8d7e(0x44c)),prestigeCounterContainer[_0x2c8d7e(0x1cf)][_0x2c8d7e(0x509)](_0x2c8d7e(0x44c)),$(_0x2c8d7e(0x3ce))['classList'][_0x2c8d7e(0x3fe)]('display-none'),gtag('event',_0x2c8d7e(0x2e4),{'gameState':gameState,'soulState':soulState});},0x9c4);}console['log'](a10_0x16d27a(0x1fe),a10_0x16d27a(0x2ac));let allImages=document['images'],allImagesLength=allImages['length'],imageCounter=0x0;[][a10_0x16d27a(0x471)][a10_0x16d27a(0x331)](allImages,function(_0x34288d){const _0x51e61b=a10_0x16d27a;if(_0x34288d[_0x51e61b(0x423)])incrementImageCounter();else _0x34288d[_0x51e61b(0x3ff)](_0x51e61b(0x4c6),incrementImageCounter,![]);});function incrementImageCounter(_0x33930e){const _0x9d86a6=a10_0x16d27a;imageCounter++;let _0x197331=imageCounter/allImagesLength*0x64;$(_0x9d86a6(0x4c5))[_0x9d86a6(0x481)][_0x9d86a6(0x277)]=_0x197331+'%\x20',imageCounter===allImagesLength&&(setTimeout(function(){const _0x59b542=_0x9d86a6;$(_0x59b542(0x404))[_0x59b542(0x1cf)]['add']('fadeout');},0x1f4),setTimeout(function(){const _0x323594=_0x9d86a6;$(_0x323594(0x404))[_0x323594(0x1cf)]['add'](_0x323594(0x44c));},0x3e8));}