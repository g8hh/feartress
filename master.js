'use strict';const a10_0x5118=['.army-unit-tooltip\x20.unit-tooltip-upkeep-1','demolish-building-button','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20class=\x27combat-log-icon\x27\x20src=\x22svgs/','.combat-log','#win-time','bloodleaf','transform','prestige-wave','pointer-events-none','classList','cost-too-high','some','forge','-count','svgs/gold_icon.svg','grid-container','buildings-dark','teleportation|enhancedTeleportation','#scholar-card','.combat-stats-btn','college','resetDecreaseUnitBtns','gameStateV02','in-combat-count','banditsCamp','succubus','confirm-reset-game','code','knowledge-max','rgb(17,\x2017,\x2017)','in-combat-enemy-army-card','padStart','naturesVengeanceII','attackTypes','druid','#inventory-btn','#army-population-max','close-victory-defeat-button','perk-obtained','building-destroyed','437Zkktkh','length','epic','#alchemistHut','#champion-menu','#character-btn','spAtkBuff','middle','html','.worker-unit-consumption-2','left:\x20','build-button','./svgs/','frostMasteryI*','shopItemsOwned','match','34437FzDfjt','-menu\x20.building-action-button','#food-max','Discard\x20loot','civil','playerUnitsInCombat','warehouse','click','.discard-loot-btn','your-army-heading','#resolve-cost-gold','increase-army-unit-button','senseFear','.production-stats-container','clientX','close-build-menu-button','legend','onmouseover','unit-targeted','itemName','#resolve-button','fireMasteryI*','increase-blood-production-button','isBloodUnlocked','.warehouse-building-tooltip-effect4','fireMastery','victory','abandon-reset-game','#knowledge-per-second','map-grid','Character','player-army-card','pagodaOfArcanum','collegeOfFire','extraBag1','treant','decrease-civil-unit-button','-menu','initiate-combat-button','t42','t33','defense','call','combat-screen','KeyI','color','Click\x20again\x20to\x20confirm','display-none','button-disabled','frostAtk','#max-out-units-btn','key','img','controlledTiles','obtained-stroke','#elapsed-time','defeat','isChampionMenuUnlocked','def','Inventory\x20full!','build-menu-page-btn-left','Max\x20+','.warehouse-building-tooltip-effect-container','#stone-count','buildings','#bag-btn-2','churchRuins','toLocaleString','success','keys','.army-unit-card[data-unit-type=\x22','#equipment-max','rgb(255,\x20116,\x20116)','isScholarUnlocked','ceil','Combat\x20speed:\x205x','.toast-img','#buildings','stringify','upkeep','.building-tooltip-cost3','warlord','appendChild','#humans-per-minute','.worker-unit-consumption-1-img','bronzeFennel','storage-upgrade-button','currentCombatGold','civilPopulation','.legend-container','totalItemBonuses','fireMasteryII','arcaneMasteryII','garden-grid-cell-selected','isPlayersTurn','fireMasteryIII','storage','#map-grid','inventory-tab','#combat-screen','herbalist','plotNum','scale(1.4)','description','+1\x20plot','#close-tech-tree-button','.sell-item-square','champion-menu-tab-btn-active','filter','/min','fireMage','armyUnits','isCombat','#wood-per-second','isFoodUnlocked','#win-chance','onmouseup','removeChild','0px','name','KeyT','.army-unit-tooltip\x20.unit-tooltip-cost-3-img','lastChild','army-unlocked-population-container','enhancedCollegeOfFire','plots','perks-available','.unit-card-middle','map','#blood-per-second','rainingBlood','#food-count','forbiddenTemple','collegeOfArcanumAmount','103NUQcZg','#bag-2','svgs/','./image_files/herbalGarden.png','perksUnlocked','.army-unit-tooltip\x20.unit-tooltip-cost-1-img','88566MukemD','.building-upgrade-tooltip-cost2-img','demonicFuryII','isKnowledgeUnlocked','.army-unit-tooltip\x20.unit-tooltip-cost-2-img','civil-unit-tab','#bag-btn-3','buildingsUnlocked','fairyWand','554299bQOANG','.building-tooltip-name','foundryAmount','.png','enhancedSuccubus','guardPostOfFire','replaceChildren','unit-tab-active','#calc-win-cost-gold','160px','collegeAmount','.combat-stats-container','plants','postMessage','building-action-ready','arcaneMastery','blood-resource-card','#bag-3','isMagicUnlocked','scale(','addEventListener','2832525FvJplX','unit-tooltip-right','#soul-perk-btn','#herbalGarden','.worker-unit-tooltip\x20.unit-tooltip-cost-2','.warehouse-building-tooltip-effect3','.storage-upgrade-tooltip-cost2','pagodaOfFire','#resolve-cost-equipment','#upgrade-iron-storage-card','.worker-unit-consumption-2-img','fadeout','nextEventTime','_ready','.warehouse-building-tooltip-effect5','building-info-card','None','1367Qfinjp','add','arcane','kettle-cell-selected','nature','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20=\x20','production','getElementById','rightrecipe\x201.5s\x20ease-in-out','collegeOfArcanum','extraBag2','slot','bagSlot','px;','#equipment-resource-card','frostMasteryIII','animationDelay','./image_files/herbalGarden_ready.png','enemyBuildingType','.building-tooltip-effect2-img','food','Amount','pageY','.building-tooltip-effect2','.collect-all-plants-btn','guardPostOfArcanum','bloodBasinAmount','.toast-type','enhancedImp','building-upgrade-button','combatInterval','Allows\x20for\x20brewing\x20potions','miner','#continue-playing-btn','scholar','toast-hover','animation','in-combat-unit','farmAmount','documentElement','.plant-progress-bar-outer','gatherer','#blood-max','wood','#blood-resource-card','stone','sacrificialAltarAmount','army-unit-tab','activePotionEffect','createElement','decrease-army-button','unitType','#victory-container','army','#humans-count','close-famine-notification-button','.building-upgrade-tooltip-cost3-img','.storage-upgrade-tooltip-cost2-img','quarryAmount','Inventory\x20is\x20full!\x20<br>\x20Make\x20room\x20or\x20discard\x20loot.','body','firstChild','denseForestsIII','bookOfAlchemy','isEquipmentUnlocked','bathHouse','guardPostOfFrost','commandPost','isMinerUnlocked','log','graveyard','pagodaOfFrost','barracks','#civil-population-max','forgeAmount','army-unit-menu','tiles','#wood-count','data','#food-resource-card','bloodDemon','t35','t60','.building-tooltip-img','parse','civil-unit-menu','setItem','image_files/','arcaneTalentScouting','rgb(215,\x20115,\x20255)','bloodPortal','#farmer-card','.storage-upgrade-tooltip-cost4-img','isFarmerUnlocked','Click\x20the\x20chest\x20to\x20add\x20your\x20<br>\x20loot\x20to\x20your\x20inventory.','remove','building-max','#herbalGarden-card','cavalier','#loading-screen','isHerbalistUnlocked','increase-civil-unit-button','Counter','.building-action-percentage','.building-upgrade-tooltip-cost4-img','arcaneMasteryIII','ironProductionRate','resolveCost','doubleProductionBonusPower','.potion-effect-icon','exitFullscreen','fadein\x201s\x20reverse\x20ease-in\x20running','event','sawmill','unit-hit','Sell','#build-menu-page-btn-right','.toast-name','hutAmount','src','dataset','bloodyMess','storageLevels','.building-action-button-fill','onmouseleave','.open-chest-button','fs-on-icon','plot-locked','build-menu-page-btn-right','.army-unit-tooltip-cost-2-container','class','Retire','savingDice','.building-upgrade-tooltip-cost4','produces','frostTalentScouting','toggle','fs-off-icon','.victory-gold-count','holyAtk','hops','#defeat-container','demonicFertility','potionRecipeBook','meleeAtk','sacrificialBlood','#blacksmith-card','attack','#calc-win-cost-knowledge','#iron-production-rate','.garden-grid-cell','chest-img-epic','.combat-gold-count','pow','.building-tooltip-cost2','t44','-building-lvl','querySelector','getItem','kettleSlot','tile-overlay-image','unit-tooltip-middle','bluePinkgill','isWoodcutterUnlocked','demonicFuryIII','.building-tooltip','#stone-max','innerText','.building-card','width','setAttribute','rgb(46,\x20172,\x20255)','Rain!\x20Your\x20food\x20production\x20is\x20increased\x20by\x20','--ad-container-width','.perk-point-count','_icon.svg\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','foundry','zoom-in','inventory-stats-btn-active','.building-upgrade-tooltip-cost1','victory-defeat-screen','isWoodUnlocked','.perk-cell','chest','strength','enemy-unit-count','plantType','unitsInCombat','3BQvplt','decrease-army-unit-button','.auto-convert-container','hut','rgb(196,\x20196,\x20196)','bloodPortalCounter','flying','resource-progress-bar-fill','Escape','arcaneMasteryI*','.worker-unit-tooltip\x20.unit-tooltip-upkeep-1-img','fog','clear','querySelectorAll','bloodProductionRate','selected-','quarry','#commandPost-card','.storage-upgrade-tooltip-cost3','building-png','.building-upgrade-tooltip-cost2','#knowledge-count','getElementsByClassName','.toast-container','increase-army-button','pinstripeCalathea','indexOf','Combat\x20speed:\x201.25x','naturesVengeanceIII','find','soulState','.building-tooltip-effect-container','holy','.auto-convert-button-container','feverfew','font-family:\x20monospace','.adsbygoogle','combat_simulation.js','archer','max','denseForests','TalentScouting','#equipment-count','common','top','fireTalentScouting','army-heading-active','inventory-tab-active','#famine-popup','random','retreatCost','zoom-out','.storage-upgrade-tooltip','offsetLeft','productionBonusOne','toast\x201s\x20ease','.worker-unit-tooltip\x20.unit-tooltip-img','t50','openpages','enhancedTeleportation','decrease-iron-production-button','mouseup','enhanced','-container','enemy-army-heading','collegeOfFireAmount','denseForestsII','.army-unit-tooltip\x20.unit-tooltip-cost-2','.worker-unit-tooltip\x20.unit-tooltip-cost-2-img','hover-overlay','isImpUnlocked','naturesVengeance','right','productionBonusOnePower','#bag-btn-1','bloodPortalAmount','#commandPost','enhancedTreant','ranged','prestige-button-hover','blacksmith','equipment','_icon.svg','#cleared-board-screen','magic','unitingTheElements','style','#bag-1','x\x20ATK\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22combat-log-kill-chance-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x20\x27combat-log-result-container\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Kill\x20chance:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22combat-log-kill-chance\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','enemy-coin\x20coins-','Carnival!\x20Your\x20production\x20is\x20increased\x20by\x20','height','farmer','rangedAtk','soothsayer','isTechTreeUnlocked','goblinTower','isBlacksmithUnlocked','.prestige-button','href','collegeOfFrostAmount','herbalGarden','.building-tooltip-cost3-img','/sec\x20+','unit-active','#iron-resource-card','#magic-resource-card','<div\x20class=\x22combat-log-types-container\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27combat-log-types-icons\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20class=\x27combat-log-icon\x27\x20src=\x22svgs/','tier3','enhancedCollegeOfFrost','attack-button','#iron-max','enemy-army-card','pageX','.army-unit-tooltip\x20.unit-tooltip-type-2-text','#inventory-menu','saffronMilkcap','alchemistHut','timer','denseForestsI*','soulStateV02','iron','min','toggle-enabled','forEach','#upgrade-equipment-storage-card','#calc-win-chance-progress-bar-fill','.shop-item-container','plant-ready','.settings-button','bathHouseAmount','herbalGardenAmount','chestItem','#victory-defeat-screen','endsWith','.tile-overlay','.army-unit-tooltip\x20.unit-tooltip-defense','enhancedSacrificialAltar','tech-tree-grid-item','0.5s\x20ease-in-out','moving-building-container','.building-tooltip-cost1','keydown','go-dark','unitElements','perkName','every','.import-error-message','selected-tile','doubleProductionBonus','.building-tooltip-effect1','.worker-unit-tooltip\x20.unit-tooltip-upkeep-1','#wood-resource-card','demonicFertilityII','collegeToggles','KeyS','#woodcutter-card','from','alchemistHutAmount','droughtFactor','cost','deltaY','updateUnlocks','t59','reset-game-popup','children','unit-blocked','scoutingType','-card','atk','productionBonusTwo','.army-unit-tooltip\x20.unit-tooltip-name','enhancedCollegeOfArcanum','.army-unit-tooltip\x20.unit-tooltip-type-1-text','\x20Max','bloodBasin','combatStat','fire','t49','wheel','#character-menu','carnivalFactor','#shop-btn','splice','.building-tooltip-description','.coins-','.army-unit-tooltip\x20.unit-tooltip-type-1-img','.kettle-cell','knowledge','chest-img-','demonicFertilityIII','demonicFertilityI*','.victory-description','chest-img-common','terminate','imgFileName','.potion-effect-text','buildingType','#event-description','#shop-menu','#retreat-button','.population-container','reason','abandonedMine','rarity','eagle','frostMastery','#bathHouse-card','reduce','toString','isArmyTabUnlocked','display','armyHeading','Max\x20workers\x20+','squire','#build-menu-page-btn-left','parentElement','alternativeBloodSource','#tech-tree-menu','.worker-unit-tooltip','t52','#knowledge-max','tier1','collegeOfFrost','carnival','offsetTop','sacrifice-unit-button','enemy-menu','.worker-unit-consumption-1','.plant-progress-bar-inner','productionBonusTwoPower','floor','transition','build-menu','round','.unit-tooltip-cost-1-container','.kettle-container','enhancedBloodPortal','isIronUnlocked','.gold-container','prestige','decrease-blood-production-button','Max\x20army\x20+','#magic-count','#event-container','stat','-max','Demolish','techTree','.worker-unit-tooltip-consumption-container','.shop-item-tooltip','#calc-win-chance-btn','Slot1','chest-img-rare','bag-btn-2','value','unholyAtk','isSuccubusUnlocked','onmessage','gameState','alert','spAtkType','replace','perk-stroke','warehouseAmount','fadein','images','rare','#loading-progress','.army-unit-tooltip\x20.unit-tooltip-type-2-img','humans','.prestige-counter','arcaneMage','isBloodDemonUnlocked','#magic-max','.close-settings-button','isStoneUnlocked','mouseover','.worker-unit-production-1-img','.select-army-card-container[data-unit-type=\x22','rgb(238,\x20238,\x20238)','increases','button','gold','elapsedTime','smooth-transition','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VS\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27combat-log-types-icons\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20class=\x27combat-log-icon\x27\x20src=\x22svgs/','includes','farm','turnTimer','push','now','gameWon','alternativeBloodSource|bloodyMess','blood','close-enemy-menu-button','increase-iron-production-button','#alchemistHut-card','character-slot','plant','arcaneAtk','units','.worker-unit-tooltip\x20.unit-tooltip-name','#knowledge-resource-card','barracksAmount','brightness(1.2)\x20sepia(10)\x20hue-rotate(-50deg)\x20saturate(5)','hit\x200.5s\x20ease-in-out','click-active','armyPopulation','rainFactor','.potion-effect-timer','ATK\x20+','.settings-menu-content-container','civilUnits','.building-upgrade-button','Open\x20chest','#food-per-second','enhancedBloodDemon','t36','reload','.building-tooltip-cost2-img','.building-upgrade-tooltip-effect-img','statBuff','prestigebutton\x204s\x20infinite\x20ease-in-out','/sec','woodcutter','currentlyFighting','chest-img-legendary','#stone-per-second','.storage-upgrade-tooltip-cost1','perkPoints','left','#stone-resource-card','innerHTML','t34','moving-building-img','t41','reset-game-button','#blood-count','fireAtk','rain','.combat-log-result','.building-tooltip-effect1-img','values','fill','error','.item-tooltip','Convert\x20scholar\x20to\x20mage','.potion-effect-container','-overlay','#civil-population-count','#unit-tab-container','teleportation','873nGGdae','toFixed','1576559hVBSKF','.svg','buildingLevels','enemyUnitsInCombat','sacrificialAltar','progress','rotateX(55deg)\x20rotateZ(45deg)\x20scale(','bookOfMages','commandPostAmount','tech-tree-tooltips','chest-img-uncommon','naturesVengeanceI*','demonicFury','ingredient-img','mouseleave','uncommon','mountains','has-plant','sawmillAmount','.tech-tree-nav-button','resourceType','bind','imp','#selected-','#blood-production-rate','.plant-count','_icon.svg\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#perk-champion-menu-btns-container','consumes','tile-overlay','mousedown','.storage-upgrade-button','#herbalist-card','.storage-upgrade-tooltip-cost4','character-stat-percentage','demonicFuryI*','drought','frostMasteryII','teleport','#tech-tree-button','.prestige-counter-container','locked','tile-jiggle','melee','charSlot'];const a10_0x2adce8=a10_0x2685;(function(_0x4b6dcf,_0x2980f3){const _0x1e507a=a10_0x2685;while(!![]){try{const _0x7d9adb=-parseInt(_0x1e507a(0x345))+parseInt(_0x1e507a(0x34e))*parseInt(_0x1e507a(0x430))+parseInt(_0x1e507a(0x254))+parseInt(_0x1e507a(0x374))*parseInt(_0x1e507a(0x2a9))+-parseInt(_0x1e507a(0x2b9))+-parseInt(_0x1e507a(0x33f))*-parseInt(_0x1e507a(0x252))+-parseInt(_0x1e507a(0x363));if(_0x7d9adb===_0x2980f3)break;else _0x4b6dcf['push'](_0x4b6dcf['shift']());}catch(_0x45a3c2){_0x4b6dcf['push'](_0x4b6dcf['shift']());}}}(a10_0x5118,0xed1da));import{attachClickSaveHandlers}from'./save.js';import{generateItem}from'./generate_loot.js';import{loadItemIMGS,moveItem,moveItemStop,abandonMoveItem,sellItem,updateGoldCount,loadItemPlaceholderIMGS,showItemTooltip}from'./inventory.js';import{workers,friendlyArmyUnits,friendlyUnits,enemyUnits,armyUnits}from'./units.js';import{buildings}from'./buildings.js';import{kettle,makePotion,newRecipeList,potionEffects,potionEffectPower}from'./alchemy_recipes.js';import{closeRecipeBook}from'./potion_recipe_book.js';import{loadShopPrices,initShop}from'./shop.js';const $=document['querySelector'][a10_0x2adce8(0x269)](document),civilUnitTypes=Object[a10_0x2adce8(0x2fe)](workers),armyUnitTypes=Object[a10_0x2adce8(0x2fe)](armyUnits),friendlyArmyUnitTypes=Object[a10_0x2adce8(0x2fe)](friendlyArmyUnits),friendlyUnitTypes=Object[a10_0x2adce8(0x2fe)](friendlyUnits),enemyUnitTypes=Object[a10_0x2adce8(0x2fe)](enemyUnits),initCivilUnitCounts=()=>civilUnitTypes[a10_0x2adce8(0x1c1)]((_0x560027,_0x11ab8a)=>({..._0x560027,[_0x11ab8a]:0x0}),{}),initArmyUnitCounts=()=>friendlyArmyUnitTypes[a10_0x2adce8(0x1c1)]((_0x383271,_0x301b99)=>({..._0x383271,[_0x301b99]:0x0}),{}),initBuildingsUnlocked=()=>Object[a10_0x2adce8(0x2fe)](buildings)[a10_0x2adce8(0x1c1)]((_0x2bca2b,_0x21dd80)=>({..._0x2bca2b,[_0x21dd80]:![]}),{}),initBuildingAmounts=()=>Object[a10_0x2adce8(0x2fe)](buildings)[a10_0x2adce8(0x1c1)]((_0x7b0b9f,_0x5c9fd2)=>({..._0x7b0b9f,[_0x5c9fd2+'Amount']:0x0}),{}),allPerks=[...document['querySelectorAll'](a10_0x2adce8(0x42a))][a10_0x2adce8(0x339)](_0x44e44b=>_0x44e44b[a10_0x2adce8(0x3ec)]['perkName'])['filter'](_0x1cbed2=>_0x1cbed2);let originalGameState={'elapsedTime':0x0,'nextEventTime':0x0,'humans':0x5,'food':0x64,'wood':0x0,'stone':0x0,'iron':0x0,'equipment':0x0,'knowledge':0x0,'blood':0x0,'magic':0x0,'civilPopulation':0x0,'armyPopulation':0x0,'storageLevels':{'food':0x1,'wood':0x1,'stone':0x1,'iron':0x1,'equipment':0x1},'civilUnits':initCivilUnitCounts(),'armyUnits':initArmyUnitCounts(),'isHumansUnlocked':!![],'isFoodUnlocked':!![],'isWoodUnlocked':![],'isStoneUnlocked':![],'isIronUnlocked':![],'isEquipmentUnlocked':![],'isKnowledgeUnlocked':![],'isBloodUnlocked':![],'isMagicUnlocked':![],'isGathererUnlocked':!![],'isWoodcutterUnlocked':![],'isMinerUnlocked':![],'isFarmerUnlocked':![],'isScholarUnlocked':![],'isBlacksmithUnlocked':![],'isHerbalistUnlocked':![],'isImpUnlocked':![],'isSuccubusUnlocked':![],'isBloodDemonUnlocked':![],'isArmyTabUnlocked':![],'isTechTreeUnlocked':![],'isChampionMenuUnlocked':![],'perksUnlocked':[],'buildingsUnlocked':initBuildingsUnlocked(),'buildingLevels':{'hut':0x1,'sawmill':0x1,'quarry':0x1,'foundry':0x1,'forge':0x1,'farm':0x1,'barracks':0x1,'college':0x1,'bloodBasin':0x1,'sacrificialAltar':0x1,'bathHouse':0x1},...initBuildingAmounts(),'bloodProductionRate':0.5,'ironProductionRate':0.5,'bloodPortalCounter':0x0,'collegeOfFireCounter':0x0,'collegeOfFrostCounter':0x0,'collegeOfArcanumCounter':0x0,'droughtFactor':0x1,'rainFactor':0x1,'carnivalFactor':0x1,'combatInterval':0xa,'isCombat':![],'isPlayersTurn':null,'turnTimer':0x0,'playerUnitsInCombat':null,'enemyUnitsInCombat':null,'currentlyFighting':null,'resolveCost':{},'retreatCost':0x0,'isGameAlreadyRunning':![],'unitsInCombat':{},'perkPoints':0x0,'chestItem':{},'currentCombatGold':0x0,'tiles':{'t1':a10_0x2adce8(0x36a),'t2':a10_0x2adce8(0x353),'t3':a10_0x2adce8(0x3ba),'t4':a10_0x2adce8(0x264),'t5':'churchRuins','t6':a10_0x2adce8(0x264),'t7':a10_0x2adce8(0x38d),'t8':a10_0x2adce8(0x2d9),'t9':'guardPostOfFire','t10':'guardPostOfFire','t11':a10_0x2adce8(0x1bc),'t12':a10_0x2adce8(0x42b),'t13':a10_0x2adce8(0x33d),'t14':a10_0x2adce8(0x3ba),'t15':'guardPostOfArcanum','t16':'guardPostOfArcanum','t17':a10_0x2adce8(0x151),'t18':a10_0x2adce8(0x1bc),'t19':a10_0x2adce8(0x3ba),'t20':a10_0x2adce8(0x299),'t21':a10_0x2adce8(0x2fb),'t22':a10_0x2adce8(0x33d),'t23':a10_0x2adce8(0x299),'t24':a10_0x2adce8(0x2fb),'t25':a10_0x2adce8(0x264),'t26':a10_0x2adce8(0x2fb),'t27':a10_0x2adce8(0x151),'t28':a10_0x2adce8(0x33d),'t29':a10_0x2adce8(0x299),'t30':'goblinTower','t31':a10_0x2adce8(0x264),'t32':a10_0x2adce8(0x33d),'t33':null,'t34':null,'t35':null,'t36':null,'t37':'graveyard','t38':a10_0x2adce8(0x1bc),'t39':'chest','t40':'graveyard','t41':null,'t42':null,'t43':null,'t44':null,'t45':a10_0x2adce8(0x1bc),'t46':a10_0x2adce8(0x2fb),'t47':a10_0x2adce8(0x1bc),'t48':a10_0x2adce8(0x33d),'t49':null,'t50':null,'t51':null,'t52':null,'t53':'goblinTower','t54':a10_0x2adce8(0x264),'t55':a10_0x2adce8(0x3b6),'t56':a10_0x2adce8(0x3b6),'t57':null,'t58':null,'t59':null,'t60':null,'t61':a10_0x2adce8(0x299),'t62':a10_0x2adce8(0x3ba),'t63':'guardPostOfFrost','t64':a10_0x2adce8(0x3bb)},'plots':{'p1':{'plant':null,'progress':0x0},'p2':{'plant':null,'progress':0x0},'p3':{'plant':null,'progress':0x0},'p4':{'plant':null,'progress':0x0},'p5':{'plant':null,'progress':0x0},'p6':{'plant':null,'progress':0x0},'p7':{'plant':null,'progress':0x0},'p8':{'plant':null,'progress':0x0},'p9':{'plant':null,'progress':0x0}},'plants':{'babysBreath':0x0,'hops':0x0,'bronzeFennel':0x0,'feverfew':0x0,'fairyWand':0x0,'bloodleaf':0x0,'flyAgaric':0x0,'saffronMilkcap':0x0,'pinstripeCalathea':0x0,'bluePinkgill':0x0},'activePotionEffect':{'name':null,'strength':null,'timer':0x0},'collegeToggles':{'collegeOfFire':![],'collegeOfFrost':![],'collegeOfArcanum':![]},'controlledTiles':[a10_0x2adce8(0x2e1),a10_0x2adce8(0x23f),a10_0x2adce8(0x3c5),a10_0x2adce8(0x22f),a10_0x2adce8(0x241),a10_0x2adce8(0x2e0),'t43',a10_0x2adce8(0x40f),a10_0x2adce8(0x1a3),a10_0x2adce8(0x12a),'t51',a10_0x2adce8(0x1cd),'t57','t58',a10_0x2adce8(0x194),a10_0x2adce8(0x3c6)]},originalSoulState={'characterName':a10_0x2adce8(0x2d7),'prestige':0x1,'shopItemsOwned':[],'gold':0x0,'headSlot1':{},'chestSlot1':{},'legsSlot1':{},'feetSlot1':{},'mainHandSlot1':{},'offHandSlot1':{},'finger1Slot1':{},'finger2Slot1':{},'artifactSlot1':{},'headSlot2':{},'chestSlot2':{},'legsSlot2':{},'feetSlot2':{},'mainHandSlot2':{},'offHandSlot2':{},'finger1Slot2':{},'finger2Slot2':{},'artifactSlot2':{},'i1':{},'i2':{},'i3':{},'i4':{},'i5':{},'i6':{},'i7':{},'i8':{},'i9':{},'i10':{},'i11':{},'i12':{},'i13':{},'i14':{},'i15':{},'i16':{},'i17':{},'i18':{},'i19':{},'i20':{},'i21':{},'i22':{},'i23':{},'i24':{},'i25':{},'i26':{},'i27':{},'i28':{},'i29':{},'i30':{},'i31':{},'i32':{},'i33':{},'i34':{},'i35':{},'i36':{},'i37':{},'i38':{},'i39':{},'i40':{},'i41':{},'i42':{},'i43':{},'i44':{},'i45':{},'i46':{},'i47':{},'i48':{},'i49':{},'i50':{},'i51':{},'i52':{},'i53':{},'i54':{},'i55':{},'i56':{},'i57':{},'i58':{},'i59':{},'i60':{},'i61':{},'i62':{},'i63':{},'i64':{},'i65':{},'i66':{},'i67':{},'i68':{},'i69':{},'i70':{},'i71':{},'i72':{},'i73':{},'i74':{},'i75':{},'i76':{},'i77':{},'i78':{},'i79':{},'i80':{},'i81':{},'i82':{},'i83':{},'i84':{},'i85':{},'i86':{},'i87':{},'i88':{},'i89':{},'i90':{},'i91':{},'i92':{},'i93':{},'i94':{},'i95':{},'i96':{}},gameState=JSON[a10_0x2adce8(0x3c8)](localStorage['getItem'](a10_0x2adce8(0x297)))||JSON[a10_0x2adce8(0x3c8)](JSON['stringify'](originalGameState)),soulState=JSON[a10_0x2adce8(0x3c8)](localStorage[a10_0x2adce8(0x412)]('soulStateV02'))||JSON[a10_0x2adce8(0x3c8)](JSON[a10_0x2adce8(0x307)](originalSoulState));const equippedSlotNames=Object[a10_0x2adce8(0x2fe)](originalSoulState)['filter'](_0x437e41=>_0x437e41[a10_0x2adce8(0x2b8)](a10_0x2adce8(0x1ed))),bagSlotNames=Object[a10_0x2adce8(0x2fe)](originalSoulState)[a10_0x2adce8(0x325)](_0x45a5e1=>_0x45a5e1['match'](/^i\d+$/));function getBonus(_0x425999,_0x408e04){const _0x1dec63=a10_0x2adce8;switch(_0x408e04){case _0x425999['stat']:return _0x425999['statBuff'];case _0x425999[_0x1dec63(0x1f6)]:return _0x425999[_0x1dec63(0x2af)];case _0x425999[_0x1dec63(0x127)]:return _0x425999['productionBonusOnePower'];case _0x425999[_0x1dec63(0x19b)]:return _0x425999['productionBonusTwoPower'];case _0x425999[_0x1dec63(0x186)]:return _0x425999['doubleProductionBonusPower'];default:return 0x0;}}function optimizeForBonus(_0x6eea13){const _0x363b38=a10_0x2adce8;for(const _0x549264 of equippedSlotNames){const _0x22129a=_0x549264[_0x363b38(0x2b8)](/^([^\d]*)\d*Slot1/)[0x1],_0x5b2500=bagSlotNames['reduce']((_0x23dd4e,_0x11b8cc)=>{const _0x2ba619=_0x363b38,_0x4c84a2=soulState[_0x11b8cc];if(_0x4c84a2[_0x2ba619(0x37f)]===_0x22129a&&getBonus(_0x4c84a2,_0x6eea13)>getBonus(soulState[_0x23dd4e],_0x6eea13))return _0x11b8cc;else return _0x23dd4e;},_0x549264);_0x5b2500!==_0x549264&&([soulState[_0x5b2500],soulState[_0x549264]]=[soulState[_0x549264],soulState[_0x5b2500]]);}updateTotalItemBonuses(),loadItemIMGS(soulState);}const optimizeForBonusBtns=document[a10_0x2adce8(0x43d)]('.character-stat-container');optimizeForBonusBtns[a10_0x2adce8(0x16d)](function(_0x20b388){_0x20b388['addEventListener']('click',()=>optimizeForBonus(_0x20b388['dataset']['statType']));}),localStorage[a10_0x2adce8(0x12b)]=Date[a10_0x2adce8(0x214)]();const onLocalStorageEvent=function(_0x1aa354){const _0x3b247f=a10_0x2adce8;_0x1aa354[_0x3b247f(0x2ec)]==_0x3b247f(0x12b)&&(tickWorker[_0x3b247f(0x1b3)](),location[_0x3b247f(0x154)]='/');};window[a10_0x2adce8(0x362)](a10_0x2adce8(0x319),onLocalStorageEvent,![]),initShop(soulState);const eventContainer=$(a10_0x2adce8(0x1e5)),eventText=$(a10_0x2adce8(0x1b7)),ticksPerSecond=0x5,eventTexts={get 'drought'(){const _0x34199a=a10_0x2adce8;return'Drought!\x20Your\x20food\x20production\x20is\x20decreased\x20by\x20'+Math['round']((0x1-gameState[_0x34199a(0x190)])*0x64)+'%.';},get 'rain'(){const _0x2461c2=a10_0x2adce8;return _0x2461c2(0x420)+Math[_0x2461c2(0x1db)]((gameState[_0x2461c2(0x226)]-0x1)*0x64)+'%.';},get 'carnival'(){const _0x3c2c2a=a10_0x2adce8;return _0x3c2c2a(0x14b)+Math[_0x3c2c2a(0x1db)]((gameState['carnivalFactor']-0x1)*0x64)+'%.';},get 'rainingBlood'(){return'Raining\x20Blood!\x20Your\x20blood\x20production\x20is\x20increased\x20by\x201\x20per\x20blood\x20basin\x20per\x20second.';}};function setNextEventTime(){const _0x1b307a=a10_0x2adce8;gameState[_0x1b307a(0x36f)]=gameState[_0x1b307a(0x20d)]+0x258*ticksPerSecond+Math[_0x1b307a(0x1d8)](Math[_0x1b307a(0x122)]()*0x258*ticksPerSecond);}gameState['elapsedTime']===0x0&&setNextEventTime();function initEventUI(){const _0x7b11d3=a10_0x2adce8,_0x17816a=[_0x7b11d3(0x278),_0x7b11d3(0x245),_0x7b11d3(0x1d1)]['find'](_0x3cb517=>gameState[_0x3cb517+'Factor']!==0x1);_0x17816a?showEvent(_0x17816a):(eventContainer['classList'][_0x7b11d3(0x3d3)](...eventContainer[_0x7b11d3(0x28a)]),eventText[_0x7b11d3(0x41b)]='');}initEventUI();function showEvent(_0x3aafd2){const _0x161355=a10_0x2adce8;eventContainer[_0x161355(0x28a)][_0x161355(0x375)]('alert',_0x3aafd2),eventText[_0x161355(0x41b)]=eventTexts[_0x3aafd2];}function droughtInit(){const _0x357d93=a10_0x2adce8,_0x2e23f8=(0x6+Math[_0x357d93(0x1d8)](Math[_0x357d93(0x122)]()*0x4))/0xa;gameState[_0x357d93(0x190)]=_0x2e23f8,showEvent(_0x357d93(0x278));};function rainInit(){const _0x4b48ef=a10_0x2adce8,_0x4399d5=(0xf+Math[_0x4b48ef(0x1d8)](Math['random']()*0x4))/0xa;gameState[_0x4b48ef(0x226)]=_0x4399d5,showEvent('rain');};function carnivalInit(){const _0x14a49c=a10_0x2adce8,_0x575201=(0xb+Math['floor'](Math['random']()*0x4))/0xa;gameState[_0x14a49c(0x1a6)]=_0x575201,showEvent('carnival');};function eventTerminate(){const _0x3efc80=a10_0x2adce8;eventContainer[_0x3efc80(0x28a)]=[],eventText[_0x3efc80(0x41b)]='',gameState[_0x3efc80(0x190)]=0x1,gameState['rainFactor']=0x1,gameState['carnivalFactor']=0x1;};let baseUnitEfficiency={'gatherer':0x1,'woodcutter':0x1,'miner':0x1,'farmer':0x2,'scholar':0.2,'blacksmith':0.2,'herbalist':0.03};const unitFoodConsumption=friendlyUnitTypes[a10_0x2adce8(0x1c1)]((_0xa48685,_0x3c3f9c)=>({..._0xa48685,[_0x3c3f9c]:friendlyUnits[_0x3c3f9c]['upkeep'][a10_0x2adce8(0x388)]||0x0}),{}),originalUnitAttack=armyUnitTypes[a10_0x2adce8(0x1c1)]((_0x4055c0,_0x14c3a0)=>({..._0x4055c0,[_0x14c3a0]:armyUnits[_0x14c3a0][a10_0x2adce8(0x19a)]}),{});let unitAttack=JSON['parse'](JSON[a10_0x2adce8(0x307)](originalUnitAttack));const originalUnitDefense=armyUnitTypes[a10_0x2adce8(0x1c1)]((_0x55e0ce,_0x19cebe)=>({..._0x55e0ce,[_0x19cebe]:armyUnits[_0x19cebe]['def']}),{});let unitDefense=JSON[a10_0x2adce8(0x3c8)](JSON[a10_0x2adce8(0x307)](originalUnitDefense));const unitAttackTypes=armyUnitTypes[a10_0x2adce8(0x1c1)]((_0x58df57,_0x5ec7d6)=>({..._0x58df57,[_0x5ec7d6]:armyUnits[_0x5ec7d6]['attackTypes']}),{}),rockPaperScissorsMap={'melee':a10_0x2adce8(0x376),'ranged':a10_0x2adce8(0x436),'flying':a10_0x2adce8(0x27f),'fire':'frost','frost':a10_0x2adce8(0x378),'arcane':a10_0x2adce8(0x13f),'nature':a10_0x2adce8(0x450),'holy':'unholy','unholy':a10_0x2adce8(0x1a2)},unitWeaknessTypes={...unitAttackTypes};for(const unit in unitWeaknessTypes){unitWeaknessTypes[unit]=unitWeaknessTypes[unit][a10_0x2adce8(0x339)](_0xd7316=>Object[a10_0x2adce8(0x2fe)](rockPaperScissorsMap)[a10_0x2adce8(0x44d)](_0x3e0ecf=>rockPaperScissorsMap[_0x3e0ecf]===_0xd7316));}let totalItemBonuses=window[a10_0x2adce8(0x313)]={'atk':0x0,'def':0x0,'meleeAtk':0x0,'rangedAtk':0x0,'flyingAtk':0x0,'arcaneAtk':0x0,'fireAtk':0x0,'frostAtk':0x0,'natureAtk':0x0,'holyAtk':0x0,'unholyAtk':0x0,'humans':0x0,'food':0x0,'wood':0x0,'stone':0x0,'iron':0x0,'equipment':0x0,'knowledge':0x0,'blood':0x0};function getPotionCombatBoost(_0x5b57c7){const _0x3ba57c=a10_0x2adce8,_0x30f2da=potionEffects[gameState[_0x3ba57c(0x3a4)]?.[_0x3ba57c(0x330)]];if(_0x30f2da?.['effect']==_0x5b57c7)return potionEffectPower[_0x3ba57c(0x1a1)][gameState[_0x3ba57c(0x3a4)][_0x3ba57c(0x42c)]];else return 0x0;}function getPotionResourceBoost(_0x41044b){const _0x29949e=a10_0x2adce8,_0x12003e=potionEffects[gameState[_0x29949e(0x3a4)]?.[_0x29949e(0x330)]];if(_0x12003e?.['effect']==_0x41044b)return potionEffectPower[_0x29949e(0x37a)][gameState[_0x29949e(0x3a4)]['strength']];else return 0x0;}const resourceEfficiency={get 'humans'(){const _0x2e8509=a10_0x2adce8;return gameState[_0x2e8509(0x1a6)]*(0x1+totalItemBonuses[_0x2e8509(0x1ff)]+getPotionResourceBoost(_0x2e8509(0x1ff))+[0x0,0.3,0.6,0x1][getPerkCount(_0x2e8509(0x1b0))]);},get 'food'(){const _0x533de5=a10_0x2adce8;return gameState[_0x533de5(0x190)]*gameState[_0x533de5(0x226)]*gameState[_0x533de5(0x1a6)]*(0x1+totalItemBonuses['food']+getPotionResourceBoost(_0x533de5(0x388)));},get 'wood'(){const _0x1aae12=a10_0x2adce8;return gameState[_0x1aae12(0x1a6)]*(0x1+totalItemBonuses[_0x1aae12(0x39f)]+getPotionResourceBoost(_0x1aae12(0x39f))+[0x0,0.1,0.2,0.3][getPerkCount(_0x1aae12(0x168))]);},get 'stone'(){const _0x3d1a29=a10_0x2adce8;return gameState[_0x3d1a29(0x1a6)]*(0x1+totalItemBonuses[_0x3d1a29(0x3a1)]+getPotionResourceBoost('stone'));},get 'iron'(){const _0xf0722c=a10_0x2adce8;return gameState[_0xf0722c(0x1a6)]*(0x1+totalItemBonuses[_0xf0722c(0x16a)]+getPotionResourceBoost(_0xf0722c(0x16a)));},get 'equipment'(){const _0x396292=a10_0x2adce8;return gameState['carnivalFactor']*(0x1+totalItemBonuses[_0x396292(0x142)]+getPotionResourceBoost('equipment'));},get 'knowledge'(){const _0x181423=a10_0x2adce8;return gameState[_0x181423(0x1a6)]*(0x1+totalItemBonuses[_0x181423(0x1ad)]+getPotionResourceBoost(_0x181423(0x1ad)));},get 'blood'(){const _0x34fb46=a10_0x2adce8;return gameState['carnivalFactor']*(0x1+totalItemBonuses[_0x34fb46(0x217)]+getPotionResourceBoost('blood'));}},calcBuildingEfficiency={'sawmill':({buildingLevels:_0xce11e5})=>0.4*Math['pow'](1.07,_0xce11e5[a10_0x2adce8(0x3e5)]),'quarry':({buildingLevels:_0x1d235b})=>0.4*Math[a10_0x2adce8(0x40d)](1.07,_0x1d235b[a10_0x2adce8(0x440)]),'foundry':({buildingLevels:_0x3cc3fd})=>_0x3cc3fd[a10_0x2adce8(0x424)],'forge':({buildingLevels:_0x32c204})=>0.4*Math[a10_0x2adce8(0x40d)](1.25,_0x32c204['forge']),'farm':({buildingLevels:_0x1dc74d})=>0x1*Math['pow'](1.25,_0x1dc74d[a10_0x2adce8(0x211)]),'college':({buildingLevels:_0x2bbdad})=>0.6*Math[a10_0x2adce8(0x40d)](1.12,_0x2bbdad['college']),'sacrificialAltar':({buildingLevels:_0x1202d6,perksUnlocked:_0x2fbda2})=>0.25*(_0x2fbda2[a10_0x2adce8(0x210)](a10_0x2adce8(0x17a))?0x2:0x1)*_0x1202d6[a10_0x2adce8(0x258)],'bathHouse':({buildingLevels:_0x37727d})=>0.1*Math[a10_0x2adce8(0x40d)](1.1,_0x37727d[a10_0x2adce8(0x3b5)])},calcUnitEfficiency={'gatherer':_0x1ad3e4=>resourceEfficiency[a10_0x2adce8(0x388)]*baseUnitEfficiency[a10_0x2adce8(0x39d)],'farmer':_0x34fdd9=>resourceEfficiency['food']*(baseUnitEfficiency[a10_0x2adce8(0x14d)]+_0x34fdd9[a10_0x2adce8(0x39a)]*calcBuildingEfficiency[a10_0x2adce8(0x211)](_0x34fdd9)),'woodcutter':_0x2ff7b6=>resourceEfficiency[a10_0x2adce8(0x39f)]*(baseUnitEfficiency[a10_0x2adce8(0x236)]+_0x2ff7b6[a10_0x2adce8(0x266)]*calcBuildingEfficiency[a10_0x2adce8(0x3e5)](_0x2ff7b6)),'miner':_0x5abaff=>resourceEfficiency[a10_0x2adce8(0x3a1)]*(baseUnitEfficiency[a10_0x2adce8(0x394)]+_0x5abaff['quarryAmount']*calcBuildingEfficiency[a10_0x2adce8(0x440)](_0x5abaff)),'blacksmith':_0x36c732=>resourceEfficiency[a10_0x2adce8(0x142)]*(baseUnitEfficiency[a10_0x2adce8(0x141)]*(0x1+_0x36c732[a10_0x2adce8(0x3be)]*calcBuildingEfficiency[a10_0x2adce8(0x28d)](_0x36c732))),'scholar':_0x3d65d3=>resourceEfficiency[a10_0x2adce8(0x1ad)]*(baseUnitEfficiency[a10_0x2adce8(0x396)]+_0x3d65d3[a10_0x2adce8(0x358)]*calcBuildingEfficiency[a10_0x2adce8(0x295)](_0x3d65d3)),'herbalist':_0x3626dd=>baseUnitEfficiency[a10_0x2adce8(0x31d)]},calcMaxHumansGenerated=_0x3824db=>{const _0x4d6252=a10_0x2adce8,_0x47896c=0x1+calcBuildingEfficiency[_0x4d6252(0x3b5)](_0x3824db)*_0x3824db[_0x4d6252(0x173)];return 0.05*resourceEfficiency[_0x4d6252(0x1ff)]*_0x47896c;},calcMaxGenerated={'humans':calcMaxHumansGenerated,'food':_0x2e4aa2=>_0x2e4aa2[a10_0x2adce8(0x22a)]['gatherer']*calcUnitEfficiency[a10_0x2adce8(0x39d)](_0x2e4aa2)+_0x2e4aa2['civilUnits'][a10_0x2adce8(0x14d)]*calcUnitEfficiency[a10_0x2adce8(0x14d)](_0x2e4aa2),'wood':_0xb59482=>_0xb59482[a10_0x2adce8(0x22a)][a10_0x2adce8(0x236)]*calcUnitEfficiency['woodcutter'](_0xb59482),'stone':_0x41015e=>_0x41015e['civilUnits'][a10_0x2adce8(0x394)]*calcUnitEfficiency[a10_0x2adce8(0x394)](_0x41015e),'iron':_0x4ab028=>_0x4ab028['foundryAmount']*resourceEfficiency[a10_0x2adce8(0x16a)]*calcBuildingEfficiency[a10_0x2adce8(0x424)](_0x4ab028)*_0x4ab028[a10_0x2adce8(0x3de)],'equipment':_0x356b91=>_0x356b91[a10_0x2adce8(0x22a)][a10_0x2adce8(0x141)]*calcUnitEfficiency[a10_0x2adce8(0x141)](_0x356b91),'knowledge':_0x530cc5=>_0x530cc5['civilUnits'][a10_0x2adce8(0x396)]*calcUnitEfficiency[a10_0x2adce8(0x396)](_0x530cc5),'blood':_0x438e9c=>_0x438e9c[a10_0x2adce8(0x3a2)]*resourceEfficiency[a10_0x2adce8(0x217)]*calcBuildingEfficiency['sacrificialAltar'](_0x438e9c)*_0x438e9c[a10_0x2adce8(0x43e)]},maxGenerated={get 'humans'(){const _0x402ec2=a10_0x2adce8;return calcMaxGenerated[_0x402ec2(0x1ff)](gameState);},get 'food'(){const _0x423a46=a10_0x2adce8;return calcMaxGenerated[_0x423a46(0x388)](gameState);},get 'wood'(){const _0x47a3ed=a10_0x2adce8;return calcMaxGenerated[_0x47a3ed(0x39f)](gameState);},get 'stone'(){const _0x58f526=a10_0x2adce8;return calcMaxGenerated[_0x58f526(0x3a1)](gameState);},get 'iron'(){return calcMaxGenerated['iron'](gameState);},get 'equipment'(){const _0x7f297d=a10_0x2adce8;return calcMaxGenerated[_0x7f297d(0x142)](gameState);},get 'knowledge'(){return calcMaxGenerated['knowledge'](gameState);},get 'blood'(){const _0x5be18c=a10_0x2adce8;return calcMaxGenerated[_0x5be18c(0x217)](gameState);}};function getFoodConsumed(){const _0x5c5c55=a10_0x2adce8;let _0x5692f6=0x0;for(const _0x36a1ba of[gameState[_0x5c5c55(0x22a)],gameState[_0x5c5c55(0x328)]]){for(const _0x40ffc7 in _0x36a1ba){_0x5692f6+=_0x36a1ba[_0x40ffc7]*unitFoodConsumption[_0x40ffc7];}}return _0x5692f6;}const maxConsumed={get 'humans'(){const _0x2fd7b1=a10_0x2adce8;return maxGenerated['blood']*calcResourceConsumptionRatio[_0x2fd7b1(0x258)](gameState)['humans'];},get 'food'(){return getFoodConsumed();},get 'wood'(){const _0x3e6bd7=a10_0x2adce8;return maxGenerated[_0x3e6bd7(0x142)]*calcResourceConsumptionRatio[_0x3e6bd7(0x28d)](gameState)[_0x3e6bd7(0x39f)];},get 'stone'(){const _0x5ed5cd=a10_0x2adce8;return maxGenerated[_0x5ed5cd(0x16a)]*calcResourceConsumptionRatio[_0x5ed5cd(0x424)](gameState)[_0x5ed5cd(0x3a1)];},get 'iron'(){const _0x471238=a10_0x2adce8;return maxGenerated[_0x471238(0x142)]*calcResourceConsumptionRatio[_0x471238(0x28d)](gameState)['iron'];},get 'equipment'(){return 0x0;},get 'knowledge'(){return 0x0;},get 'blood'(){return 0x0;}},calcResourceConsumptionRatio={'foundry':_0x2e9870=>({'stone':buildings['foundry'][a10_0x2adce8(0x270)]['stone']/(resourceEfficiency['iron']*calcBuildingEfficiency[a10_0x2adce8(0x424)](_0x2e9870))}),'forge':_0x26f9d9=>({'iron':workers[a10_0x2adce8(0x141)][a10_0x2adce8(0x270)][a10_0x2adce8(0x16a)]/calcUnitEfficiency['blacksmith'](_0x26f9d9),'wood':workers[a10_0x2adce8(0x141)]['consumes'][a10_0x2adce8(0x39f)]/calcUnitEfficiency[a10_0x2adce8(0x141)](_0x26f9d9)}),'sacrificialAltar':_0x2896ea=>({'humans':buildings[a10_0x2adce8(0x258)]['consumes'][a10_0x2adce8(0x1ff)]/(resourceEfficiency[a10_0x2adce8(0x217)]*calcBuildingEfficiency[a10_0x2adce8(0x258)](_0x2896ea))})};function getBuildingAddEffect(_0x1eac66){const _0x4a98a7=a10_0x2adce8,_0x56c2a2=gameState[_0x1eac66+_0x4a98a7(0x389)]+0x1,_0x37e7d8={...gameState,[_0x1eac66+'Amount']:_0x56c2a2};return calcEffect(_0x1eac66,_0x37e7d8);}function getBuildingUpgradeEffect(_0x3829cc){const _0x305105=a10_0x2adce8,_0xecadd9=gameState[_0x305105(0x256)][_0x3829cc]+0x1,_0x2546a4={...gameState[_0x305105(0x256)],[_0x3829cc]:_0xecadd9},_0x25c1f0={...gameState,'buildingLevels':_0x2546a4};return calcEffect(_0x3829cc,_0x25c1f0);}function getStorageUpgradeEffect(_0x2ada4a){const _0x3a0b21=a10_0x2adce8,_0x26732c=gameState[_0x3a0b21(0x3ee)][_0x2ada4a]+0x1,_0x3305dd={...gameState[_0x3a0b21(0x3ee)],[_0x2ada4a]:_0x26732c},_0x35fbfa={...gameState,'storageLevels':_0x3305dd};return calcMaxResources[_0x2ada4a](_0x35fbfa)-maxResources[_0x2ada4a];}function calcEffect(_0x4ccb58,_0x3b360b){const _0x44e856=a10_0x2adce8;if(_0x4ccb58===_0x44e856(0x2bf)){const _0x598e67=Object[_0x44e856(0x2fe)](calcMaxResources);return _0x598e67[_0x44e856(0x1c1)]((_0x582ad3,_0x25c100)=>({..._0x582ad3,[_0x25c100]:calcMaxResources[_0x25c100](_0x3b360b)-maxResources[_0x25c100]}),{});}else{if(_0x4ccb58===_0x44e856(0x1a0))return{'blood':calcMaxResources[_0x44e856(0x217)](_0x3b360b)-maxResources[_0x44e856(0x217)]};else{const _0x4ce961=buildings[_0x4ccb58][_0x44e856(0x20a)];if(_0x4ce961){const _0x1f0dcf={[_0x4ce961]:calcResourceChange(_0x4ce961,_0x3b360b)};if(calcResourceConsumptionRatio[_0x4ccb58]){const _0x3ad0d6=calcResourceConsumptionRatio[_0x4ccb58](_0x3b360b);for(const _0x3b02b0 in _0x3ad0d6){_0x1f0dcf[_0x3b02b0]=-_0x3ad0d6[_0x3b02b0]*_0x1f0dcf[_0x4ce961];}}return _0x1f0dcf;}else return undefined;}}}function calcResourceChange(_0x48640c,_0x4c99b8){const _0x20dcc1=a10_0x2adce8;if(Object['keys'](maxGenerated)[_0x20dcc1(0x210)](_0x48640c)){const _0x3a245b=maxGenerated[_0x48640c],_0x210a6b=calcMaxGenerated[_0x48640c](_0x4c99b8);return _0x210a6b-_0x3a245b;}else{if(_0x48640c[_0x20dcc1(0x177)]('Population')){const _0x2a259f=_0x48640c['replace'](/Population$/,''),_0x1656af=maxPopulation[_0x2a259f],_0x54fc50=calcMaxPopulation[_0x2a259f](_0x4c99b8);return _0x54fc50-_0x1656af;}else return undefined;}}const unitCosts=friendlyUnitTypes['reduce']((_0x3f3593,_0x2beb80)=>({..._0x3f3593,[_0x2beb80]:friendlyUnits[_0x2beb80]['cost']}),{}),originalEnemyStructureUnits={'goblinTower':{'goblin':0x5,'goblinChief':0x1},'graveyard':{'necromancer':0x1,'skeletonWarrior':0x5,'skeletonArcher':0x5},'mountains':{'mountainWyvern':0x1},'abandonedMine':{'caveTroll':0x1,'minersGhost':0x2,'kobold':0x3,'bat':0x5},'banditsCamp':{'banditBackstabber':0x2,'banditKnifeJuggler':0x3},'forbiddenTemple':{'cultistPriest':0x1,'cultist':0x3},'churchRuins':{'zealotKnight':0x4,'zealotPriest':0x3},'guardPostOfFire':{'fireGuardian':0xa,'fireBowman':0xa},'pagodaOfFire':{'incoll':0x1,'fireDrake':0x4,'fireGuardian':0x19,'fireBowman':0x19},'guardPostOfArcanum':{'arcaneGuardian':0xa,'arcaneBowman':0xa},'pagodaOfArcanum':{'oaran':0x1,'arcaneDrake':0x4,'arcaneGuardian':0x19,'arcaneBowman':0x19},'guardPostOfFrost':{'frostGuardian':0xa,'frostBowman':0xa},'pagodaOfFrost':{'kerrdief':0x1,'frostDrake':0x4,'frostGuardian':0x19,'frostBowman':0x19}},enemyBuildingTiers={'tier1':[a10_0x2adce8(0x36a),a10_0x2adce8(0x2d9),'pagodaOfFrost'],'tier2':[a10_0x2adce8(0x353),a10_0x2adce8(0x38d),'guardPostOfFrost'],'tier3':[a10_0x2adce8(0x151),a10_0x2adce8(0x3ba),a10_0x2adce8(0x264),'abandonedMine',a10_0x2adce8(0x299),a10_0x2adce8(0x33d),a10_0x2adce8(0x2fb)],'tier4':[]};let enemyStructureUnits=JSON[a10_0x2adce8(0x3c8)](JSON[a10_0x2adce8(0x307)](originalEnemyStructureUnits));function calcEnemyBuildingUnits(){const _0xaf1400=a10_0x2adce8,_0x520518=Object['keys'](gameState[_0xaf1400(0x3c0)])[_0xaf1400(0x1c1)]((_0x128a22,_0x3b8397)=>{const _0x5bd01a=_0xaf1400,_0x3261b3=originalGameState['tiles'][_0x3b8397];if(gameState[_0x5bd01a(0x2ee)][_0x5bd01a(0x210)](_0x3b8397)&&_0x3261b3!==null)return{..._0x128a22,[_0x3261b3]:(_0x128a22[_0x3261b3]||0x0)+0x1};else return _0x128a22;},{}),_0x58a040=1.4;for(const _0x1f1d46 in enemyStructureUnits){for(const _0x1ebdbe in enemyStructureUnits[_0x1f1d46]){const _0x254ffb=Math[_0xaf1400(0x40d)](_0x58a040,_0x520518[_0x1f1d46]||0x0);enemyStructureUnits[_0x1f1d46][_0x1ebdbe]=Math[_0xaf1400(0x303)](originalEnemyStructureUnits[_0x1f1d46][_0x1ebdbe]*_0x254ffb);}}updateEnemyCounts();}const armyUnitCards=document[a10_0x2adce8(0x43d)]('.army-unit-card'),enemyBuildingUnitCards=document['querySelectorAll'](a10_0x2adce8(0x338)),combatUnitCards=document[a10_0x2adce8(0x43d)]('.unit-card-right'),armyUnitTooltip=document[a10_0x2adce8(0x411)]('.army-unit-tooltip');let unitBeingHovered=null;armyUnitCards[a10_0x2adce8(0x16d)](function(_0xe34839){const _0xd2a651=a10_0x2adce8;_0xe34839['addEventListener'](_0xd2a651(0x206),()=>{const _0x45dd2b=_0xd2a651;unitBeingHovered=_0xe34839[_0x45dd2b(0x3ec)][_0x45dd2b(0x3a7)],updateArmyUnitTooltips(_0xe34839['dataset']['unitType'],_0x45dd2b(0x23c)),armyUnitTooltip['classList'][_0x45dd2b(0x3d3)](_0x45dd2b(0x2e8));}),_0xe34839[_0xd2a651(0x362)](_0xd2a651(0x262),()=>{const _0x296abc=_0xd2a651;armyUnitTooltip[_0x296abc(0x28a)]['add'](_0x296abc(0x2e8)),unitBeingHovered=null;});}),enemyBuildingUnitCards[a10_0x2adce8(0x16d)](function(_0x848cb1){const _0x533de0=a10_0x2adce8;_0x848cb1['addEventListener'](_0x533de0(0x206),()=>{const _0x2016ba=_0x533de0;unitBeingHovered=_0x848cb1[_0x2016ba(0x3ec)][_0x2016ba(0x3a7)],updateArmyUnitTooltips(_0x848cb1[_0x2016ba(0x3ec)][_0x2016ba(0x3a7)],'middle'),armyUnitTooltip[_0x2016ba(0x28a)][_0x2016ba(0x3d3)](_0x2016ba(0x2e8));}),_0x848cb1['addEventListener']('mouseleave',()=>{const _0x3b1467=_0x533de0;armyUnitTooltip[_0x3b1467(0x28a)][_0x3b1467(0x375)](_0x3b1467(0x2e8)),unitBeingHovered=null;});}),combatUnitCards[a10_0x2adce8(0x16d)](function(_0x678e72){const _0x3fec38=a10_0x2adce8;_0x678e72['addEventListener'](_0x3fec38(0x206),()=>{const _0x5c31a0=_0x3fec38;unitBeingHovered=_0x678e72['dataset'][_0x5c31a0(0x3a7)],updateArmyUnitTooltips(_0x678e72['dataset'][_0x5c31a0(0x3a7)],_0x5c31a0(0x139)),armyUnitTooltip[_0x5c31a0(0x28a)]['remove'](_0x5c31a0(0x2e8));}),_0x678e72[_0x3fec38(0x362)](_0x3fec38(0x262),()=>{const _0x198cc9=_0x3fec38;armyUnitTooltip['classList'][_0x198cc9(0x375)]('display-none'),unitBeingHovered=null;});});const armyUnitTooltipImage=document['querySelector']('.army-unit-tooltip\x20.unit-tooltip-img'),armyUnitTooltipName=document['querySelector'](a10_0x2adce8(0x19c)),armyUnitAttackType1IMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x1ab)),armyUnitAttackType1Text=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x19e)),armyUnitAttackType2IMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x1fe)),armyUnitAttackType2Text=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x163)),armyUnitAttackRating=document[a10_0x2adce8(0x411)]('.army-unit-tooltip\x20.unit-tooltip-attack'),armyUnitDefenseRating=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x179)),armyUnitCost1IMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x344)),armyUnitCost1=document['querySelector']('.army-unit-tooltip\x20.unit-tooltip-cost-1'),armyUnitCost2IMG=document['querySelector'](a10_0x2adce8(0x349)),armyUnitCost2=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x134)),armyUnitCost2Container=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x3f5)),armyUnitCost3IMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x332)),armyUnitCost3=document[a10_0x2adce8(0x411)]('.army-unit-tooltip\x20.unit-tooltip-cost-3'),armyUnitCost3Container=document['querySelector']('.army-unit-tooltip-cost-3-container'),armyUnitUpkeep1IMG=document[a10_0x2adce8(0x411)]('.army-unit-tooltip\x20.unit-tooltip-upkeep-1-img'),armyUnitUpkeep1=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x281));function capitalizeFirstLetter(_0x1aae79){return _0x1aae79['charAt'](0x0)['toUpperCase']()+_0x1aae79['slice'](0x1);}function updateArmyUnitTooltips(_0x33bdf8,_0x92af1){const _0x392ec4=a10_0x2adce8,_0x56b352=armyUnits[_0x33bdf8];let _0x6e228c=_0x92af1;_0x6e228c===_0x392ec4(0x2b0)?(unitBeingHovered=null,armyUnitTooltip[_0x392ec4(0x28a)]['add'](_0x392ec4(0x415))):armyUnitTooltip[_0x392ec4(0x28a)]['remove'](_0x392ec4(0x415)),_0x6e228c===_0x392ec4(0x139)?(unitBeingHovered=null,armyUnitTooltip[_0x392ec4(0x28a)][_0x392ec4(0x375)](_0x392ec4(0x364))):armyUnitTooltip[_0x392ec4(0x28a)][_0x392ec4(0x3d3)](_0x392ec4(0x364)),armyUnitTooltipImage[_0x392ec4(0x3eb)]=_0x392ec4(0x341)+_0x33bdf8+_0x392ec4(0x143),armyUnitTooltipName[_0x392ec4(0x41b)]=_0x56b352[_0x392ec4(0x330)],_0x56b352['attackTypes'][_0x392ec4(0x2aa)]>0x0?(armyUnitAttackType1IMG[_0x392ec4(0x3eb)]=_0x392ec4(0x341)+_0x56b352['attackTypes'][0x0]+'_icon.svg',armyUnitAttackType1Text[_0x392ec4(0x41b)]=capitalizeFirstLetter(_0x56b352['attackTypes'][0x0])):(armyUnitAttackType1IMG[_0x392ec4(0x3eb)]='',armyUnitAttackType1Text['innerText']=''),_0x56b352['attackTypes'][_0x392ec4(0x2aa)]>0x1?(armyUnitAttackType2IMG['src']=_0x392ec4(0x341)+_0x56b352[_0x392ec4(0x2a2)][0x1]+_0x392ec4(0x143),armyUnitAttackType2Text['innerText']=capitalizeFirstLetter(_0x56b352[_0x392ec4(0x2a2)][0x1])):(armyUnitAttackType2IMG[_0x392ec4(0x3eb)]='',armyUnitAttackType2Text['innerText']=''),_0x56b352[_0x392ec4(0x19a)]>0x0?(armyUnitAttackRating[_0x392ec4(0x41b)]=Number(unitAttack[_0x33bdf8][_0x392ec4(0x253)](0x1))['toLocaleString']('en'),armyUnitDefenseRating[_0x392ec4(0x41b)]=Number(unitDefense[_0x33bdf8][_0x392ec4(0x253)](0x1))['toLocaleString']('en')):(armyUnitAttackRating['innerText']='',armyUnitDefenseRating[_0x392ec4(0x41b)]=''),_0x56b352['isFriendly']===!![]?(Object[_0x392ec4(0x2fe)](_0x56b352[_0x392ec4(0x191)])['length']>0x0?(armyUnitCost1IMG[_0x392ec4(0x3eb)]=_0x392ec4(0x341)+Object[_0x392ec4(0x2fe)](_0x56b352[_0x392ec4(0x191)])[0x0]+_0x392ec4(0x143),armyUnitCost1[_0x392ec4(0x41b)]=Object['values'](_0x56b352[_0x392ec4(0x191)])[0x0]['toLocaleString']('en'),gameState[Object[_0x392ec4(0x2fe)](_0x56b352[_0x392ec4(0x191)])[0x0]]<Object[_0x392ec4(0x248)](_0x56b352['cost'])[0x0]?armyUnitCost1[_0x392ec4(0x28a)][_0x392ec4(0x375)](_0x392ec4(0x28b)):armyUnitCost1[_0x392ec4(0x28a)][_0x392ec4(0x3d3)](_0x392ec4(0x28b))):(armyUnitCost1IMG[_0x392ec4(0x3eb)]='',armyUnitCost1[_0x392ec4(0x41b)]=_0x392ec4(0x373)),Object[_0x392ec4(0x2fe)](_0x56b352[_0x392ec4(0x191)])[_0x392ec4(0x2aa)]>0x1?(armyUnitCost2IMG[_0x392ec4(0x3eb)]=_0x392ec4(0x341)+Object[_0x392ec4(0x2fe)](_0x56b352[_0x392ec4(0x191)])[0x1]+_0x392ec4(0x143),armyUnitCost2['innerText']=Object[_0x392ec4(0x248)](_0x56b352[_0x392ec4(0x191)])[0x1]['toLocaleString']('en'),armyUnitCost2Container[_0x392ec4(0x28a)][_0x392ec4(0x3d3)](_0x392ec4(0x2e8)),gameState[Object[_0x392ec4(0x2fe)](_0x56b352['cost'])[0x1]]<Object['values'](_0x56b352[_0x392ec4(0x191)])[0x1]?armyUnitCost2[_0x392ec4(0x28a)][_0x392ec4(0x375)](_0x392ec4(0x28b)):armyUnitCost2[_0x392ec4(0x28a)]['remove']('cost-too-high')):(armyUnitCost2IMG['src']='',armyUnitCost2[_0x392ec4(0x41b)]='',armyUnitCost2Container[_0x392ec4(0x28a)][_0x392ec4(0x375)](_0x392ec4(0x2e8))),Object[_0x392ec4(0x2fe)](_0x56b352[_0x392ec4(0x191)])[_0x392ec4(0x2aa)]>0x2?(armyUnitCost3IMG[_0x392ec4(0x3eb)]=_0x392ec4(0x341)+Object['keys'](_0x56b352[_0x392ec4(0x191)])[0x2]+'_icon.svg',armyUnitCost3[_0x392ec4(0x41b)]=Object[_0x392ec4(0x248)](_0x56b352[_0x392ec4(0x191)])[0x2][_0x392ec4(0x2fc)]('en'),armyUnitCost3Container['classList'][_0x392ec4(0x3d3)](_0x392ec4(0x2e8)),gameState[Object['keys'](_0x56b352['cost'])[0x1]]<Object[_0x392ec4(0x248)](_0x56b352['cost'])[0x2]?armyUnitCost3[_0x392ec4(0x28a)][_0x392ec4(0x375)](_0x392ec4(0x28b)):armyUnitCost3[_0x392ec4(0x28a)][_0x392ec4(0x3d3)]('cost-too-high')):(armyUnitCost3IMG[_0x392ec4(0x3eb)]='',armyUnitCost3[_0x392ec4(0x41b)]='',armyUnitCost3Container['classList'][_0x392ec4(0x375)](_0x392ec4(0x2e8))),Object[_0x392ec4(0x2fe)](_0x56b352[_0x392ec4(0x308)])[_0x392ec4(0x2aa)]>0x0?(armyUnitUpkeep1IMG['src']=_0x392ec4(0x341)+Object[_0x392ec4(0x2fe)](_0x56b352[_0x392ec4(0x308)])[0x0]+_0x392ec4(0x143),armyUnitUpkeep1[_0x392ec4(0x41b)]=Object['values'](_0x56b352[_0x392ec4(0x308)])[0x0][_0x392ec4(0x2fc)]('en')+_0x392ec4(0x235)):(armyUnitUpkeep1IMG[_0x392ec4(0x3eb)]='',armyUnitUpkeep1[_0x392ec4(0x41b)]='None')):(armyUnitCost1IMG[_0x392ec4(0x3eb)]='',armyUnitCost1[_0x392ec4(0x41b)]='');};const workerUnitCards=document[a10_0x2adce8(0x43d)]('.worker-unit-card'),workerUnitTooltip=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x1cc));workerUnitCards[a10_0x2adce8(0x16d)](function(_0x578cad){const _0x8bc753=a10_0x2adce8;_0x578cad[_0x8bc753(0x362)]('mouseover',()=>{const _0x32868e=_0x8bc753;unitBeingHovered=_0x578cad[_0x32868e(0x3ec)]['unitType'],updateWorkerUnitTooltips(_0x578cad[_0x32868e(0x3ec)][_0x32868e(0x3a7)]),workerUnitTooltip[_0x32868e(0x28a)][_0x32868e(0x3d3)](_0x32868e(0x2e8));}),_0x578cad[_0x8bc753(0x362)](_0x8bc753(0x262),()=>{const _0xd310c9=_0x8bc753;workerUnitTooltip[_0xd310c9(0x28a)][_0xd310c9(0x375)]('display-none'),unitBeingHovered=null;});});const workerUnitTooltipImage=document['querySelector'](a10_0x2adce8(0x129)),workerUnitTooltipName=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x21f)),workerUnitTooltipConsumptionContainer=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x1ea)),workerUnitTooltipConsumption1IMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x30d)),workerUnitTooltipConsumption1=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x1d5)),workerUnitTooltipConsumption2IMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x36d)),workerUnitTooltipConsumption2=document['querySelector'](a10_0x2adce8(0x2b2)),workerUnitTooltipProductionIMG1=document['querySelector'](a10_0x2adce8(0x207)),workerUnitTooltipProduction1=document[a10_0x2adce8(0x411)]('.worker-unit-production-1'),workerUnitTooltipCostContainer=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x1dc)),workerUnitTooltipCost1IMG=document[a10_0x2adce8(0x411)]('.worker-unit-tooltip\x20.unit-tooltip-cost-1-img'),workerUnitTooltipCost1=document['querySelector']('.worker-unit-tooltip\x20.unit-tooltip-cost-1'),workerUnitTooltipCost2IMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x135)),workerUnitTooltipCost2=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x367)),workerUnitTooltipUpkeep1IMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x43a)),workerUnitTooltipUpkeep1=document['querySelector'](a10_0x2adce8(0x188));function updateWorkerUnitTooltips(_0x19af98){const _0x367a3f=a10_0x2adce8;workerUnitTooltipImage[_0x367a3f(0x3eb)]=_0x367a3f(0x341)+_0x19af98+_0x367a3f(0x143);const _0xf06b79=workers[_0x19af98];workerUnitTooltipName['innerText']=_0xf06b79[_0x367a3f(0x330)],Object['keys'](_0xf06b79[_0x367a3f(0x270)])[_0x367a3f(0x2aa)]>0x0?(workerUnitTooltipConsumption1IMG[_0x367a3f(0x3eb)]=_0x367a3f(0x341)+Object[_0x367a3f(0x2fe)](_0xf06b79['consumes'])[0x0]+_0x367a3f(0x143),workerUnitTooltipConsumption1['innerText']='-'+Object[_0x367a3f(0x248)](_0xf06b79[_0x367a3f(0x270)])[0x0]['toLocaleString']('en')+'/sec',workerUnitTooltipConsumption2IMG['src']='svgs/'+Object['keys'](_0xf06b79[_0x367a3f(0x270)])[0x1]+_0x367a3f(0x143),workerUnitTooltipConsumption2['innerText']='-'+Object[_0x367a3f(0x248)](_0xf06b79[_0x367a3f(0x270)])[0x1][_0x367a3f(0x2fc)]('en')+_0x367a3f(0x235),workerUnitTooltipConsumptionContainer[_0x367a3f(0x28a)]['remove']('display-none')):workerUnitTooltipConsumptionContainer[_0x367a3f(0x28a)][_0x367a3f(0x375)](_0x367a3f(0x2e8)),workerUnitTooltipProductionIMG1[_0x367a3f(0x3eb)]=_0x367a3f(0x341)+Object[_0x367a3f(0x2fe)](_0xf06b79[_0x367a3f(0x3fa)])[0x0]+_0x367a3f(0x143),workerUnitTooltipProduction1[_0x367a3f(0x41b)]=calcUnitEfficiency[_0x19af98](gameState)[_0x367a3f(0x253)](0x2)+_0x367a3f(0x235),workerUnitTooltipCost1IMG['src']='svgs/'+Object[_0x367a3f(0x2fe)](_0xf06b79[_0x367a3f(0x191)])[0x0]+'_icon.svg',workerUnitTooltipCost1[_0x367a3f(0x41b)]=''+Object['values'](_0xf06b79[_0x367a3f(0x191)])[0x0][_0x367a3f(0x2fc)]('en'),gameState[Object['keys'](_0xf06b79[_0x367a3f(0x191)])[0x0]]<Object['values'](_0xf06b79['cost'])[0x0]?workerUnitTooltipCost1[_0x367a3f(0x28a)][_0x367a3f(0x375)]('cost-too-high'):workerUnitTooltipCost1[_0x367a3f(0x28a)][_0x367a3f(0x3d3)](_0x367a3f(0x28b)),Object[_0x367a3f(0x2fe)](_0xf06b79['cost'])[_0x367a3f(0x2aa)]>0x1?(workerUnitTooltipCost2IMG['src']=_0x367a3f(0x341)+Object[_0x367a3f(0x2fe)](_0xf06b79[_0x367a3f(0x191)])[0x1]+'_icon.svg',workerUnitTooltipCost2[_0x367a3f(0x41b)]=''+Object[_0x367a3f(0x248)](_0xf06b79[_0x367a3f(0x191)])[0x1]['toLocaleString']('en'),workerUnitTooltipCostContainer['classList'][_0x367a3f(0x3d3)](_0x367a3f(0x2e8)),gameState[Object['keys'](_0xf06b79[_0x367a3f(0x191)])[0x1]]<Object[_0x367a3f(0x248)](_0xf06b79[_0x367a3f(0x191)])[0x1]?workerUnitTooltipCost2[_0x367a3f(0x28a)][_0x367a3f(0x375)]('cost-too-high'):workerUnitTooltipCost2[_0x367a3f(0x28a)][_0x367a3f(0x3d3)](_0x367a3f(0x28b))):workerUnitTooltipCostContainer[_0x367a3f(0x28a)][_0x367a3f(0x375)]('display-none'),Object[_0x367a3f(0x2fe)](_0xf06b79['upkeep'])[_0x367a3f(0x2aa)]>0x0?(workerUnitTooltipUpkeep1IMG[_0x367a3f(0x3eb)]=_0x367a3f(0x341)+Object['keys'](_0xf06b79['upkeep'])[0x0]+_0x367a3f(0x143),workerUnitTooltipUpkeep1[_0x367a3f(0x41b)]=''+Object[_0x367a3f(0x248)](_0xf06b79['upkeep'])[0x0][_0x367a3f(0x2fc)]('en')):(workerUnitTooltipUpkeep1IMG[_0x367a3f(0x3eb)]='',workerUnitTooltipUpkeep1[_0x367a3f(0x41b)]=_0x367a3f(0x373)),_0x19af98==='herbalist'&&(workerUnitTooltipProductionIMG1[_0x367a3f(0x3eb)]='',workerUnitTooltipProduction1['innerHTML']=calcUnitEfficiency[_0x19af98](gameState)[_0x367a3f(0x253)](0x2)+'%\x20<br>\x20plant\x20growth\x20/\x20sec');};const allBuildingCards=document['querySelectorAll'](a10_0x2adce8(0x41c)),buildingTooltip=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x419));let buildingCardBeingHovered=null;allBuildingCards['forEach'](function(_0x1b1ec0){const _0x2ab041=a10_0x2adce8;_0x1b1ec0[_0x2ab041(0x362)](_0x2ab041(0x206),()=>{const _0x592c63=_0x2ab041;buildingCardBeingHovered=_0x1b1ec0[_0x592c63(0x3ec)][_0x592c63(0x1b6)],updateBuildingTooltip(_0x1b1ec0[_0x592c63(0x3ec)][_0x592c63(0x1b6)]),buildingTooltip[_0x592c63(0x28a)]['remove'](_0x592c63(0x2e8));}),_0x1b1ec0[_0x2ab041(0x362)](_0x2ab041(0x262),()=>{const _0x3281cf=_0x2ab041;buildingTooltip[_0x3281cf(0x28a)][_0x3281cf(0x375)](_0x3281cf(0x2e8)),buildingCardBeingHovered=null;});});const buildingTooltipIMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x3c7)),buildingTooltipName=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x34f)),buildingTooltipDescription=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x1a9)),buildingTooltipCost1IMG=document['querySelector']('.building-tooltip-cost1-img'),buildingTooltipCost1=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x17e)),buildingTooltipCost2IMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x231)),buildingTooltipCost2=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x40e)),buildingTooltipCost3IMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x157)),buildingTooltipCost3=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x309)),buildingTooltipCost4IMG=document['querySelector']('.building-tooltip-cost4-img'),buildingTooltipCost4=document[a10_0x2adce8(0x411)]('.building-tooltip-cost4'),buildingEffect1IMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x247)),buildingEffect1=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x187)),buildingEffect2IMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x387)),buildingEffect2=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x38b)),buildingTooltipEffectsContainer=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x44f)),warehouseTooltipEffectsContainer=document['querySelector'](a10_0x2adce8(0x2f7)),warehouseTooltipEffect1=document[a10_0x2adce8(0x411)]('.warehouse-building-tooltip-effect1'),warehouseTooltipEffect2=document['querySelector']('.warehouse-building-tooltip-effect2'),warehouseTooltipEffect3=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x368)),warehouseTooltipEffect4=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x2d1)),warehouseTooltipEffect5=document['querySelector'](a10_0x2adce8(0x371));function updateBuildingTooltip(_0xde5fdf){const _0x5e6d95=a10_0x2adce8;buildingTooltipIMG['src']='svgs/'+_0xde5fdf+_0x5e6d95(0x255),buildingTooltipName[_0x5e6d95(0x41b)]=buildings[_0xde5fdf][_0x5e6d95(0x330)],buildingTooltipDescription[_0x5e6d95(0x41b)]=buildings[_0xde5fdf][_0x5e6d95(0x320)],buildingTooltipEffectsContainer[_0x5e6d95(0x28a)][_0x5e6d95(0x3d3)]('display-none');const _0x56bf85=getBuildingAddEffect(_0xde5fdf),_0x106019=buildings[_0xde5fdf],_0x37d8a5=_0x106019[_0x5e6d95(0x20a)]&&Number(_0x56bf85[_0x106019[_0x5e6d95(0x20a)]])[_0x5e6d95(0x253)](0x2)[_0x5e6d95(0x2fc)]('en');if(_0x106019[_0x5e6d95(0x20a)]!==undefined&&![_0x5e6d95(0x433),_0x5e6d95(0x3bc)][_0x5e6d95(0x210)](_0xde5fdf)){buildingEffect1IMG[_0x5e6d95(0x3eb)]=_0x5e6d95(0x341)+_0x106019['increases']+_0x5e6d95(0x143);if(_0xde5fdf===_0x5e6d95(0x3b5)){const _0x3a4a13=(Number(_0x56bf85[_0x106019[_0x5e6d95(0x20a)]])*0x3c)['toFixed'](0x2)[_0x5e6d95(0x2fc)]('en');buildingEffect1[_0x5e6d95(0x41b)]='+'+_0x3a4a13+_0x5e6d95(0x326);}else buildingEffect1['innerText']='+'+_0x37d8a5+'/sec';}else buildingEffect1IMG['src']='',buildingEffect1['innerText']='';_0xde5fdf===_0x5e6d95(0x433)&&(buildingEffect1[_0x5e6d95(0x41b)]=_0x5e6d95(0x1c6)+_0x37d8a5);_0xde5fdf===_0x5e6d95(0x3bc)&&(buildingEffect1[_0x5e6d95(0x41b)]=_0x5e6d95(0x1e3)+_0x37d8a5);[_0x5e6d95(0x3ce),_0x5e6d95(0x2da),'collegeOfArcanum',_0x5e6d95(0x1d0)][_0x5e6d95(0x210)](_0xde5fdf)&&buildingTooltipEffectsContainer['classList'][_0x5e6d95(0x375)](_0x5e6d95(0x2e8));_0xde5fdf==='warehouse'?(warehouseTooltipEffectsContainer['classList'][_0x5e6d95(0x3d3)](_0x5e6d95(0x2e8)),buildingTooltipEffectsContainer['classList'][_0x5e6d95(0x375)]('display-none'),warehouseTooltipEffect1[_0x5e6d95(0x41b)]=_0x5e6d95(0x2f6)+_0x56bf85[_0x5e6d95(0x388)][_0x5e6d95(0x2fc)]('en'),warehouseTooltipEffect2[_0x5e6d95(0x41b)]=_0x5e6d95(0x2f6)+_0x56bf85[_0x5e6d95(0x39f)][_0x5e6d95(0x2fc)]('en'),warehouseTooltipEffect3[_0x5e6d95(0x41b)]=_0x5e6d95(0x2f6)+_0x56bf85['stone']['toLocaleString']('en'),warehouseTooltipEffect4[_0x5e6d95(0x41b)]=_0x5e6d95(0x2f6)+_0x56bf85['iron'][_0x5e6d95(0x2fc)]('en'),warehouseTooltipEffect5[_0x5e6d95(0x41b)]=_0x5e6d95(0x2f6)+_0x56bf85[_0x5e6d95(0x142)]['toLocaleString']('en')):warehouseTooltipEffectsContainer['classList'][_0x5e6d95(0x375)]('display-none');if(_0xde5fdf===_0x5e6d95(0x258))buildingEffect2IMG['src']='svgs/humans_icon.svg',buildingEffect2[_0x5e6d95(0x41b)]='-'+(buildings[_0x5e6d95(0x258)]['consumes'][_0x5e6d95(0x1ff)]*gameState['bloodProductionRate']*0x3c)[_0x5e6d95(0x253)](0x2)[_0x5e6d95(0x2fc)]('en')+_0x5e6d95(0x326),buildingEffect2['style'][_0x5e6d95(0x2e6)]=_0x5e6d95(0x301),buildingEffect2['parentElement'][_0x5e6d95(0x28a)][_0x5e6d95(0x3d3)]('display-none');else _0xde5fdf===_0x5e6d95(0x424)?(buildingEffect2IMG['src']='svgs/stone_icon.svg',buildingEffect2[_0x5e6d95(0x41b)]='-'+(buildings[_0x5e6d95(0x424)][_0x5e6d95(0x270)][_0x5e6d95(0x3a1)]*gameState[_0x5e6d95(0x3de)])[_0x5e6d95(0x253)](0x2)[_0x5e6d95(0x2fc)]('en')+'/sec',buildingEffect2[_0x5e6d95(0x147)][_0x5e6d95(0x2e6)]=_0x5e6d95(0x301),buildingEffect2[_0x5e6d95(0x1c9)]['classList']['remove'](_0x5e6d95(0x2e8))):(buildingEffect2IMG['src']='',buildingEffect2[_0x5e6d95(0x41b)]='',buildingEffect2['style']['color']='inherit',buildingEffect2[_0x5e6d95(0x1c9)][_0x5e6d95(0x28a)]['add'](_0x5e6d95(0x2e8)));if(_0xde5fdf===_0x5e6d95(0x3b7)){let _0x143028=0x0;for(let _0x65ff9e=0x0;_0x65ff9e<Object[_0x5e6d95(0x2fe)](gameState[_0x5e6d95(0x3c0)])['length'];_0x65ff9e++){gameState[_0x5e6d95(0x3c0)]['t'+_0x65ff9e]==='commandPost'&&_0x143028++;}if(_0x143028===0x0)buildingEffect1['innerText']=_0x5e6d95(0x44b);else{if(_0x143028===0x1)buildingEffect1[_0x5e6d95(0x41b)]='Combat\x20speed:\x202x';else{if(_0x143028===0x2)buildingEffect1[_0x5e6d95(0x41b)]=_0x5e6d95(0x304);else _0x143028===0x3&&(buildingEffect1[_0x5e6d95(0x41b)]='Combat\x20speed:\x2010x');}}}_0xde5fdf===_0x5e6d95(0x156)&&(buildingEffect1[_0x5e6d95(0x41b)]=_0x5e6d95(0x321)),_0xde5fdf==='alchemistHut'&&(buildingEffect1['innerText']=_0x5e6d95(0x393)),_0xde5fdf==='bloodBasin'&&(buildingEffect1[_0x5e6d95(0x41b)]=_0x5e6d95(0x2f6)+_0x56bf85['blood']['toLocaleString']('en')),Object[_0x5e6d95(0x2fe)](buildingPrices[_0xde5fdf])[0x0]!==undefined&&(buildingTooltipCost1IMG[_0x5e6d95(0x3eb)]=_0x5e6d95(0x341)+Object['keys'](buildingPrices[_0xde5fdf])[0x0]+'_icon.svg',buildingTooltipCost1[_0x5e6d95(0x41b)]=Object[_0x5e6d95(0x248)](buildingPrices[_0xde5fdf])[0x0][_0x5e6d95(0x2fc)]('en')||''),Object[_0x5e6d95(0x2fe)](buildingPrices[_0xde5fdf])[0x1]!==undefined&&(buildingTooltipCost2IMG['src']=_0x5e6d95(0x341)+Object[_0x5e6d95(0x2fe)](buildingPrices[_0xde5fdf])[0x1]+'_icon.svg',buildingTooltipCost2[_0x5e6d95(0x41b)]=Object[_0x5e6d95(0x248)](buildingPrices[_0xde5fdf])[0x1]['toLocaleString']('en')||''),Object[_0x5e6d95(0x2fe)](buildingPrices[_0xde5fdf])[0x2]!==undefined&&(buildingTooltipCost3IMG[_0x5e6d95(0x3eb)]=_0x5e6d95(0x341)+Object['keys'](buildingPrices[_0xde5fdf])[0x2]+_0x5e6d95(0x143),buildingTooltipCost3[_0x5e6d95(0x41b)]=Object[_0x5e6d95(0x248)](buildingPrices[_0xde5fdf])[0x2]['toLocaleString']('en')||''),Object[_0x5e6d95(0x2fe)](buildingPrices[_0xde5fdf])[0x3]!==undefined&&(buildingTooltipCost4IMG[_0x5e6d95(0x3eb)]=_0x5e6d95(0x341)+Object[_0x5e6d95(0x2fe)](buildingPrices[_0xde5fdf])[0x3]+_0x5e6d95(0x143),buildingTooltipCost4['innerText']=Object[_0x5e6d95(0x248)](buildingPrices[_0xde5fdf])[0x3][_0x5e6d95(0x2fc)]('en')||''),buildingTooltipCost4['parentElement'][_0x5e6d95(0x28a)][_0x5e6d95(0x3d3)](_0x5e6d95(0x2e8)),buildingTooltipCost3[_0x5e6d95(0x1c9)][_0x5e6d95(0x28a)][_0x5e6d95(0x3d3)](_0x5e6d95(0x2e8)),buildingTooltipCost2[_0x5e6d95(0x1c9)][_0x5e6d95(0x28a)]['remove'](_0x5e6d95(0x2e8)),Object[_0x5e6d95(0x2fe)](buildingPrices[_0xde5fdf])[_0x5e6d95(0x2aa)]===0x3&&buildingTooltipCost4[_0x5e6d95(0x1c9)][_0x5e6d95(0x28a)][_0x5e6d95(0x375)](_0x5e6d95(0x2e8)),Object[_0x5e6d95(0x2fe)](buildingPrices[_0xde5fdf])[_0x5e6d95(0x2aa)]===0x2&&(buildingTooltipCost4[_0x5e6d95(0x1c9)]['classList']['add']('display-none'),buildingTooltipCost3[_0x5e6d95(0x1c9)]['classList'][_0x5e6d95(0x375)](_0x5e6d95(0x2e8))),Object['keys'](buildingPrices[_0xde5fdf])[_0x5e6d95(0x2aa)]===0x1&&(buildingTooltipCost4['parentElement'][_0x5e6d95(0x28a)][_0x5e6d95(0x375)](_0x5e6d95(0x2e8)),buildingTooltipCost3[_0x5e6d95(0x1c9)][_0x5e6d95(0x28a)]['add'](_0x5e6d95(0x2e8)),buildingTooltipCost2[_0x5e6d95(0x1c9)][_0x5e6d95(0x28a)]['add'](_0x5e6d95(0x2e8))),Object[_0x5e6d95(0x248)](buildingPrices[_0xde5fdf])[0x0]>gameState[Object[_0x5e6d95(0x2fe)](buildingPrices[_0xde5fdf])[0x0]]?buildingTooltipCost1[_0x5e6d95(0x28a)][_0x5e6d95(0x375)](_0x5e6d95(0x28b)):buildingTooltipCost1[_0x5e6d95(0x28a)][_0x5e6d95(0x3d3)]('cost-too-high'),Object['values'](buildingPrices[_0xde5fdf])[0x1]>gameState[Object[_0x5e6d95(0x2fe)](buildingPrices[_0xde5fdf])[0x1]]?buildingTooltipCost2[_0x5e6d95(0x28a)][_0x5e6d95(0x375)]('cost-too-high'):buildingTooltipCost2[_0x5e6d95(0x28a)]['remove']('cost-too-high'),Object[_0x5e6d95(0x248)](buildingPrices[_0xde5fdf])[0x2]>gameState[Object[_0x5e6d95(0x2fe)](buildingPrices[_0xde5fdf])[0x2]]?buildingTooltipCost3[_0x5e6d95(0x28a)]['add']('cost-too-high'):buildingTooltipCost3['classList']['remove']('cost-too-high'),Object['values'](buildingPrices[_0xde5fdf])[0x3]>gameState[Object[_0x5e6d95(0x2fe)](buildingPrices[_0xde5fdf])[0x3]]?buildingTooltipCost4[_0x5e6d95(0x28a)]['add']('cost-too-high'):buildingTooltipCost4['classList'][_0x5e6d95(0x3d3)](_0x5e6d95(0x28b));}const allBuildingUpgradeBtns=document[a10_0x2adce8(0x43d)](a10_0x2adce8(0x22b)),buildingUpgradeTooltip=document['querySelector']('.building-upgrade-tooltip');let upgradeBtnBeingHovered=null;allBuildingUpgradeBtns['forEach'](function(_0x1d1090){const _0x2e590b=a10_0x2adce8;_0x1d1090[_0x2e590b(0x362)]('mouseover',()=>{const _0x1f0576=_0x2e590b;upgradeBtnBeingHovered=_0x1d1090['dataset'][_0x1f0576(0x1b6)],updateBuildingUpgradeTooltip(_0x1d1090[_0x1f0576(0x3ec)]['buildingType']),buildingUpgradeTooltip[_0x1f0576(0x28a)]['remove'](_0x1f0576(0x2e8));}),_0x1d1090[_0x2e590b(0x362)]('mouseleave',()=>{const _0x218539=_0x2e590b;buildingUpgradeTooltip[_0x218539(0x28a)][_0x218539(0x375)](_0x218539(0x2e8)),upgradeBtnBeingHovered=null;});});const buildingUpgradeEffectIMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x232)),buildingUpgradeEffect=document['querySelector']('.building-upgrade-tooltip-effect'),buildingUpgradeTooltipCost1IMG=document[a10_0x2adce8(0x411)]('.building-upgrade-tooltip-cost1-img'),buildingUpgradeTooltipCost1=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x427)),buildingUpgradeTooltipCost2IMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x346)),buildingUpgradeTooltipCost2=document['querySelector'](a10_0x2adce8(0x444)),buildingUpgradeTooltipCost3IMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x3ac)),buildingUpgradeTooltipCost3=document[a10_0x2adce8(0x411)]('.building-upgrade-tooltip-cost3'),buildingUpgradeTooltipCost4IMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x3dc)),buildingUpgradeTooltipCost4=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x3f9));function updateBuildingUpgradeTooltip(_0x14fe1a){const _0x1b14a6=a10_0x2adce8;buildingUpgradeEffectIMG[_0x1b14a6(0x3eb)]='',buildingUpgradeEffect[_0x1b14a6(0x41b)]='';if(_0x14fe1a===_0x1b14a6(0x1a0))buildingUpgradeEffect[_0x1b14a6(0x41b)]=_0x1b14a6(0x2f6)+Number(Object[_0x1b14a6(0x248)](getBuildingUpgradeEffect(_0x14fe1a))[0x0]);else{if(_0x14fe1a===_0x1b14a6(0x433))buildingUpgradeEffect[_0x1b14a6(0x41b)]=_0x1b14a6(0x1c6)+Number(Object[_0x1b14a6(0x248)](getBuildingUpgradeEffect(_0x14fe1a))[0x0]);else _0x14fe1a===_0x1b14a6(0x3bc)?buildingUpgradeEffect['innerText']=_0x1b14a6(0x1e3)+Number(Object[_0x1b14a6(0x248)](getBuildingUpgradeEffect(_0x14fe1a))[0x0]):(_0x14fe1a===_0x1b14a6(0x3b5)?buildingUpgradeEffect[_0x1b14a6(0x41b)]='+'+(Number(Object[_0x1b14a6(0x248)](getBuildingUpgradeEffect(_0x14fe1a))[0x0])*0x3c)[_0x1b14a6(0x253)](0x2)+_0x1b14a6(0x326):buildingUpgradeEffect[_0x1b14a6(0x41b)]='+'+Number(Object['values'](getBuildingUpgradeEffect(_0x14fe1a))[0x0])['toFixed'](0x2)+'/sec',buildingUpgradeEffectIMG[_0x1b14a6(0x3eb)]=_0x1b14a6(0x341)+Object[_0x1b14a6(0x2fe)](getBuildingUpgradeEffect(_0x14fe1a))[0x0]+_0x1b14a6(0x143));}Object[_0x1b14a6(0x2fe)](buildingUpgradePrices[_0x14fe1a])[0x0]!==undefined&&(buildingUpgradeTooltipCost1IMG[_0x1b14a6(0x3eb)]=_0x1b14a6(0x341)+Object[_0x1b14a6(0x2fe)](buildingUpgradePrices[_0x14fe1a])[0x0]+'_icon.svg',buildingUpgradeTooltipCost1[_0x1b14a6(0x41b)]=Object[_0x1b14a6(0x248)](buildingUpgradePrices[_0x14fe1a])[0x0][_0x1b14a6(0x2fc)]('en')||''),Object[_0x1b14a6(0x2fe)](buildingUpgradePrices[_0x14fe1a])[0x1]!==undefined&&(buildingUpgradeTooltipCost2IMG[_0x1b14a6(0x3eb)]=_0x1b14a6(0x341)+Object['keys'](buildingUpgradePrices[_0x14fe1a])[0x1]+_0x1b14a6(0x143),buildingUpgradeTooltipCost2[_0x1b14a6(0x41b)]=Object[_0x1b14a6(0x248)](buildingUpgradePrices[_0x14fe1a])[0x1][_0x1b14a6(0x2fc)]('en')||''),Object[_0x1b14a6(0x2fe)](buildingUpgradePrices[_0x14fe1a])[0x2]!==undefined&&(buildingUpgradeTooltipCost3IMG[_0x1b14a6(0x3eb)]='svgs/'+Object[_0x1b14a6(0x2fe)](buildingUpgradePrices[_0x14fe1a])[0x2]+'_icon.svg',buildingUpgradeTooltipCost3['innerText']=Object[_0x1b14a6(0x248)](buildingUpgradePrices[_0x14fe1a])[0x2][_0x1b14a6(0x2fc)]('en')||''),Object[_0x1b14a6(0x2fe)](buildingUpgradePrices[_0x14fe1a])[0x3]!==undefined&&(buildingUpgradeTooltipCost4IMG['src']=_0x1b14a6(0x341)+Object[_0x1b14a6(0x2fe)](buildingUpgradePrices[_0x14fe1a])[0x3]+'_icon.svg',buildingUpgradeTooltipCost4[_0x1b14a6(0x41b)]=Object[_0x1b14a6(0x248)](buildingUpgradePrices[_0x14fe1a])[0x3][_0x1b14a6(0x2fc)]('en')||''),buildingUpgradeTooltipCost4[_0x1b14a6(0x1c9)][_0x1b14a6(0x28a)]['remove'](_0x1b14a6(0x2e8)),buildingUpgradeTooltipCost3[_0x1b14a6(0x1c9)][_0x1b14a6(0x28a)]['remove']('display-none'),buildingUpgradeTooltipCost2['parentElement']['classList'][_0x1b14a6(0x3d3)](_0x1b14a6(0x2e8)),Object['keys'](buildingUpgradePrices[_0x14fe1a])[_0x1b14a6(0x2aa)]===0x3&&buildingUpgradeTooltipCost4['parentElement'][_0x1b14a6(0x28a)]['add'](_0x1b14a6(0x2e8)),Object[_0x1b14a6(0x2fe)](buildingUpgradePrices[_0x14fe1a])[_0x1b14a6(0x2aa)]===0x2&&(buildingUpgradeTooltipCost4[_0x1b14a6(0x1c9)][_0x1b14a6(0x28a)]['add'](_0x1b14a6(0x2e8)),buildingUpgradeTooltipCost3[_0x1b14a6(0x1c9)]['classList'][_0x1b14a6(0x375)](_0x1b14a6(0x2e8))),Object[_0x1b14a6(0x2fe)](buildingUpgradePrices[_0x14fe1a])[_0x1b14a6(0x2aa)]===0x1&&(buildingUpgradeTooltipCost4['parentElement']['classList'][_0x1b14a6(0x375)](_0x1b14a6(0x2e8)),buildingUpgradeTooltipCost3['parentElement']['classList'][_0x1b14a6(0x375)](_0x1b14a6(0x2e8)),buildingUpgradeTooltipCost2[_0x1b14a6(0x1c9)][_0x1b14a6(0x28a)][_0x1b14a6(0x375)](_0x1b14a6(0x2e8))),Object[_0x1b14a6(0x248)](buildingUpgradePrices[_0x14fe1a])[0x0]>gameState[Object[_0x1b14a6(0x2fe)](buildingUpgradePrices[_0x14fe1a])[0x0]]?buildingUpgradeTooltipCost1[_0x1b14a6(0x28a)][_0x1b14a6(0x375)](_0x1b14a6(0x28b)):buildingUpgradeTooltipCost1[_0x1b14a6(0x28a)][_0x1b14a6(0x3d3)]('cost-too-high'),Object[_0x1b14a6(0x248)](buildingUpgradePrices[_0x14fe1a])[0x1]>gameState[Object['keys'](buildingUpgradePrices[_0x14fe1a])[0x1]]?buildingUpgradeTooltipCost2[_0x1b14a6(0x28a)][_0x1b14a6(0x375)](_0x1b14a6(0x28b)):buildingUpgradeTooltipCost2[_0x1b14a6(0x28a)][_0x1b14a6(0x3d3)]('cost-too-high'),Object[_0x1b14a6(0x248)](buildingUpgradePrices[_0x14fe1a])[0x2]>gameState[Object['keys'](buildingUpgradePrices[_0x14fe1a])[0x2]]?buildingUpgradeTooltipCost3[_0x1b14a6(0x28a)][_0x1b14a6(0x375)]('cost-too-high'):buildingUpgradeTooltipCost3[_0x1b14a6(0x28a)]['remove'](_0x1b14a6(0x28b)),Object[_0x1b14a6(0x248)](buildingUpgradePrices[_0x14fe1a])[0x3]>gameState[Object[_0x1b14a6(0x2fe)](buildingUpgradePrices[_0x14fe1a])[0x3]]?buildingUpgradeTooltipCost4[_0x1b14a6(0x28a)]['add']('cost-too-high'):buildingUpgradeTooltipCost4[_0x1b14a6(0x28a)]['remove'](_0x1b14a6(0x28b));}const allstorageUpgradeBtns=document[a10_0x2adce8(0x43d)](a10_0x2adce8(0x273)),storageUpgradeTooltip=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x125));let storageUpgradeBtnBeingHovered=null;allstorageUpgradeBtns[a10_0x2adce8(0x16d)](function(_0x17f10c){const _0x3d7e7b=a10_0x2adce8;_0x17f10c[_0x3d7e7b(0x362)](_0x3d7e7b(0x206),()=>{const _0x1e6ee4=_0x3d7e7b;storageUpgradeBtnBeingHovered=_0x17f10c[_0x1e6ee4(0x3ec)][_0x1e6ee4(0x268)],updateStorageUpgradeTooltip(_0x17f10c['dataset']['resourceType']),storageUpgradeTooltip['classList'][_0x1e6ee4(0x3d3)](_0x1e6ee4(0x2e8));}),_0x17f10c[_0x3d7e7b(0x362)]('mouseleave',()=>{const _0x116395=_0x3d7e7b;storageUpgradeTooltip[_0x116395(0x28a)][_0x116395(0x375)](_0x116395(0x2e8)),storageUpgradeBtnBeingHovered=null;});});const storageUpgradeTooltipEffectIMG=document[a10_0x2adce8(0x411)]('.storage-upgrade-tooltip-effect-img'),storageUpgradeTooltipEffect=document['querySelector']('.storage-upgrade-tooltip-effect'),storageUpgradeTooltipCost1IMG=document[a10_0x2adce8(0x411)]('.storage-upgrade-tooltip-cost1-img'),storageUpgradeTooltipCost1=document['querySelector'](a10_0x2adce8(0x23a)),storageUpgradeTooltipCost2IMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x3ad)),storageUpgradeTooltipCost2=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x369)),storageUpgradeTooltipCost3IMG=document[a10_0x2adce8(0x411)]('.storage-upgrade-tooltip-cost3-img'),storageUpgradeTooltipCost3=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x442)),storageUpgradeTooltipCost4IMG=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x3d0)),storageUpgradeTooltipCost4=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x275));function updateStorageUpgradeTooltip(_0x5d83ee){const _0x3a3730=a10_0x2adce8;storageUpgradeTooltipEffectIMG[_0x3a3730(0x3eb)]=_0x3a3730(0x341)+_0x5d83ee+_0x3a3730(0x143),storageUpgradeTooltipEffect['innerText']='Max\x20+'+getStorageUpgradeEffect(_0x5d83ee)['toLocaleString']('en'),Object[_0x3a3730(0x2fe)](storageUpgradePrices[_0x5d83ee])[0x0]!==undefined&&(storageUpgradeTooltipCost1IMG['src']=_0x3a3730(0x341)+Object[_0x3a3730(0x2fe)](storageUpgradePrices[_0x5d83ee])[0x0]+_0x3a3730(0x143),storageUpgradeTooltipCost1[_0x3a3730(0x41b)]=Object[_0x3a3730(0x248)](storageUpgradePrices[_0x5d83ee])[0x0][_0x3a3730(0x2fc)]('en')||''),Object['keys'](storageUpgradePrices[_0x5d83ee])[0x1]!==undefined&&(storageUpgradeTooltipCost2IMG['src']='svgs/'+Object[_0x3a3730(0x2fe)](storageUpgradePrices[_0x5d83ee])[0x1]+_0x3a3730(0x143),storageUpgradeTooltipCost2[_0x3a3730(0x41b)]=Object['values'](storageUpgradePrices[_0x5d83ee])[0x1][_0x3a3730(0x2fc)]('en')||''),Object['keys'](storageUpgradePrices[_0x5d83ee])[0x2]!==undefined&&(storageUpgradeTooltipCost3IMG[_0x3a3730(0x3eb)]='svgs/'+Object[_0x3a3730(0x2fe)](storageUpgradePrices[_0x5d83ee])[0x2]+'_icon.svg',storageUpgradeTooltipCost3[_0x3a3730(0x41b)]=Object[_0x3a3730(0x248)](storageUpgradePrices[_0x5d83ee])[0x2][_0x3a3730(0x2fc)]('en')||''),Object[_0x3a3730(0x2fe)](storageUpgradePrices[_0x5d83ee])[0x3]!==undefined&&(storageUpgradeTooltipCost4IMG['src']=_0x3a3730(0x341)+Object[_0x3a3730(0x2fe)](storageUpgradePrices[_0x5d83ee])[0x3]+'_icon.svg',storageUpgradeTooltipCost4[_0x3a3730(0x41b)]=Object['values'](storageUpgradePrices[_0x5d83ee])[0x3]['toLocaleString']('en')||''),storageUpgradeTooltipCost4['parentElement']['classList'][_0x3a3730(0x3d3)]('display-none'),storageUpgradeTooltipCost3[_0x3a3730(0x1c9)][_0x3a3730(0x28a)][_0x3a3730(0x3d3)]('display-none'),storageUpgradeTooltipCost2[_0x3a3730(0x1c9)]['classList'][_0x3a3730(0x3d3)](_0x3a3730(0x2e8)),Object[_0x3a3730(0x2fe)](storageUpgradePrices[_0x5d83ee])[_0x3a3730(0x2aa)]===0x3&&storageUpgradeTooltipCost4[_0x3a3730(0x1c9)][_0x3a3730(0x28a)][_0x3a3730(0x375)](_0x3a3730(0x2e8)),Object[_0x3a3730(0x2fe)](storageUpgradePrices[_0x5d83ee])[_0x3a3730(0x2aa)]===0x2&&(storageUpgradeTooltipCost4[_0x3a3730(0x1c9)][_0x3a3730(0x28a)]['add'](_0x3a3730(0x2e8)),storageUpgradeTooltipCost3[_0x3a3730(0x1c9)][_0x3a3730(0x28a)][_0x3a3730(0x375)](_0x3a3730(0x2e8))),Object['keys'](storageUpgradePrices[_0x5d83ee])[_0x3a3730(0x2aa)]===0x1&&(storageUpgradeTooltipCost4[_0x3a3730(0x1c9)]['classList'][_0x3a3730(0x375)]('display-none'),storageUpgradeTooltipCost3[_0x3a3730(0x1c9)][_0x3a3730(0x28a)][_0x3a3730(0x375)]('display-none'),storageUpgradeTooltipCost2[_0x3a3730(0x1c9)][_0x3a3730(0x28a)][_0x3a3730(0x375)](_0x3a3730(0x2e8))),Object[_0x3a3730(0x248)](storageUpgradePrices[_0x5d83ee])[0x0]>gameState[Object[_0x3a3730(0x2fe)](storageUpgradePrices[_0x5d83ee])[0x0]]?storageUpgradeTooltipCost1['classList'][_0x3a3730(0x375)]('cost-too-high'):storageUpgradeTooltipCost1['classList'][_0x3a3730(0x3d3)](_0x3a3730(0x28b)),Object[_0x3a3730(0x248)](storageUpgradePrices[_0x5d83ee])[0x1]>gameState[Object[_0x3a3730(0x2fe)](storageUpgradePrices[_0x5d83ee])[0x1]]?storageUpgradeTooltipCost2['classList']['add'](_0x3a3730(0x28b)):storageUpgradeTooltipCost2['classList'][_0x3a3730(0x3d3)]('cost-too-high'),Object['values'](storageUpgradePrices[_0x5d83ee])[0x2]>gameState[Object[_0x3a3730(0x2fe)](storageUpgradePrices[_0x5d83ee])[0x2]]?storageUpgradeTooltipCost3['classList'][_0x3a3730(0x375)](_0x3a3730(0x28b)):storageUpgradeTooltipCost3[_0x3a3730(0x28a)][_0x3a3730(0x3d3)](_0x3a3730(0x28b)),Object[_0x3a3730(0x248)](storageUpgradePrices[_0x5d83ee])[0x3]>gameState[Object['keys'](storageUpgradePrices[_0x5d83ee])[0x3]]?storageUpgradeTooltipCost4[_0x3a3730(0x28a)][_0x3a3730(0x375)](_0x3a3730(0x28b)):storageUpgradeTooltipCost4[_0x3a3730(0x28a)][_0x3a3730(0x3d3)](_0x3a3730(0x28b));}const shopItems=document[a10_0x2adce8(0x43d)]('.shop-item-container'),shopItemTooltips=document[a10_0x2adce8(0x43d)](a10_0x2adce8(0x1eb));shopItems[a10_0x2adce8(0x16d)](function(_0x9105c8){const _0x38dabf=a10_0x2adce8;_0x9105c8[_0x38dabf(0x362)](_0x38dabf(0x206),()=>{const _0x1d1976=_0x38dabf;let _0x5ef52a=_0x9105c8[_0x1d1976(0x3ec)]['itemName'];shopItemTooltips[_0x1d1976(0x16d)](function(_0x4ff7bf){const _0x1211b6=_0x1d1976;_0x5ef52a===_0x4ff7bf[_0x1211b6(0x3ec)][_0x1211b6(0x2cc)]&&_0x4ff7bf[_0x1211b6(0x28a)][_0x1211b6(0x3d3)](_0x1211b6(0x2e8));});});}),shopItems[a10_0x2adce8(0x16d)](function(_0x1fff73){_0x1fff73['addEventListener']('mouseleave',()=>{shopItemTooltips['forEach'](function(_0x103512){const _0x7fd5d6=a10_0x2685;_0x103512[_0x7fd5d6(0x28a)]['add'](_0x7fd5d6(0x2e8));});});});const buildingPrices={'hut':{get 'wood'(){const _0x3ba511=a10_0x2adce8;return Math[_0x3ba511(0x1db)](0x1e*Math[_0x3ba511(0x40d)](gameState[_0x3ba511(0x3ea)]+0x1,0x3));}},'sawmill':{get 'wood'(){const _0x547976=a10_0x2adce8;return Math[_0x547976(0x1db)](0x32*Math[_0x547976(0x40d)](gameState['sawmillAmount']+0x1,3.5));}},'quarry':{get 'wood'(){const _0x880964=a10_0x2adce8;return Math[_0x880964(0x1db)](0x64*Math['pow'](gameState[_0x880964(0x3ae)]+0x1,0x3));},get 'stone'(){const _0x4cb17a=a10_0x2adce8;return Math[_0x4cb17a(0x1db)](0x32*Math[_0x4cb17a(0x40d)](gameState[_0x4cb17a(0x3ae)]+0x1,0x3));}},'warehouse':{get 'wood'(){const _0x2dfd4e=a10_0x2adce8;return Math['round'](0x1f4*Math['pow'](gameState[_0x2dfd4e(0x1f9)]+0x1,0x3));},get 'stone'(){const _0x3d5f59=a10_0x2adce8;return Math[_0x3d5f59(0x1db)](0xc8*Math['pow'](gameState['warehouseAmount']+0x1,0x3));}},'foundry':{get 'wood'(){const _0x4a5567=a10_0x2adce8;return Math[_0x4a5567(0x1db)](0x4b0*Math[_0x4a5567(0x40d)](gameState[_0x4a5567(0x350)]+0x1,0x2));},get 'stone'(){const _0x3f5a88=a10_0x2adce8;return Math['round'](0x3e8*Math[_0x3f5a88(0x40d)](gameState[_0x3f5a88(0x350)]+0x1,0x2));}},'forge':{get 'wood'(){const _0x9f39e3=a10_0x2adce8;return Math[_0x9f39e3(0x1db)](0xbb8*Math['pow'](gameState['forgeAmount']+0x1,0x3));},get 'stone'(){const _0xa744fc=a10_0x2adce8;return Math['round'](0x3e8*Math[_0xa744fc(0x40d)](gameState[_0xa744fc(0x3be)]+0x1,0x3));},get 'iron'(){const _0x5b5132=a10_0x2adce8;return Math[_0x5b5132(0x1db)](0xc8*Math[_0x5b5132(0x40d)](gameState[_0x5b5132(0x3be)]+0x1,0x3));}},'farm':{get 'wood'(){const _0x2a72d8=a10_0x2adce8;return Math[_0x2a72d8(0x1db)](0xbb8*Math[_0x2a72d8(0x40d)](gameState['farmAmount']+0x1,0x2));},get 'stone'(){const _0x263922=a10_0x2adce8;return Math[_0x263922(0x1db)](0x3e8*Math[_0x263922(0x40d)](gameState[_0x263922(0x39a)]+0x1,0x2));},get 'equipment'(){const _0x5c60e8=a10_0x2adce8;return Math['round'](0x64*Math['pow'](gameState[_0x5c60e8(0x39a)]+0x1,0x2));}},'barracks':{get 'wood'(){const _0x54bb03=a10_0x2adce8;return Math['round'](0xfa0*Math[_0x54bb03(0x40d)](gameState[_0x54bb03(0x221)]+0x1,0x2));},get 'stone'(){const _0x188cee=a10_0x2adce8;return Math[_0x188cee(0x1db)](0xbb8*Math[_0x188cee(0x40d)](gameState[_0x188cee(0x221)]+0x1,0x2));},get 'iron'(){const _0x45144e=a10_0x2adce8;return Math[_0x45144e(0x1db)](0x12c*Math[_0x45144e(0x40d)](gameState[_0x45144e(0x221)]+0x1,0x2));},get 'equipment'(){const _0x4a0d83=a10_0x2adce8;return Math[_0x4a0d83(0x1db)](0x3c*Math['pow'](gameState['barracksAmount']+0x1,0x2));}},'college':{get 'wood'(){const _0x201b56=a10_0x2adce8;return Math['round'](0x1d4c*Math[_0x201b56(0x40d)](gameState['collegeAmount']+0x1,1.3));},get 'stone'(){const _0xeb9ae=a10_0x2adce8;return Math[_0xeb9ae(0x1db)](0x1d4c*Math[_0xeb9ae(0x40d)](gameState[_0xeb9ae(0x358)]+0x1,1.3));},get 'iron'(){const _0x3ab3ff=a10_0x2adce8;return Math[_0x3ab3ff(0x1db)](0x44c*Math[_0x3ab3ff(0x40d)](gameState[_0x3ab3ff(0x358)]+0x1,1.3));},get 'equipment'(){const _0x13d154=a10_0x2adce8;return Math['round'](0x64*Math[_0x13d154(0x40d)](gameState[_0x13d154(0x358)]+0x1,1.3));}},'bathHouse':{get 'wood'(){const _0x51d9d8=a10_0x2adce8;return Math[_0x51d9d8(0x1db)](0x1388*Math[_0x51d9d8(0x40d)](gameState[_0x51d9d8(0x173)]+0x1,1.3));},get 'stone'(){const _0x1bd717=a10_0x2adce8;return Math[_0x1bd717(0x1db)](0x1388*Math['pow'](gameState['bathHouseAmount']+0x1,1.3));}},'commandPost':{get 'stone'(){const _0x5d146e=a10_0x2adce8;return Math[_0x5d146e(0x1db)](0x3a98*Math['pow'](gameState[_0x5d146e(0x25c)]+0x1,1.3));},get 'iron'(){const _0x216266=a10_0x2adce8;return Math['round'](0x7d0*Math[_0x216266(0x40d)](gameState[_0x216266(0x25c)]+0x1,1.3));},get 'equipment'(){const _0x1829ac=a10_0x2adce8;return Math['round'](0x2bc*Math['pow'](gameState[_0x1829ac(0x25c)]+0x1,1.3));}},'bloodBasin':{get 'stone'(){const _0x460443=a10_0x2adce8;return Math[_0x460443(0x1db)](0x7d0*Math['pow'](gameState[_0x460443(0x38e)]+0x1,0x2));},get 'equipment'(){const _0x415e90=a10_0x2adce8;return Math[_0x415e90(0x1db)](0x64*Math[_0x415e90(0x40d)](gameState['bloodBasinAmount']+0x1,1.5));},get 'blood'(){const _0x5ca6ef=a10_0x2adce8;return Math[_0x5ca6ef(0x1db)](0x1f4*Math[_0x5ca6ef(0x40d)](gameState[_0x5ca6ef(0x38e)]+0x1,1.5));}},'sacrificialAltar':{get 'stone'(){const _0x215d2e=a10_0x2adce8;return Math[_0x215d2e(0x1db)](0x3e8*Math[_0x215d2e(0x40d)](gameState[_0x215d2e(0x3a2)]+0x1,0x3));},get 'equipment'(){const _0xd76aa6=a10_0x2adce8;return Math[_0xd76aa6(0x1db)](0x12c*Math[_0xd76aa6(0x40d)](gameState[_0xd76aa6(0x3a2)]+0x1,0x3));},get 'blood'(){const _0x2580f7=a10_0x2adce8;return Math['round'](0xc8*Math[_0x2580f7(0x40d)](gameState[_0x2580f7(0x3a2)]+0x1,0x2));}},'bloodPortal':{get 'stone'(){const _0x1b6b78=a10_0x2adce8;return Math[_0x1b6b78(0x1db)](0x1388*Math[_0x1b6b78(0x40d)](gameState[_0x1b6b78(0x13c)]+0x1,0x2));},get 'equipment'(){const _0x4417c1=a10_0x2adce8;return Math[_0x4417c1(0x1db)](0x1f4*Math['pow'](gameState[_0x4417c1(0x13c)]+0x1,0x2));},get 'blood'(){const _0x2ec1a2=a10_0x2adce8;return Math[_0x2ec1a2(0x1db)](0x2bc*Math[_0x2ec1a2(0x40d)](gameState[_0x2ec1a2(0x13c)]+0x1,1.2));}},'collegeOfFire':{get 'wood'(){const _0x2e9cad=a10_0x2adce8;return Math[_0x2e9cad(0x1db)](0x2710*Math[_0x2e9cad(0x40d)](gameState[_0x2e9cad(0x132)]+0x1,0x2));},get 'stone'(){const _0x1de3da=a10_0x2adce8;return Math[_0x1de3da(0x1db)](0x1388*Math['pow'](gameState[_0x1de3da(0x132)]+0x1,0x2));},get 'equipment'(){const _0x40ec20=a10_0x2adce8;return Math['round'](0x17c*Math[_0x40ec20(0x40d)](gameState[_0x40ec20(0x132)]+0x1,0x2));},get 'knowledge'(){const _0xc2a959=a10_0x2adce8;return Math[_0xc2a959(0x1db)](0x320*Math[_0xc2a959(0x40d)](gameState[_0xc2a959(0x132)]+0x1,0x2));}},'collegeOfArcanum':{get 'wood'(){const _0x1b0093=a10_0x2adce8;return Math[_0x1b0093(0x1db)](0x2710*Math[_0x1b0093(0x40d)](gameState[_0x1b0093(0x33e)]+0x1,0x2));},get 'stone'(){const _0x422caa=a10_0x2adce8;return Math[_0x422caa(0x1db)](0x1388*Math[_0x422caa(0x40d)](gameState[_0x422caa(0x33e)]+0x1,0x2));},get 'equipment'(){const _0x486751=a10_0x2adce8;return Math['round'](0x17c*Math[_0x486751(0x40d)](gameState[_0x486751(0x33e)]+0x1,0x2));},get 'knowledge'(){const _0x371874=a10_0x2adce8;return Math[_0x371874(0x1db)](0x320*Math[_0x371874(0x40d)](gameState[_0x371874(0x33e)]+0x1,0x2));}},'collegeOfFrost':{get 'wood'(){const _0x3b048f=a10_0x2adce8;return Math[_0x3b048f(0x1db)](0x2710*Math[_0x3b048f(0x40d)](gameState['collegeOfFrostAmount']+0x1,0x2));},get 'stone'(){const _0x21448f=a10_0x2adce8;return Math[_0x21448f(0x1db)](0x1388*Math[_0x21448f(0x40d)](gameState[_0x21448f(0x155)]+0x1,0x2));},get 'equipment'(){const _0x1657dd=a10_0x2adce8;return Math['round'](0x17c*Math['pow'](gameState[_0x1657dd(0x155)]+0x1,0x2));},get 'knowledge'(){const _0x385216=a10_0x2adce8;return Math['round'](0x320*Math[_0x385216(0x40d)](gameState['collegeOfFrostAmount']+0x1,0x2));}},'herbalGarden':{get 'wood'(){const _0xe0a180=a10_0x2adce8;return Math['round'](0xfa0*Math[_0xe0a180(0x40d)](gameState[_0xe0a180(0x174)]+0x1,0x1));},get 'stone'(){const _0x5d854e=a10_0x2adce8;return Math[_0x5d854e(0x1db)](0x157c*Math['pow'](gameState[_0x5d854e(0x174)]+0x1,0x1));},get 'equipment'(){const _0x305c06=a10_0x2adce8;return Math[_0x305c06(0x1db)](0xc8*Math[_0x305c06(0x40d)](gameState[_0x305c06(0x174)]+0x1,0x1));}},'alchemistHut':{get 'wood'(){const _0x40a1d6=a10_0x2adce8;return Math[_0x40a1d6(0x1db)](0x3a98*Math['pow'](gameState['alchemistHutAmount']+0x1,1.3));},get 'stone'(){const _0x5b687f=a10_0x2adce8;return Math[_0x5b687f(0x1db)](0x3a98*Math[_0x5b687f(0x40d)](gameState[_0x5b687f(0x18f)]+0x1,1.3));},get 'equipment'(){const _0x19b108=a10_0x2adce8;return Math[_0x19b108(0x1db)](0x3e8*Math[_0x19b108(0x40d)](gameState['alchemistHutAmount']+0x1,1.3));}}},buildingUpgradePrices={'hut':{get 'wood'(){const _0xfdbee7=a10_0x2adce8;return Math[_0xfdbee7(0x1db)](0x1e*Math['pow'](gameState[_0xfdbee7(0x256)]['hut'],2.5));}},'sawmill':{get 'wood'(){const _0x3779c0=a10_0x2adce8;return Math[_0x3779c0(0x1db)](0x32*Math[_0x3779c0(0x40d)](gameState[_0x3779c0(0x256)][_0x3779c0(0x3e5)],2.5));}},'quarry':{get 'wood'(){const _0x1a20f0=a10_0x2adce8;return Math['round'](0x64*Math['pow'](gameState[_0x1a20f0(0x256)][_0x1a20f0(0x440)],2.5));},get 'stone'(){const _0x3dc72b=a10_0x2adce8;return Math[_0x3dc72b(0x1db)](0x32*Math[_0x3dc72b(0x40d)](gameState['buildingLevels'][_0x3dc72b(0x440)],2.5));}},'foundry':{get 'wood'(){const _0x2715f0=a10_0x2adce8;return Math['round'](0x4b0*Math['pow'](gameState[_0x2715f0(0x256)][_0x2715f0(0x424)],1.2));},get 'stone'(){const _0x5d29f4=a10_0x2adce8;return Math[_0x5d29f4(0x1db)](0x3e8*Math['pow'](gameState['buildingLevels'][_0x5d29f4(0x424)],1.2));}},'forge':{get 'wood'(){const _0x2509dc=a10_0x2adce8;return Math['round'](0x190*Math['pow'](gameState[_0x2509dc(0x256)][_0x2509dc(0x28d)],2.5));},get 'stone'(){const _0x53db01=a10_0x2adce8;return Math[_0x53db01(0x1db)](0x82*Math['pow'](gameState[_0x53db01(0x256)]['forge'],2.5));},get 'iron'(){const _0x2d0d2c=a10_0x2adce8;return Math['round'](0x19*Math[_0x2d0d2c(0x40d)](gameState[_0x2d0d2c(0x256)][_0x2d0d2c(0x28d)],2.5));}},'farm':{get 'wood'(){const _0x4c6547=a10_0x2adce8;return Math[_0x4c6547(0x1db)](0x3e8*Math['pow'](gameState['buildingLevels']['farm'],2.5));},get 'stone'(){const _0x4d4fb1=a10_0x2adce8;return Math[_0x4d4fb1(0x1db)](0xc8*Math[_0x4d4fb1(0x40d)](gameState[_0x4d4fb1(0x256)]['farm'],2.5));},get 'equipment'(){const _0x2280fe=a10_0x2adce8;return Math[_0x2280fe(0x1db)](0x28*Math[_0x2280fe(0x40d)](gameState[_0x2280fe(0x256)][_0x2280fe(0x211)],2.5));}},'barracks':{get 'wood'(){const _0xd22832=a10_0x2adce8;return Math[_0xd22832(0x1db)](0x3e8*Math[_0xd22832(0x40d)](gameState[_0xd22832(0x256)][_0xd22832(0x3bc)],1.3));},get 'stone'(){const _0x2ed4bf=a10_0x2adce8;return Math[_0x2ed4bf(0x1db)](0x190*Math[_0x2ed4bf(0x40d)](gameState[_0x2ed4bf(0x256)][_0x2ed4bf(0x3bc)],1.3));},get 'iron'(){const _0x2fbde1=a10_0x2adce8;return Math[_0x2fbde1(0x1db)](0xc8*Math['pow'](gameState[_0x2fbde1(0x256)][_0x2fbde1(0x3bc)],1.3));},get 'equipment'(){const _0x2a0dc2=a10_0x2adce8;return Math[_0x2a0dc2(0x1db)](0x28*Math[_0x2a0dc2(0x40d)](gameState[_0x2a0dc2(0x256)][_0x2a0dc2(0x3bc)],1.3));}},'college':{get 'wood'(){const _0x477013=a10_0x2adce8;return Math[_0x477013(0x1db)](0x3e8*Math[_0x477013(0x40d)](gameState['buildingLevels'][_0x477013(0x295)],1.2));},get 'stone'(){const _0x55c9eb=a10_0x2adce8;return Math['round'](0x3e8*Math[_0x55c9eb(0x40d)](gameState[_0x55c9eb(0x256)]['college'],1.2));},get 'iron'(){const _0x3109e1=a10_0x2adce8;return Math[_0x3109e1(0x1db)](0x32*Math[_0x3109e1(0x40d)](gameState[_0x3109e1(0x256)][_0x3109e1(0x295)],1.2));},get 'equipment'(){const _0x283d10=a10_0x2adce8;return Math['round'](0x1e*Math[_0x283d10(0x40d)](gameState[_0x283d10(0x256)][_0x283d10(0x295)],1.2));}},'bathHouse':{get 'wood'(){const _0x43993c=a10_0x2adce8;return Math[_0x43993c(0x1db)](0x3e8*Math[_0x43993c(0x40d)](gameState[_0x43993c(0x256)]['bathHouse'],1.2));},get 'stone'(){const _0x48b299=a10_0x2adce8;return Math[_0x48b299(0x1db)](0x3e8*Math[_0x48b299(0x40d)](gameState[_0x48b299(0x256)]['bathHouse'],1.2));}},'commandPost':{get 'stone'(){const _0x5d03eb=a10_0x2adce8;return Math[_0x5d03eb(0x1db)](0xfa0*Math[_0x5d03eb(0x40d)](gameState[_0x5d03eb(0x256)]['college'],1.2));},get 'iron'(){const _0x22e606=a10_0x2adce8;return Math[_0x22e606(0x1db)](0x384*Math['pow'](gameState[_0x22e606(0x256)][_0x22e606(0x295)],1.2));},get 'equipment'(){const _0x3f18c1=a10_0x2adce8;return Math[_0x3f18c1(0x1db)](0x32*Math[_0x3f18c1(0x40d)](gameState['buildingLevels'][_0x3f18c1(0x295)],1.2));}},'bloodBasin':{get 'stone'(){const _0x3d269d=a10_0x2adce8;return Math[_0x3d269d(0x1db)](0x3e8*Math[_0x3d269d(0x40d)](gameState[_0x3d269d(0x256)][_0x3d269d(0x1a0)],1.3));},get 'equipment'(){const _0x1bf2bc=a10_0x2adce8;return Math[_0x1bf2bc(0x1db)](0x3c*Math[_0x1bf2bc(0x40d)](gameState[_0x1bf2bc(0x256)][_0x1bf2bc(0x1a0)],1.3));},get 'blood'(){const _0xf71ac0=a10_0x2adce8;return Math[_0xf71ac0(0x1db)](0x12c*Math[_0xf71ac0(0x40d)](gameState['buildingLevels'][_0xf71ac0(0x1a0)],1.3));}},'sacrificialAltar':{get 'stone'(){const _0xc28cb0=a10_0x2adce8;return Math['round'](0x514*Math[_0xc28cb0(0x40d)](gameState[_0xc28cb0(0x256)][_0xc28cb0(0x258)],1.3));},get 'equipment'(){const _0x15dc8d=a10_0x2adce8;return Math[_0x15dc8d(0x1db)](0xc8*Math['pow'](gameState[_0x15dc8d(0x256)]['sacrificialAltar'],1.3));},get 'blood'(){const _0x1db623=a10_0x2adce8;return Math['round'](0x32*Math[_0x1db623(0x40d)](gameState[_0x1db623(0x256)][_0x1db623(0x258)],1.3));}},'herbalGarden':{get 'wood'(){const _0x162d5f=a10_0x2adce8;return Math[_0x162d5f(0x1db)](0x384*Math['pow'](gameState[_0x162d5f(0x256)][_0x162d5f(0x295)],1.2));},get 'stone'(){const _0x26e610=a10_0x2adce8;return Math[_0x26e610(0x1db)](0xfa0*Math['pow'](gameState[_0x26e610(0x256)][_0x26e610(0x295)],1.2));},get 'equipment'(){const _0x2750c1=a10_0x2adce8;return Math[_0x2750c1(0x1db)](0x32*Math['pow'](gameState[_0x2750c1(0x256)][_0x2750c1(0x295)],1.2));}},'alchemistHut':{get 'wood'(){const _0x5ab5b8=a10_0x2adce8;return Math[_0x5ab5b8(0x1db)](0x384*Math[_0x5ab5b8(0x40d)](gameState[_0x5ab5b8(0x256)]['college'],1.2));},get 'stone'(){const _0x2e9d4e=a10_0x2adce8;return Math[_0x2e9d4e(0x1db)](0xfa0*Math[_0x2e9d4e(0x40d)](gameState[_0x2e9d4e(0x256)][_0x2e9d4e(0x295)],1.2));},get 'equipment'(){const _0x14a1b3=a10_0x2adce8;return Math['round'](0x32*Math[_0x14a1b3(0x40d)](gameState[_0x14a1b3(0x256)][_0x14a1b3(0x295)],1.2));}}};function updateBuildingPrices(){const _0x4576e9=a10_0x2adce8;for(const _0x445e84 in buildingPrices){for(const _0xde8ac3 in buildingPrices[_0x445e84]){}}for(const _0x595fcd in buildingUpgradePrices){for(const _0x3a25cf in buildingUpgradePrices[_0x595fcd]){}}for(const _0x228730 in gameState[_0x4576e9(0x256)]){$('#'+_0x228730+_0x4576e9(0x410))[_0x4576e9(0x41b)]=gameState[_0x4576e9(0x256)][_0x228730][_0x4576e9(0x2fc)]('en');}}updateBuildingPrices();let isSacrificeAnimation=![],combatSpeedBtn=document[a10_0x2adce8(0x411)]('.combat-speed-btn');gameState[a10_0x2adce8(0x392)]=0xa,combatSpeedBtn[a10_0x2adce8(0x362)]('click',()=>{const _0x462f91=a10_0x2adce8;let _0x36da35=0x0;for(let _0x1a548e=0x0;_0x1a548e<Object[_0x462f91(0x2fe)](gameState[_0x462f91(0x3c0)])[_0x462f91(0x2aa)];_0x1a548e++){gameState[_0x462f91(0x3c0)]['t'+_0x1a548e]===_0x462f91(0x3b7)&&_0x36da35++;}if(gameState[_0x462f91(0x392)]===0xa&&_0x36da35>=0x1)gameState[_0x462f91(0x392)]=0x8;else{if(gameState[_0x462f91(0x392)]===0x8&&_0x36da35>=0x2)gameState[_0x462f91(0x392)]=0x5;else{if(gameState['combatInterval']===0x5&&_0x36da35>=0x3)gameState[_0x462f91(0x392)]=0x2;else gameState[_0x462f91(0x392)]===0x2&&_0x36da35===0x4?gameState[_0x462f91(0x392)]=0x1:gameState[_0x462f91(0x392)]=0xa;}}updateCombatSpeedBtn();});function updateCombatSpeedBtn(){const _0x3d9099=a10_0x2adce8;if(gameState['combatInterval']===0x8)combatSpeedBtn[_0x3d9099(0x41b)]='1.25x';else{if(gameState['combatInterval']===0x5)combatSpeedBtn[_0x3d9099(0x41b)]='2x';else{if(gameState[_0x3d9099(0x392)]===0x2)combatSpeedBtn['innerText']='5x';else gameState['combatInterval']===0x1?combatSpeedBtn['innerText']='10x':combatSpeedBtn[_0x3d9099(0x41b)]='1x';}}}const increaseCivilUnitBtns=document[a10_0x2adce8(0x446)](a10_0x2adce8(0x3d9)),decreaseCivilUnitBtns=document['getElementsByClassName'](a10_0x2adce8(0x2dd)),increaseArmyUnitBtns=document[a10_0x2adce8(0x446)](a10_0x2adce8(0x2c4)),decreaseArmyUnitBtns=document[a10_0x2adce8(0x446)](a10_0x2adce8(0x431));export function updateUnlocks(){const _0x45bd7d=a10_0x2adce8;gameState[_0x45bd7d(0x22a)][_0x45bd7d(0x39d)]>=0x3&&(gameState[_0x45bd7d(0x429)]=!![],gameState[_0x45bd7d(0x417)]=!![],gameState[_0x45bd7d(0x34c)][_0x45bd7d(0x433)]=!![]);gameState[_0x45bd7d(0x3ea)]>=0x1&&(gameState['buildingsUnlocked'][_0x45bd7d(0x3e5)]=!![]);gameState[_0x45bd7d(0x266)]>=0x1&&(gameState[_0x45bd7d(0x3b8)]=!![],gameState['isStoneUnlocked']=!![],gameState[_0x45bd7d(0x34c)][_0x45bd7d(0x440)]=!![]);gameState[_0x45bd7d(0x3ae)]>=0x1&&(gameState['buildingsUnlocked'][_0x45bd7d(0x2bf)]=!![],gameState[_0x45bd7d(0x34c)][_0x45bd7d(0x424)]=!![]);gameState[_0x45bd7d(0x350)]>=0x1&&(gameState[_0x45bd7d(0x1df)]=!![],gameState[_0x45bd7d(0x34c)]['forge']=!![]);gameState[_0x45bd7d(0x3be)]>=0x1&&(gameState[_0x45bd7d(0x152)]=!![],gameState[_0x45bd7d(0x3b4)]=!![],gameState[_0x45bd7d(0x34c)]['farm']=!![],gameState[_0x45bd7d(0x34c)][_0x45bd7d(0x295)]=!![],gameState[_0x45bd7d(0x34c)][_0x45bd7d(0x3bc)]=!![]);gameState[_0x45bd7d(0x39a)]>=0x1&&(gameState[_0x45bd7d(0x3d1)]=!![]);gameState[_0x45bd7d(0x221)]>=0x1&&(gameState['isArmyTabUnlocked']=!![]);gameState['collegeAmount']>=0x1&&(gameState[_0x45bd7d(0x302)]=!![],gameState[_0x45bd7d(0x348)]=!![],gameState[_0x45bd7d(0x150)]=!![]);gameState[_0x45bd7d(0x174)]>=0x1&&(gameState[_0x45bd7d(0x3d8)]=!![]);for(const _0x27f4af of[_0x45bd7d(0x1a0),_0x45bd7d(0x258),_0x45bd7d(0x3ce),_0x45bd7d(0x2da),_0x45bd7d(0x37d),_0x45bd7d(0x1d0),_0x45bd7d(0x156),_0x45bd7d(0x166)]){gameState[_0x45bd7d(0x343)][_0x45bd7d(0x210)](_0x27f4af)&&(gameState['buildingsUnlocked'][_0x27f4af]=!![]);}for(const _0xc4a8ab of[_0x45bd7d(0x3b7),_0x45bd7d(0x3b5)]){soulState['shopItemsOwned']['includes'](_0xc4a8ab)&&(gameState['buildingsUnlocked'][_0xc4a8ab]=!![]);}gameState[_0x45bd7d(0x429)]===!![]?$(_0x45bd7d(0x189))[_0x45bd7d(0x28a)]['remove']('display-none'):$('#wood-resource-card')[_0x45bd7d(0x28a)]['add'](_0x45bd7d(0x2e8));gameState['isStoneUnlocked']===!![]?$('#stone-resource-card')[_0x45bd7d(0x28a)]['remove']('display-none'):$('#stone-resource-card')[_0x45bd7d(0x28a)][_0x45bd7d(0x375)]('display-none');gameState[_0x45bd7d(0x1df)]===!![]?($(_0x45bd7d(0x15a))[_0x45bd7d(0x28a)][_0x45bd7d(0x3d3)](_0x45bd7d(0x2e8)),$(_0x45bd7d(0x36c))[_0x45bd7d(0x28a)][_0x45bd7d(0x3d3)]('display-none')):($(_0x45bd7d(0x15a))[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x2e8)),$(_0x45bd7d(0x36c))[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x2e8)));gameState[_0x45bd7d(0x3b4)]===!![]?($(_0x45bd7d(0x382))['classList'][_0x45bd7d(0x3d3)](_0x45bd7d(0x2e8)),$(_0x45bd7d(0x16e))[_0x45bd7d(0x28a)][_0x45bd7d(0x3d3)]('display-none')):($(_0x45bd7d(0x382))[_0x45bd7d(0x28a)][_0x45bd7d(0x375)]('display-none'),$(_0x45bd7d(0x16e))[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x2e8)));gameState[_0x45bd7d(0x348)]===!![]?$(_0x45bd7d(0x220))['classList'][_0x45bd7d(0x3d3)](_0x45bd7d(0x2e8)):$(_0x45bd7d(0x220))['classList'][_0x45bd7d(0x375)]('display-none');gameState[_0x45bd7d(0x2d0)]===!![]?$(_0x45bd7d(0x3a0))[_0x45bd7d(0x28a)][_0x45bd7d(0x3d3)](_0x45bd7d(0x2e8)):$(_0x45bd7d(0x3a0))[_0x45bd7d(0x28a)]['add']('display-none');gameState[_0x45bd7d(0x360)]===!![]?$('#magic-resource-card')[_0x45bd7d(0x28a)]['remove'](_0x45bd7d(0x2e8)):$(_0x45bd7d(0x15b))[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x2e8));gameState[_0x45bd7d(0x417)]===!![]?$(_0x45bd7d(0x18d))['classList'][_0x45bd7d(0x3d3)](_0x45bd7d(0x2e8)):$(_0x45bd7d(0x18d))[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x2e8));gameState[_0x45bd7d(0x3b8)]===!![]?$('#miner-card')[_0x45bd7d(0x28a)][_0x45bd7d(0x3d3)]('display-none'):$('#miner-card')[_0x45bd7d(0x28a)]['add'](_0x45bd7d(0x2e8));gameState['isFarmerUnlocked']===!![]?$(_0x45bd7d(0x3cf))['classList'][_0x45bd7d(0x3d3)](_0x45bd7d(0x2e8)):$(_0x45bd7d(0x3cf))[_0x45bd7d(0x28a)]['add']('display-none');gameState[_0x45bd7d(0x152)]===!![]?$(_0x45bd7d(0x406))[_0x45bd7d(0x28a)][_0x45bd7d(0x3d3)](_0x45bd7d(0x2e8)):$(_0x45bd7d(0x406))[_0x45bd7d(0x28a)][_0x45bd7d(0x375)]('display-none');gameState['isScholarUnlocked']===!![]?$(_0x45bd7d(0x293))['classList'][_0x45bd7d(0x3d3)]('display-none'):$('#scholar-card')['classList'][_0x45bd7d(0x375)]('display-none');gameState['isHerbalistUnlocked']===!![]?$('#herbalist-card')[_0x45bd7d(0x28a)]['remove']('display-none'):$(_0x45bd7d(0x274))['classList'][_0x45bd7d(0x375)](_0x45bd7d(0x2e8));gameState[_0x45bd7d(0x34c)][_0x45bd7d(0x433)]===!![]?($(_0x45bd7d(0x31a))[_0x45bd7d(0x28a)]['remove']('display-none'),$('#buildings')[_0x45bd7d(0x28a)]['remove'](_0x45bd7d(0x2e8))):($(_0x45bd7d(0x31a))[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x2e8)),$(_0x45bd7d(0x306))['classList'][_0x45bd7d(0x375)]('display-none'));for(const _0x180555 in gameState[_0x45bd7d(0x34c)]){const _0x5e460f=$('#'+_0x180555+_0x45bd7d(0x199));_0x5e460f[_0x45bd7d(0x28a)]['toggle'](_0x45bd7d(0x2e8),gameState[_0x45bd7d(0x34c)][_0x180555]!==!![]);}updateBuildPage(buildPageNo);gameState[_0x45bd7d(0x1c3)]===!![]?($(_0x45bd7d(0x250))['classList'][_0x45bd7d(0x3d3)](_0x45bd7d(0x2e8)),Array[_0x45bd7d(0x18e)](attackBtns)[_0x45bd7d(0x16d)](function(_0x3b8d52){const _0x458860=_0x45bd7d;_0x3b8d52['parentElement'][_0x458860(0x28a)]['remove'](_0x458860(0x2e8));}),document[_0x45bd7d(0x43d)](_0x45bd7d(0x1ba))['forEach'](_0x291594=>_0x291594['classList'][_0x45bd7d(0x375)](_0x45bd7d(0x334)))):($(_0x45bd7d(0x250))[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x2e8)),Array['from'](attackBtns)[_0x45bd7d(0x16d)](function(_0xefd516){const _0x4abea6=_0x45bd7d;_0xefd516[_0x4abea6(0x1c9)][_0x4abea6(0x28a)][_0x4abea6(0x375)]('display-none');}),document[_0x45bd7d(0x43d)](_0x45bd7d(0x1ba))[_0x45bd7d(0x16d)](_0x431927=>_0x431927['classList'][_0x45bd7d(0x3d3)](_0x45bd7d(0x334))));Object['values'](gameState['buildingsUnlocked'])[_0x45bd7d(0x325)](_0x267f64=>_0x267f64)[_0x45bd7d(0x2aa)]>buildPageMaxItems?$('#build-menu-page-btns-container')[_0x45bd7d(0x28a)][_0x45bd7d(0x3d3)]('display-none'):$('#build-menu-page-btns-container')[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x2e8));gameState[_0x45bd7d(0x150)]===!![]?$(_0x45bd7d(0x27b))[_0x45bd7d(0x28a)]['remove'](_0x45bd7d(0x2e8)):$(_0x45bd7d(0x27b))[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x2e8));if(soulState[_0x45bd7d(0x1e1)]>0x1&&gameState[_0x45bd7d(0x2ee)][_0x45bd7d(0x2aa)]!==0x40)prestigeCounterContainer[_0x45bd7d(0x28a)][_0x45bd7d(0x3d3)](_0x45bd7d(0x2e8));else gameState[_0x45bd7d(0x2ee)][_0x45bd7d(0x2aa)]===0x40?(prestigeBtn['classList'][_0x45bd7d(0x3d3)]('display-none'),prestigeCounterContainer[_0x45bd7d(0x28a)][_0x45bd7d(0x375)]('display-none')):(prestigeCounterContainer[_0x45bd7d(0x28a)]['add'](_0x45bd7d(0x2e8)),prestigeBtn[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x2e8)));const _0x331e41=document[_0x45bd7d(0x43d)](_0x45bd7d(0x432));for(const _0x142eeb of[_0x45bd7d(0x1a2),'frost','arcane']){gameState[_0x45bd7d(0x343)]['includes'](_0x142eeb+_0x45bd7d(0x11a))?_0x331e41[_0x45bd7d(0x16d)](_0x596927=>{const _0x514e26=_0x45bd7d;_0x596927[_0x514e26(0x3ec)][_0x514e26(0x198)]===_0x142eeb+_0x514e26(0x11a)&&_0x596927[_0x514e26(0x28a)]['remove'](_0x514e26(0x2e8));}):_0x331e41[_0x45bd7d(0x16d)](_0x2885cd=>{const _0x5dfebe=_0x45bd7d;_0x2885cd[_0x5dfebe(0x3ec)][_0x5dfebe(0x198)]===_0x142eeb+_0x5dfebe(0x11a)&&_0x2885cd[_0x5dfebe(0x28a)][_0x5dfebe(0x375)](_0x5dfebe(0x2e8));});}gameState[_0x45bd7d(0x2f2)]||gameState['isTechTreeUnlocked']?document[_0x45bd7d(0x411)](_0x45bd7d(0x26f))['classList']['remove'](_0x45bd7d(0x2e8)):document[_0x45bd7d(0x411)](_0x45bd7d(0x26f))[_0x45bd7d(0x28a)]['add']('display-none');soulState['prestige']>0x1&&(gameState[_0x45bd7d(0x2f2)]=!![]);gameState[_0x45bd7d(0x2f2)]===!![]?championMenuBtn[_0x45bd7d(0x28a)][_0x45bd7d(0x3d3)](_0x45bd7d(0x2e8)):championMenuBtn[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x2e8));soulState[_0x45bd7d(0x1e1)]>0x1&&(gameState[_0x45bd7d(0x150)]=!![]);soulState['shopItemsOwned'][_0x45bd7d(0x210)]('extraBag1')?document[_0x45bd7d(0x411)](_0x45bd7d(0x2fa))[_0x45bd7d(0x28a)]['remove'](_0x45bd7d(0x2e8)):document[_0x45bd7d(0x411)](_0x45bd7d(0x2fa))[_0x45bd7d(0x28a)][_0x45bd7d(0x375)]('display-none');soulState[_0x45bd7d(0x2b7)][_0x45bd7d(0x210)](_0x45bd7d(0x37e))?document[_0x45bd7d(0x411)]('#bag-btn-3')['classList'][_0x45bd7d(0x3d3)]('display-none'):document['querySelector']('#bag-btn-3')[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x2e8));soulState['shopItemsOwned'][_0x45bd7d(0x210)](_0x45bd7d(0x3b3))?shopItems[_0x45bd7d(0x16d)](_0x286a66=>{const _0x1856b7=_0x45bd7d;_0x286a66[_0x1856b7(0x3ec)][_0x1856b7(0x2cc)]===_0x1856b7(0x403)&&_0x286a66[_0x1856b7(0x28a)][_0x1856b7(0x3d3)](_0x1856b7(0x2e8));}):shopItems[_0x45bd7d(0x16d)](_0x4abec9=>{const _0x2ac0e1=_0x45bd7d;_0x4abec9[_0x2ac0e1(0x3ec)][_0x2ac0e1(0x2cc)]===_0x2ac0e1(0x403)&&_0x4abec9[_0x2ac0e1(0x28a)]['add'](_0x2ac0e1(0x2e8));});soulState[_0x45bd7d(0x2b7)][_0x45bd7d(0x210)]('potionRecipeBook')?document[_0x45bd7d(0x411)]('.potion-recipe-book-btn')[_0x45bd7d(0x28a)][_0x45bd7d(0x3d3)](_0x45bd7d(0x2e8)):document[_0x45bd7d(0x411)]('.potion-recipe-book-btn')[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x2e8));soulState[_0x45bd7d(0x2b7)]['includes'](_0x45bd7d(0x2c9))?document[_0x45bd7d(0x411)](_0x45bd7d(0x312))[_0x45bd7d(0x28a)]['remove'](_0x45bd7d(0x2e8)):document['querySelector'](_0x45bd7d(0x312))[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x2e8));soulState[_0x45bd7d(0x2b7)]['includes'](_0x45bd7d(0x14f))?$('#calc-win-chance-btn')[_0x45bd7d(0x28a)][_0x45bd7d(0x3d3)]('display-none'):$(_0x45bd7d(0x1ec))[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x2e8));soulState[_0x45bd7d(0x2b7)]['includes'](_0x45bd7d(0x3d6))?$(_0x45bd7d(0x1b9))[_0x45bd7d(0x28a)][_0x45bd7d(0x3d3)](_0x45bd7d(0x2e8)):$(_0x45bd7d(0x1b9))[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x2e8));soulState[_0x45bd7d(0x2b7)][_0x45bd7d(0x210)](_0x45bd7d(0x30a))?$(_0x45bd7d(0x2cd))[_0x45bd7d(0x28a)][_0x45bd7d(0x3d3)](_0x45bd7d(0x2e8)):$(_0x45bd7d(0x2cd))['classList'][_0x45bd7d(0x375)](_0x45bd7d(0x2e8));soulState[_0x45bd7d(0x2b7)][_0x45bd7d(0x210)](_0x45bd7d(0x1c7))?optimizeForBonusBtns['forEach'](_0x4f5d7d=>_0x4f5d7d['classList'][_0x45bd7d(0x3d3)]('pointer-events-none')):optimizeForBonusBtns['forEach'](_0x350829=>_0x350829[_0x45bd7d(0x28a)]['add'](_0x45bd7d(0x289)));soulState['shopItemsOwned']['includes'](_0x45bd7d(0x25b))?bookBtns['forEach'](_0x482ccd=>{const _0x5320bf=_0x45bd7d;_0x482ccd['dataset'][_0x5320bf(0x1e9)]==='bookOfMages'&&_0x482ccd[_0x5320bf(0x28a)][_0x5320bf(0x3d3)](_0x5320bf(0x2e8));}):bookBtns['forEach'](_0x537957=>{const _0x41dba2=_0x45bd7d;_0x537957[_0x41dba2(0x3ec)][_0x41dba2(0x1e9)]===_0x41dba2(0x25b)&&_0x537957['classList'][_0x41dba2(0x375)]('display-none');});soulState[_0x45bd7d(0x2b7)][_0x45bd7d(0x210)](_0x45bd7d(0x3b3))?bookBtns['forEach'](_0x29cce7=>{const _0x58a952=_0x45bd7d;_0x29cce7[_0x58a952(0x3ec)][_0x58a952(0x1e9)]===_0x58a952(0x3b3)&&_0x29cce7[_0x58a952(0x28a)][_0x58a952(0x3d3)](_0x58a952(0x2e8));}):bookBtns[_0x45bd7d(0x16d)](_0xaf8e3e=>{const _0x5dbeb0=_0x45bd7d;_0xaf8e3e['dataset'][_0x5dbeb0(0x1e9)]===_0x5dbeb0(0x3b3)&&_0xaf8e3e[_0x5dbeb0(0x28a)][_0x5dbeb0(0x375)](_0x5dbeb0(0x2e8));});soulState[_0x45bd7d(0x2b7)][_0x45bd7d(0x210)](_0x45bd7d(0x3b5))?$(_0x45bd7d(0x1c0))['classList'][_0x45bd7d(0x3d3)](_0x45bd7d(0x2e8)):$(_0x45bd7d(0x1c0))[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x2e8));soulState[_0x45bd7d(0x2b7)][_0x45bd7d(0x210)](_0x45bd7d(0x3b7))?$('#commandPost-card')[_0x45bd7d(0x28a)][_0x45bd7d(0x3d3)](_0x45bd7d(0x2e8)):$('#commandPost-card')['classList'][_0x45bd7d(0x375)](_0x45bd7d(0x2e8));for(const _0x47a046 of[_0x45bd7d(0x117),_0x45bd7d(0x1be)]){setUnitVisibility(_0x47a046,soulState[_0x45bd7d(0x2b7)]['includes'](_0x47a046));}let _0x31070d=0x0;for(let _0x6fc940=0x0;_0x6fc940<Object[_0x45bd7d(0x2fe)](gameState[_0x45bd7d(0x3c0)])['length'];_0x6fc940++){gameState['tiles']['t'+_0x6fc940]==='commandPost'&&_0x31070d++;}combatSpeedBtn[_0x45bd7d(0x28a)][_0x45bd7d(0x3d3)](_0x45bd7d(0x2e8));if(_0x31070d===0x1&&gameState[_0x45bd7d(0x392)]<0x8)gameState[_0x45bd7d(0x392)]=0x8;else{if(_0x31070d===0x2&&gameState['combatInterval']<0x5)gameState[_0x45bd7d(0x392)]=0x5;else{if(_0x31070d===0x3&&gameState['combatInterval']<0x2)gameState[_0x45bd7d(0x392)]=0x2;else _0x31070d===0x4&&(document[_0x45bd7d(0x411)](_0x45bd7d(0x441))[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x3d4)),document['querySelector'](_0x45bd7d(0x13d))[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x3d4)));}}_0x31070d!==0x4&&(document['querySelector'](_0x45bd7d(0x441))['classList'][_0x45bd7d(0x3d3)](_0x45bd7d(0x3d4)),document[_0x45bd7d(0x411)](_0x45bd7d(0x13d))[_0x45bd7d(0x28a)][_0x45bd7d(0x3d3)]('building-max'));_0x31070d===0x0&&(combatSpeedBtn[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x2e8)),gameState['combatInterval']=0xa);updateCombatSpeedBtn(),window[_0x45bd7d(0x193)]=updateUnlocks;let _0xcd0c39=0x0;for(let _0x2dac52=0x0;_0x2dac52<Object[_0x45bd7d(0x2fe)](gameState[_0x45bd7d(0x3c0)])[_0x45bd7d(0x2aa)];_0x2dac52++){gameState[_0x45bd7d(0x3c0)]['t'+_0x2dac52]===_0x45bd7d(0x166)&&_0xcd0c39++,_0xcd0c39===0x1?(document[_0x45bd7d(0x411)]('#alchemistHut-card')[_0x45bd7d(0x28a)]['add']('building-max'),document[_0x45bd7d(0x411)](_0x45bd7d(0x2ac))['classList'][_0x45bd7d(0x375)]('building-max')):(document[_0x45bd7d(0x411)](_0x45bd7d(0x21a))['classList'][_0x45bd7d(0x3d3)](_0x45bd7d(0x3d4)),document[_0x45bd7d(0x411)](_0x45bd7d(0x2ac))[_0x45bd7d(0x28a)][_0x45bd7d(0x3d3)](_0x45bd7d(0x3d4)));}let _0x5c7f98=0x0;for(let _0x4cb05b=0x0;_0x4cb05b<Object[_0x45bd7d(0x2fe)](gameState['tiles'])[_0x45bd7d(0x2aa)];_0x4cb05b++){gameState[_0x45bd7d(0x3c0)]['t'+_0x4cb05b]==='herbalGarden'&&_0x5c7f98++,_0x5c7f98>=0x9?(document[_0x45bd7d(0x411)](_0x45bd7d(0x3d5))[_0x45bd7d(0x28a)][_0x45bd7d(0x375)](_0x45bd7d(0x3d4)),document[_0x45bd7d(0x411)](_0x45bd7d(0x366))['classList']['add']('building-max')):(document[_0x45bd7d(0x411)]('#herbalGarden-card')[_0x45bd7d(0x28a)][_0x45bd7d(0x3d3)](_0x45bd7d(0x3d4)),document['querySelector'](_0x45bd7d(0x366))['classList'][_0x45bd7d(0x3d3)](_0x45bd7d(0x3d4)));}gardenPlots[_0x45bd7d(0x16d)](_0x5f45eb=>{const _0x353d59=_0x45bd7d;_0x5f45eb[_0x353d59(0x3ec)][_0x353d59(0x31e)]<=_0x5c7f98?_0x5f45eb[_0x353d59(0x28a)][_0x353d59(0x3d3)](_0x353d59(0x3f3)):(_0x5f45eb[_0x353d59(0x28a)]['add'](_0x353d59(0x3f3)),gameState[_0x353d59(0x336)]['p'+_0x5f45eb[_0x353d59(0x3ec)][_0x353d59(0x31e)]][_0x353d59(0x21c)]=null,gameState[_0x353d59(0x336)]['p'+_0x5f45eb['dataset'][_0x353d59(0x31e)]][_0x353d59(0x259)]=0x0,loadPlants());});let _0x500f64=document[_0x45bd7d(0x446)](_0x45bd7d(0x2dd)),_0x48f394=document[_0x45bd7d(0x446)](_0x45bd7d(0x431));window[_0x45bd7d(0x296)]=function _0x5310e9(){const _0x26a21c=_0x45bd7d;Array['from'](_0x500f64)[_0x26a21c(0x16d)](_0x195df9=>{const _0x22890a=_0x26a21c;_0x195df9[_0x22890a(0x28a)][_0x22890a(0x3d3)]('sacrifice-unit-button'),_0x195df9[_0x22890a(0x41b)]=_0x22890a(0x3f7);}),Array[_0x26a21c(0x18e)](_0x48f394)['forEach'](_0x27beb9=>{const _0x12a0d3=_0x26a21c;_0x27beb9[_0x12a0d3(0x28a)][_0x12a0d3(0x3d3)](_0x12a0d3(0x1d3)),_0x27beb9[_0x12a0d3(0x41b)]='Retire';});};gameState[_0x45bd7d(0x343)][_0x45bd7d(0x210)]('sacrificialBlood')?(Array[_0x45bd7d(0x18e)](_0x500f64)[_0x45bd7d(0x16d)](function(_0x358f4a){const _0x534f9f=_0x45bd7d;_0x358f4a[_0x534f9f(0x28a)][_0x534f9f(0x375)](_0x534f9f(0x1d3)),_0x358f4a[_0x534f9f(0x41b)]='Sacrifice',isSacrificeAnimation===![]&&(_0x358f4a[_0x534f9f(0x147)]['animation']=_0x534f9f(0x223),setTimeout(()=>{_0x358f4a['style']['animation']='';},0x3e8));}),Array['from'](_0x48f394)[_0x45bd7d(0x16d)](function(_0x3d2915){const _0x228fbc=_0x45bd7d;_0x3d2915['classList']['add']('sacrifice-unit-button'),_0x3d2915['innerText']='Sacrifice',isSacrificeAnimation===![]&&(_0x3d2915[_0x228fbc(0x147)][_0x228fbc(0x398)]=_0x228fbc(0x223),setTimeout(()=>{const _0x4bea64=_0x228fbc;_0x3d2915[_0x4bea64(0x147)][_0x4bea64(0x398)]='';},0x3e8));}),document['getElementById'](_0x45bd7d(0x35e))['classList']['remove']('display-none'),isSacrificeAnimation=!![]):(Array[_0x45bd7d(0x18e)](_0x500f64)['forEach'](function(_0x1f9f98){const _0x2d1f42=_0x45bd7d;_0x1f9f98[_0x2d1f42(0x28a)][_0x2d1f42(0x3d3)](_0x2d1f42(0x1d3)),_0x1f9f98[_0x2d1f42(0x41b)]=_0x2d1f42(0x3f7);}),document[_0x45bd7d(0x37b)](_0x45bd7d(0x35e))[_0x45bd7d(0x28a)]['add']('display-none'));setUnitVisibility(_0x45bd7d(0x26a),getPerkCount(_0x45bd7d(0x26a))>0x0),setUnitVisibility(_0x45bd7d(0x29a),getPerkCount(_0x45bd7d(0x29a))>0x0),setUnitVisibility('bloodDemon',getPerkCount(_0x45bd7d(0x3c4))>0x0);gameState[_0x45bd7d(0x328)][_0x45bd7d(0x26a)]>0x0&&(gameState[_0x45bd7d(0x137)]=!![]);gameState[_0x45bd7d(0x328)][_0x45bd7d(0x29a)]>0x0&&(gameState[_0x45bd7d(0x1f2)]=!![]);gameState['armyUnits'][_0x45bd7d(0x3c4)]>0x0&&(gameState[_0x45bd7d(0x202)]=!![]);gameState['isImpUnlocked']&&setUnitVisibility(_0x45bd7d(0x26a),!![]);gameState[_0x45bd7d(0x1f2)]&&setUnitVisibility(_0x45bd7d(0x29a),!![]);gameState['isBloodDemonUnlocked']&&setUnitVisibility('bloodDemon',!![]);for(const _0x26c35d in collegeUnits){setUnitVisibility(collegeUnits[_0x26c35d],gameState[_0x45bd7d(0x343)][_0x45bd7d(0x210)](_0x26c35d));}for(const _0x45c5a8 of[_0x45bd7d(0x2a3),_0x45bd7d(0x2dc)]){setUnitVisibility(_0x45c5a8,gameState[_0x45bd7d(0x343)][_0x45bd7d(0x210)](_0x45c5a8));}gameState[_0x45bd7d(0x343)][_0x45bd7d(0x210)]('rainingBlood')&&(eventTerminate(),showEvent(_0x45bd7d(0x33b))),Array[_0x45bd7d(0x18e)](increaseArmyUnitBtns)[_0x45bd7d(0x16d)](_0x205f85=>{const _0x3364c0=_0x45bd7d;_0x205f85[_0x3364c0(0x3ec)][_0x3364c0(0x3a7)]===_0x3364c0(0x26a)&&(gameState[_0x3364c0(0x343)][_0x3364c0(0x210)](_0x3364c0(0x26a))?_0x205f85[_0x3364c0(0x28a)]['remove'](_0x3364c0(0x2e8)):_0x205f85[_0x3364c0(0x28a)][_0x3364c0(0x375)](_0x3364c0(0x2e8))),_0x205f85[_0x3364c0(0x3ec)]['unitType']==='succubus'&&(gameState[_0x3364c0(0x343)][_0x3364c0(0x210)](_0x3364c0(0x29a))?_0x205f85[_0x3364c0(0x28a)][_0x3364c0(0x3d3)](_0x3364c0(0x2e8)):_0x205f85[_0x3364c0(0x28a)][_0x3364c0(0x375)](_0x3364c0(0x2e8))),_0x205f85[_0x3364c0(0x3ec)]['unitType']===_0x3364c0(0x3c4)&&(gameState['perksUnlocked'][_0x3364c0(0x210)](_0x3364c0(0x3c4))?_0x205f85[_0x3364c0(0x28a)][_0x3364c0(0x3d3)]('display-none'):_0x205f85[_0x3364c0(0x28a)]['add']('display-none'));}),updateUnlockedPlants();}function setUnitVisibility(_0x46c527,_0x55f237){const _0xa09b36=a10_0x2adce8,_0x3d4a79=document[_0xa09b36(0x411)](_0xa09b36(0x2ff)+_0x46c527+'\x22]'),_0x48ffdd=document[_0xa09b36(0x411)](_0xa09b36(0x208)+_0x46c527+'\x22]');_0x3d4a79['classList']['toggle'](_0xa09b36(0x2e8),!_0x55f237),_0x48ffdd[_0xa09b36(0x28a)][_0xa09b36(0x3fc)](_0xa09b36(0x2e8),!_0x55f237);}const collegeUnits={'collegeOfFire':a10_0x2adce8(0x327),'collegeOfFrost':'frostMage','collegeOfArcanum':a10_0x2adce8(0x201)};function getCollegeAction(_0x147823){const _0x5b92d9=a10_0x2adce8,_0x6be35f=collegeUnits[_0x147823];return{'building':_0x147823,'readyText':_0x5b92d9(0x24c),get 'autoPerform'(){const _0x501145=_0x5b92d9;return gameState[_0x501145(0x343)][_0x501145(0x210)](_0x6be35f['replace'](/Mage$/,'')+_0x501145(0x11a))?gameState[_0x501145(0x18b)][_0x147823]:![];},'performAction':()=>trainMage(_0x147823,_0x6be35f),get 'duration'(){const _0x93b4f2=_0x5b92d9;return(gameState[_0x93b4f2(0x343)][_0x93b4f2(0x210)](_0x93b4f2(0x12f)+capitalizeFirstLetter(_0x147823))?0x12c:0x258)*ticksPerSecond;}};}const buildingActions={'summonRandomDemon':{'building':a10_0x2adce8(0x3ce),'readyText':'Summon','performAction':summonRandomDemon,get 'duration'(){const _0x50f84d=a10_0x2adce8;return(gameState['perksUnlocked']['includes'](_0x50f84d(0x1de))?0x12c:0x258)*ticksPerSecond;}},'trainFireMage':getCollegeAction(a10_0x2adce8(0x2da)),'trainFrostMage':getCollegeAction(a10_0x2adce8(0x1d0)),'trainArcaneMage':getCollegeAction(a10_0x2adce8(0x37d))};for(const action in buildingActions){const actionBtn=document[a10_0x2adce8(0x411)]('#'+buildingActions[action]['building']+a10_0x2adce8(0x2ba));actionBtn[a10_0x2adce8(0x362)]('click',()=>{const _0x4525ec=a10_0x2adce8,{building:_0xf2efac,performAction:_0x4068a0,duration:_0x478eea}=buildingActions[action];if(gameState[_0xf2efac+_0x4525ec(0x3da)]>=_0x478eea)_0x4068a0();});}function updateBuildingActions(){const _0x23559f=a10_0x2adce8;for(const _0x16f3ad in buildingActions){const {building:_0x47f0b0,duration:_0x4bce96,readyText:_0x7cd5c9,autoPerform:_0x362ddc,performAction:_0x1ce9d0}=buildingActions[_0x16f3ad],_0x2ad8f8=document[_0x23559f(0x411)]('#'+_0x47f0b0+_0x23559f(0x2de));if(gameState[_0x47f0b0+'Amount']>0x0){const _0x337e49=_0x2ad8f8[_0x23559f(0x411)](_0x23559f(0x3ef)),_0x3c24a1=_0x2ad8f8[_0x23559f(0x411)](_0x23559f(0x3db)),_0x176c03=gameState[_0x47f0b0+_0x23559f(0x3da)]>=_0x4bce96,_0x17ecbc=_0x23559f(0x3cb)+_0x47f0b0+(_0x176c03?_0x23559f(0x370):'')+_0x23559f(0x351),_0x658fc4=Math[_0x23559f(0x1d8)](gameState[_0x47f0b0+_0x23559f(0x3da)]*0x64/_0x4bce96)+'%';_0x337e49[_0x23559f(0x147)][_0x23559f(0x41d)]=_0x658fc4;_0x176c03?(_0x337e49[_0x23559f(0x28a)]['add'](_0x23559f(0x35c)),_0x3c24a1[_0x23559f(0x41b)]=_0x7cd5c9):(gameState[_0x47f0b0+_0x23559f(0x3da)]++,_0x337e49[_0x23559f(0x28a)][_0x23559f(0x3d3)](_0x23559f(0x35c)),_0x3c24a1[_0x23559f(0x41b)]=_0x658fc4);for(const {id:_0x480853}of tileElements){if(gameState[_0x23559f(0x3c0)][_0x480853]===_0x47f0b0){const _0x438727=document['getElementById'](_0x480853+_0x23559f(0x24e))[_0x23559f(0x3b1)];if(_0x438727['attributes']['src'][_0x23559f(0x1f0)]!==_0x17ecbc)_0x438727['src']=_0x17ecbc;}}_0x176c03&&_0x362ddc&&_0x1ce9d0();}}}function summonRandomDemon(){const _0x4c6b5a=a10_0x2adce8;if(maxPopulation['army']-gameState[_0x4c6b5a(0x225)]>=gameState[_0x4c6b5a(0x13c)]){gameState[_0x4c6b5a(0x435)]=0x0;for(let _0x74ff0a=0x0;_0x74ff0a<gameState[_0x4c6b5a(0x13c)];_0x74ff0a++){let _0x389d7a=Math[_0x4c6b5a(0x122)]()*0x3;if(_0x389d7a>0x0&&_0x389d7a<0x1)gameState['armyUnits'][_0x4c6b5a(0x26a)]++;else _0x389d7a>0x1&&_0x389d7a<0x2?gameState[_0x4c6b5a(0x328)][_0x4c6b5a(0x29a)]++:gameState['armyUnits'][_0x4c6b5a(0x3c4)]++;}}updateUnlocks();}function trainMage(_0x178e5e,_0xea4e6){const _0xd471a5=a10_0x2adce8,_0x3a9e62=gameState[_0x178e5e+'Amount'];gameState[_0xd471a5(0x22a)][_0xd471a5(0x396)]>=_0x3a9e62&&gameState[_0xd471a5(0x225)]+_0x3a9e62<=maxPopulation['army']&&(gameState[_0x178e5e+_0xd471a5(0x3da)]=0x0,gameState[_0xd471a5(0x22a)][_0xd471a5(0x396)]-=_0x3a9e62,gameState[_0xd471a5(0x328)][_0xea4e6]+=_0x3a9e62);}const settingsBtn=document['querySelector'](a10_0x2adce8(0x172)),settingsMenu=document[a10_0x2adce8(0x411)]('.settings-menu'),settingsMenuContent=document['querySelector'](a10_0x2adce8(0x229)),closeSettingsMenuBtn=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x204));settingsBtn['addEventListener'](a10_0x2adce8(0x2c0),openSettings),closeSettingsMenuBtn['addEventListener'](a10_0x2adce8(0x2c0),closeSettings);function openSettings(){const _0x448d8f=a10_0x2adce8;settingsMenu[_0x448d8f(0x28a)][_0x448d8f(0x3d3)](_0x448d8f(0x2e8));}function closeSettings(){const _0x3982a3=a10_0x2adce8;settingsMenu['classList'][_0x3982a3(0x375)](_0x3982a3(0x2e8)),document[_0x3982a3(0x411)](_0x3982a3(0x184))[_0x3982a3(0x41b)]='';}let clickedSettingsMenuContent=![];settingsMenu[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),()=>{clickedSettingsMenuContent?clickedSettingsMenuContent=![]:closeSettings();}),settingsMenuContent[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),()=>{clickedSettingsMenuContent=!![];}),attachClickSaveHandlers(_0x1460fb=>{const _0x29c198=a10_0x2adce8;if(_0x1460fb[_0x29c198(0x2fd)])soulState=_0x1460fb[_0x29c198(0x3c2)][_0x29c198(0x44e)],gameState=_0x1460fb[_0x29c198(0x3c2)][_0x29c198(0x1f4)],resetUI();else{let _0x3b33c9=_0x1460fb[_0x29c198(0x1bb)];console[_0x29c198(0x24a)](_0x3b33c9),document['querySelector'](_0x29c198(0x184))[_0x29c198(0x41b)]=_0x3b33c9;}});const resetGameBtn=document['getElementById'](a10_0x2adce8(0x242)),confirmResetGameBtn=document[a10_0x2adce8(0x37b)](a10_0x2adce8(0x29b)),abandonResetGameBtn=document[a10_0x2adce8(0x37b)](a10_0x2adce8(0x2d4));resetGameBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),function(){const _0x4d1dfb=a10_0x2adce8;document[_0x4d1dfb(0x37b)]('reset-game-popup')[_0x4d1dfb(0x28a)][_0x4d1dfb(0x3d3)](_0x4d1dfb(0x2e8));}),confirmResetGameBtn[a10_0x2adce8(0x362)]('click',fullReset);function resetGame(){const _0x3ec1af=a10_0x2adce8;gameState=JSON['parse'](JSON['stringify'](originalGameState)),unitAttack=JSON[_0x3ec1af(0x3c8)](JSON[_0x3ec1af(0x307)](originalUnitAttack)),unitDefense=JSON[_0x3ec1af(0x3c8)](JSON['stringify'](originalUnitDefense)),enemyStructureUnits=JSON['parse'](JSON[_0x3ec1af(0x307)](originalEnemyStructureUnits)),resetUI();};let resettingGame=![];function fullReset(){const _0x30a88e=a10_0x2adce8;resettingGame=!![],tickWorker[_0x30a88e(0x1b3)](),window['localStorage'][_0x30a88e(0x43c)](),location[_0x30a88e(0x230)]();}function resetUI(){const _0x1c779c=a10_0x2adce8;document[_0x1c779c(0x37b)](_0x1c779c(0x195))[_0x1c779c(0x28a)][_0x1c779c(0x375)](_0x1c779c(0x2e8)),Array['from'](tileElements)[_0x1c779c(0x16d)](function(_0x5cbe1c){const _0x13adef=_0x1c779c;let _0x357bed=document[_0x13adef(0x37b)](_0x5cbe1c['id']+_0x13adef(0x24e));while(_0x357bed[_0x13adef(0x3b1)]){_0x357bed[_0x13adef(0x32e)](_0x357bed[_0x13adef(0x3b1)]);}}),closeEnemyMenu(),closeBuildingInfoMenu(),closeBuildMenu(),closePreFightkMenu(),closeTechTreeMenu(),closeChampionMenu(),closeSettings(),closeVicDef(),updateBuildingPrices(),updateUnlocks(),loadBuildingIMGS(),openCivilTab(),endCombat(),updateTechTree(),refreshFog(),updateEnemyCounts(),loadPlants(),loadItemIMGS(soulState),resetDecreaseUnitBtns(),initEventUI(),updateIronProductionRateView(),updateUnitAttack(),updateUnitDefense(),document['querySelectorAll'](_0x1c779c(0x178))[_0x1c779c(0x16d)](function(_0x29bc62){const _0x12f63f=_0x1c779c;_0x29bc62[_0x12f63f(0x28a)]?.[_0x12f63f(0x3d3)]('building-under-attack');}),updateBuildPage(0x1),closeSettings();}abandonResetGameBtn[a10_0x2adce8(0x362)]('click',function(){const _0xb1796d=a10_0x2adce8;document[_0xb1796d(0x37b)](_0xb1796d(0x195))['classList'][_0xb1796d(0x375)](_0xb1796d(0x2e8));});let continuePlayingBtn=$(a10_0x2adce8(0x395));function a10_0x2685(_0x3c1438,_0x18c866){return a10_0x2685=function(_0x511803,_0x2685d7){_0x511803=_0x511803-0x116;let _0x42ab6e=a10_0x5118[_0x511803];return _0x42ab6e;},a10_0x2685(_0x3c1438,_0x18c866);}continuePlayingBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),function(){const _0x372279=a10_0x2adce8;$('#cleared-board-screen')[_0x372279(0x28a)]['add'](_0x372279(0x2e8));});let closeFamineBtn=document['getElementById'](a10_0x2adce8(0x3ab));closeFamineBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),function(){const _0x4a58b1=a10_0x2adce8;document[_0x4a58b1(0x37b)]('famine-popup')['classList'][_0x4a58b1(0x375)](_0x4a58b1(0x2e8));});const closeVicDefBtn=document[a10_0x2adce8(0x37b)](a10_0x2adce8(0x2a6)),chestBtn=document[a10_0x2adce8(0x411)]('.chest-img'),discardLootBtn=document['querySelector'](a10_0x2adce8(0x2c1));gameState[a10_0x2adce8(0x175)][a10_0x2adce8(0x1bd)]!==undefined&&chestBtn['classList'][a10_0x2adce8(0x375)](a10_0x2adce8(0x1ae)+gameState[a10_0x2adce8(0x175)]['rarity']);const openChestBuildingBtn=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x3f1));Object[a10_0x2adce8(0x2fe)](gameState['chestItem'])[a10_0x2adce8(0x2aa)]>0x0&&($(a10_0x2adce8(0x176))[a10_0x2adce8(0x28a)][a10_0x2adce8(0x3d3)](a10_0x2adce8(0x2e8)),$(a10_0x2adce8(0x3a8))[a10_0x2adce8(0x28a)][a10_0x2adce8(0x3d3)](a10_0x2adce8(0x2e8)),openChestBuildingBtn['classList']['add'](a10_0x2adce8(0x2e9)));closeVicDefBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),closeVicDef),chestBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),function(){addChestItemToInventory();});function closeVicDef(){const _0x574f6d=a10_0x2adce8;document[_0x574f6d(0x37b)](_0x574f6d(0x428))[_0x574f6d(0x28a)][_0x574f6d(0x375)](_0x574f6d(0x2e8)),$(_0x574f6d(0x401))[_0x574f6d(0x28a)][_0x574f6d(0x375)](_0x574f6d(0x2e8)),$(_0x574f6d(0x3a8))[_0x574f6d(0x28a)][_0x574f6d(0x375)]('display-none'),document['querySelector'](_0x574f6d(0x1b1))[_0x574f6d(0x23e)]=_0x574f6d(0x3d2),document[_0x574f6d(0x411)](_0x574f6d(0x2c1))[_0x574f6d(0x28a)]['add'](_0x574f6d(0x2e8)),openChestBuildingBtn['classList'][_0x574f6d(0x3d3)](_0x574f6d(0x2e9)),gameState[_0x574f6d(0x310)]=0x0,currentCombatGoldCount['innerText']=gameState[_0x574f6d(0x310)],discardLootBtn[_0x574f6d(0x41b)]=_0x574f6d(0x2bc),Array['from'](attackBtns)['forEach'](function(_0x3848a0){const _0x1383da=_0x574f6d;_0x3848a0['classList'][_0x1383da(0x3d3)]('button-disabled');});};const toast=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x447));function addChestItemToInventory(){const _0x1c1fe0=a10_0x2adce8;let _0x316c41=![],_0x461847;const _0x53fea8=[_0x1c1fe0(0x2db),_0x1c1fe0(0x37e)][_0x1c1fe0(0x325)](_0x4e4999=>soulState[_0x1c1fe0(0x2b7)][_0x1c1fe0(0x210)](_0x4e4999))[_0x1c1fe0(0x2aa)];let _0x4b8b0d;_0x4b8b0d=[0x20,0x40,0x60][_0x53fea8];for(let _0x1eea1a=0x1;_0x1eea1a<_0x4b8b0d+0x1;_0x1eea1a++){_0x316c41===![]&&(Object[_0x1c1fe0(0x2fe)](soulState['i'+_0x1eea1a])[_0x1c1fe0(0x2aa)]===0x0&&(_0x461847='i'+_0x1eea1a,_0x316c41=!![]));}if(_0x316c41===![])document['querySelector'](_0x1c1fe0(0x1b1))[_0x1c1fe0(0x23e)]=_0x1c1fe0(0x3af),discardLootBtn[_0x1c1fe0(0x28a)][_0x1c1fe0(0x3d3)](_0x1c1fe0(0x2e8));else{closeVicDef(),soulState[_0x461847]=gameState['chestItem'],loadItemIMGS(soulState),isConfirmDiscardLoot=![],discardLootBtn[_0x1c1fe0(0x41b)]=_0x1c1fe0(0x2bc);const _0x4fd5f7=document[_0x1c1fe0(0x411)]('.toast-name');let _0x1f87f3;if(gameState[_0x1c1fe0(0x175)][_0x1c1fe0(0x1bd)]===_0x1c1fe0(0x11c))_0x1f87f3=_0x1c1fe0(0x434);else{if(gameState[_0x1c1fe0(0x175)][_0x1c1fe0(0x1bd)]===_0x1c1fe0(0x263))_0x1f87f3=_0x1c1fe0(0x209);else{if(gameState['chestItem'][_0x1c1fe0(0x1bd)]===_0x1c1fe0(0x1fc))_0x1f87f3=_0x1c1fe0(0x41f);else gameState['chestItem'][_0x1c1fe0(0x1bd)]===_0x1c1fe0(0x2ab)&&(_0x1f87f3=_0x1c1fe0(0x3cd));}}const _0x2b54aa=_0x1c1fe0(0x341)+gameState[_0x1c1fe0(0x175)][_0x1c1fe0(0x1b4)],_0x2a64de='Item\x20added\x20to\x20inventory:',_0x2ab1b3=gameState[_0x1c1fe0(0x175)]['name'];showToast(_0x2b54aa,_0x2a64de,_0x2ab1b3,_0x1f87f3,openChampionMenuInventory),gameState[_0x1c1fe0(0x175)]={},document['querySelector'](_0x1c1fe0(0x1b1))['innerText']='';}return _0x316c41;}function openChampionMenuInventory(){isInventoryMenuOpen===![]&&(openChampionMenu(),openInventoryMenu());}const collegeAutoConvertToggles=document['querySelectorAll'](a10_0x2adce8(0x451));collegeAutoConvertToggles[a10_0x2adce8(0x16d)](_0x11fe57=>{const _0x337c29=a10_0x2adce8;_0x11fe57['addEventListener'](_0x337c29(0x2c0),()=>toggleCollegeAutoConvert(_0x11fe57[_0x337c29(0x3ec)]['buildingType']));});function toggleCollegeAutoConvert(_0x4f6510){const _0x13d987=a10_0x2adce8;let _0x498e89=_0x4f6510||null;gameState['collegeToggles'][_0x498e89]!==null&&(gameState[_0x13d987(0x18b)][_0x498e89]===![]?gameState[_0x13d987(0x18b)][_0x498e89]=!![]:gameState[_0x13d987(0x18b)][_0x498e89]=![]),loadCollegeAutoConvert();}function loadCollegeAutoConvert(){const _0x20b29f=a10_0x2adce8;collegeAutoConvertToggles[_0x20b29f(0x16d)](_0xc875c3=>{const _0x4e8d36=_0x20b29f;gameState[_0x4e8d36(0x18b)][_0xc875c3[_0x4e8d36(0x3ec)]['buildingType']]?_0xc875c3[_0x4e8d36(0x28a)][_0x4e8d36(0x375)](_0x4e8d36(0x16c)):_0xc875c3[_0x4e8d36(0x28a)][_0x4e8d36(0x3d3)](_0x4e8d36(0x16c));});}loadCollegeAutoConvert();let isToastReady=!![];function showToast(_0x466918,_0x14b301,_0x45966b,_0x236700,_0x4ef500){const _0x16967c=a10_0x2adce8;isToastReady?(isToastReady=![],_0x4ef500?(document[_0x16967c(0x411)](_0x16967c(0x447))['addEventListener'](_0x16967c(0x2c0),_0x4ef500),document[_0x16967c(0x411)](_0x16967c(0x447))[_0x16967c(0x28a)][_0x16967c(0x375)](_0x16967c(0x397))):(document[_0x16967c(0x411)]('.toast-container')[_0x16967c(0x362)]('click'),document[_0x16967c(0x411)](_0x16967c(0x447))[_0x16967c(0x28a)]['remove'](_0x16967c(0x397))),document[_0x16967c(0x411)](_0x16967c(0x305))[_0x16967c(0x3eb)]=_0x466918,document[_0x16967c(0x411)](_0x16967c(0x38f))[_0x16967c(0x41b)]=_0x14b301,document[_0x16967c(0x411)](_0x16967c(0x3e9))['innerText']=_0x45966b,toast[_0x16967c(0x147)][_0x16967c(0x398)]=_0x16967c(0x128),toast[_0x16967c(0x28a)][_0x16967c(0x3d3)](_0x16967c(0x2e8)),setTimeout(()=>toast['style']['animation']=_0x16967c(0x3e3),0x1b58),setTimeout(()=>toast[_0x16967c(0x28a)]['add'](_0x16967c(0x2e8)),0x1f40),toast[_0x16967c(0x147)][_0x16967c(0x2e6)]=_0x236700,setTimeout(()=>{isToastReady=!![];},0x1f40)):setTimeout(()=>showToast(_0x466918,_0x14b301,_0x45966b,_0x236700,_0x4ef500),0x3e8);}let isAlchemistHutOpen=![];const gardenPlots=document[a10_0x2adce8(0x43d)](a10_0x2adce8(0x40a)),plantCards=document['querySelectorAll']('.plant-card'),plantCardsContainer=document[a10_0x2adce8(0x411)]('.plant-selection-container'),outerPlantProgressBars=document['querySelectorAll'](a10_0x2adce8(0x39c)),innerPlantProgressBars=document[a10_0x2adce8(0x43d)](a10_0x2adce8(0x1d6)),collectPlantsBtn=document['querySelector'](a10_0x2adce8(0x38c)),plantCounts=document['querySelectorAll'](a10_0x2adce8(0x26d)),potionEffectIcon=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x3e1)),potionEffectText=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x1b5)),potionTimer=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x227));let selectedPlot;gardenPlots[a10_0x2adce8(0x16d)](_0x4ca5ec=>_0x4ca5ec[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),()=>{const _0x5bb29f=a10_0x2adce8;gardenPlots[_0x5bb29f(0x16d)](_0x36ab6e=>_0x36ab6e[_0x5bb29f(0x28a)][_0x5bb29f(0x3d3)](_0x5bb29f(0x316))),_0x4ca5ec[_0x5bb29f(0x28a)][_0x5bb29f(0x375)](_0x5bb29f(0x316)),selectedPlot=_0x4ca5ec[_0x5bb29f(0x3ec)][_0x5bb29f(0x31e)],plantCardsContainer[_0x5bb29f(0x28a)][_0x5bb29f(0x3d3)](_0x5bb29f(0x2e8));}));function updateUnlockedPlants(){const _0x5b4425=a10_0x2adce8;for(const _0x4ebfdc of plantCards){const _0x24431f=_0x4ebfdc[_0x5b4425(0x3ec)][_0x5b4425(0x42e)];if(_0x24431f!=='babysBreath'){const _0x106d14=gameState[_0x5b4425(0x343)][_0x5b4425(0x210)](_0x24431f);if(_0x106d14)_0x4ebfdc[_0x5b4425(0x28a)][_0x5b4425(0x3d3)]('display-none');else _0x4ebfdc[_0x5b4425(0x28a)][_0x5b4425(0x375)](_0x5b4425(0x2e8));}}}updateUnlockedPlants(),plantCards['forEach'](_0x42def5=>_0x42def5['addEventListener'](a10_0x2adce8(0x2c0),()=>{const _0x5d3057=a10_0x2adce8;isAlchemistHutOpen===![]?(plantCardsContainer[_0x5d3057(0x28a)][_0x5d3057(0x375)]('display-none'),plant(selectedPlot,_0x42def5[_0x5d3057(0x3ec)][_0x5d3057(0x42e)])):(putInKettle(selectedKettleSlot,_0x42def5[_0x5d3057(0x3ec)][_0x5d3057(0x42e)]),updatePlantCounts()),selectedPlot=null,gardenPlots[_0x5d3057(0x16d)](_0x1b570d=>_0x1b570d[_0x5d3057(0x28a)]['remove']('garden-grid-cell-selected'));}));function plant(_0x2155b0,_0xf375a3){const _0x50ce19=a10_0x2adce8;gameState['plots']['p'+_0x2155b0][_0x50ce19(0x21c)]===null&&(gameState[_0x50ce19(0x336)]['p'+_0x2155b0][_0x50ce19(0x21c)]=_0xf375a3,loadPlants());}function increasePlantProgress(_0xe9018c){innerPlantProgressBars['forEach'](_0x240632=>{const _0x319dd9=a10_0x2685;let _0x5d1242=gameState[_0x319dd9(0x336)]['p'+_0x240632[_0x319dd9(0x3ec)]['plotNum']];_0x5d1242[_0x319dd9(0x21c)]!==null&&_0x5d1242['progress']<0x64&&(_0x5d1242[_0x319dd9(0x259)]=Math[_0x319dd9(0x16b)](_0x5d1242[_0x319dd9(0x259)]+=_0xe9018c,0x64));_0x240632['style'][_0x319dd9(0x41d)]=gameState['plots']['p'+_0x240632[_0x319dd9(0x3ec)][_0x319dd9(0x31e)]]['progress']+'%';_0x5d1242['progress']===0x64?_0x240632[_0x319dd9(0x1c9)][_0x319dd9(0x1c9)][_0x319dd9(0x28a)][_0x319dd9(0x375)](_0x319dd9(0x171)):_0x240632[_0x319dd9(0x1c9)][_0x319dd9(0x1c9)][_0x319dd9(0x28a)]['remove']('plant-ready');if(Object[_0x319dd9(0x2fe)](gameState[_0x319dd9(0x336)])[_0x319dd9(0x28c)](_0x222ac4=>gameState[_0x319dd9(0x336)][_0x222ac4][_0x319dd9(0x259)]===0x64)){collectPlantsBtn[_0x319dd9(0x28a)][_0x319dd9(0x3d3)]('button-disabled');for(const _0x57e555 in Object['keys'](gameState[_0x319dd9(0x3c0)])){gameState[_0x319dd9(0x3c0)]['t'+_0x57e555]===_0x319dd9(0x156)&&Array[_0x319dd9(0x18e)](tileOverlays)['forEach'](_0x54bca9=>{const _0x5259e5=_0x319dd9;_0x54bca9['id']==='t'+_0x57e555+_0x5259e5(0x24e)&&(_0x54bca9['firstChild'][_0x5259e5(0x3eb)]=_0x5259e5(0x385));});}}else collectPlantsBtn[_0x319dd9(0x28a)]['add'](_0x319dd9(0x2e9));});}function loadPlants(){const _0x448d77=a10_0x2adce8;gardenPlots[_0x448d77(0x16d)](_0x23e475=>{const _0xd35a83=_0x448d77;if(gameState[_0xd35a83(0x336)]['p'+_0x23e475['dataset'][_0xd35a83(0x31e)]][_0xd35a83(0x21c)]!==null&&_0x23e475[_0xd35a83(0x196)]['length']===0x1){let _0x2855d5=document[_0xd35a83(0x3a5)](_0xd35a83(0x2ed));_0x2855d5[_0xd35a83(0x3eb)]=_0xd35a83(0x341)+gameState[_0xd35a83(0x336)]['p'+_0x23e475[_0xd35a83(0x3ec)]['plotNum']][_0xd35a83(0x21c)]+'.svg',_0x2855d5['setAttribute'](_0xd35a83(0x3f6),'plant-img'),_0x23e475[_0xd35a83(0x30b)](_0x2855d5),_0x23e475[_0xd35a83(0x28a)][_0xd35a83(0x375)](_0xd35a83(0x265));}else gameState[_0xd35a83(0x336)]['p'+_0x23e475[_0xd35a83(0x3ec)][_0xd35a83(0x31e)]][_0xd35a83(0x21c)]===null&&_0x23e475[_0xd35a83(0x196)][_0xd35a83(0x2aa)]===0x2&&(_0x23e475['removeChild'](_0x23e475[_0xd35a83(0x333)]),_0x23e475[_0xd35a83(0x28a)][_0xd35a83(0x3d3)](_0xd35a83(0x265)));}),outerPlantProgressBars['forEach'](_0x371d04=>{const _0x4017d6=_0x448d77;gameState[_0x4017d6(0x336)]['p'+_0x371d04[_0x4017d6(0x3ec)][_0x4017d6(0x31e)]][_0x4017d6(0x21c)]!==null?_0x371d04[_0x4017d6(0x28a)][_0x4017d6(0x3d3)]('display-none'):_0x371d04[_0x4017d6(0x28a)][_0x4017d6(0x375)](_0x4017d6(0x2e8));});}loadPlants(),collectPlantsBtn[a10_0x2adce8(0x362)]('click',()=>{gardenPlots['forEach'](_0x1a4b74=>{const _0x2e1648=a10_0x2685;let _0x36f631=gameState[_0x2e1648(0x336)]['p'+_0x1a4b74[_0x2e1648(0x3ec)]['plotNum']];if(_0x36f631[_0x2e1648(0x259)]===0x64){gameState['plants'][_0x36f631[_0x2e1648(0x21c)]]++,_0x36f631[_0x2e1648(0x21c)]=null,_0x36f631[_0x2e1648(0x259)]=0x0,loadPlants(),_0x1a4b74[_0x2e1648(0x28a)][_0x2e1648(0x3d3)](_0x2e1648(0x171));for(const _0xcba7eb in Object[_0x2e1648(0x2fe)](gameState[_0x2e1648(0x3c0)])){gameState[_0x2e1648(0x3c0)]['t'+_0xcba7eb]==='herbalGarden'&&Array[_0x2e1648(0x18e)](tileOverlays)['forEach'](_0x382c3b=>{const _0x174dbe=_0x2e1648;_0x382c3b['id']==='t'+_0xcba7eb+_0x174dbe(0x24e)&&(_0x382c3b['firstChild']['src']=_0x174dbe(0x342));});}}Object[_0x2e1648(0x2fe)](gameState[_0x2e1648(0x336)])[_0x2e1648(0x28c)](_0x40ec87=>gameState[_0x2e1648(0x336)][_0x40ec87][_0x2e1648(0x259)]===0x64)?collectPlantsBtn[_0x2e1648(0x28a)][_0x2e1648(0x3d3)](_0x2e1648(0x2e9)):collectPlantsBtn[_0x2e1648(0x28a)][_0x2e1648(0x375)](_0x2e1648(0x2e9));}),updatePlantCounts();});function updatePlantCounts(){const _0x122bf3=a10_0x2adce8;plantCounts[_0x122bf3(0x16d)](_0x382c40=>{const _0x49cfa9=_0x122bf3;_0x382c40[_0x49cfa9(0x41b)]='('+gameState[_0x49cfa9(0x35a)][_0x382c40[_0x49cfa9(0x3ec)][_0x49cfa9(0x42e)]]+')';});}updatePlantCounts();let kettleContents={0x1:null,0x2:null,0x3:null,0x4:null,0x5:null};const brewBtn=document['querySelector']('.brew-btn'),kettleSlots=document[a10_0x2adce8(0x43d)](a10_0x2adce8(0x1ac));let selectedKettleSlot;kettleSlots[a10_0x2adce8(0x16d)](_0x315991=>_0x315991[a10_0x2adce8(0x362)]('click',()=>{const _0x179ea5=a10_0x2adce8;kettleSlots['forEach'](_0x43f89c=>_0x43f89c[_0x179ea5(0x28a)][_0x179ea5(0x3d3)]('kettle-cell-selected')),_0x315991[_0x179ea5(0x28a)][_0x179ea5(0x375)]('kettle-cell-selected'),selectedKettleSlot=_0x315991[_0x179ea5(0x3ec)][_0x179ea5(0x413)],plantCardsContainer[_0x179ea5(0x28a)]['remove'](_0x179ea5(0x2e8)),closeRecipeBook();}));function putInKettle(_0x203119,_0x531af9){const _0x29fef7=a10_0x2adce8;if(gameState[_0x29fef7(0x35a)][_0x531af9]>0x0)kettleSlots[_0x29fef7(0x16d)](_0x8f124d=>{const _0x29fa85=_0x29fef7;if(_0x8f124d['dataset'][_0x29fa85(0x413)]===_0x203119){_0x8f124d['children'][_0x29fa85(0x2aa)]===0x1&&_0x8f124d[_0x29fa85(0x32e)](_0x8f124d[_0x29fa85(0x333)]);let _0x233a4d=document['createElement'](_0x29fa85(0x2ed));_0x233a4d[_0x29fa85(0x3eb)]=_0x29fa85(0x341)+_0x531af9+_0x29fa85(0x255),_0x233a4d['setAttribute'](_0x29fa85(0x3f6),_0x29fa85(0x261)),_0x8f124d[_0x29fa85(0x30b)](_0x233a4d),gameState['plants'][_0x531af9]--,kettleContents[selectedKettleSlot]!==null&&gameState[_0x29fa85(0x35a)][kettleContents[selectedKettleSlot]]++;}}),kettleContents[_0x203119]=_0x531af9,updatePlantCounts(),Object['values'](kettleContents)[_0x29fef7(0x325)](_0x138fa0=>_0x138fa0!==null)['length']>0x1&&brewBtn['classList'][_0x29fef7(0x3d3)](_0x29fef7(0x2e9));else{}}function resetKettleContents(_0x3936d1){const _0x4b5b36=a10_0x2adce8;for(let _0x5ba348 in _0x3936d1){_0x3936d1[_0x5ba348]!==null&&gameState[_0x4b5b36(0x35a)][_0x3936d1[_0x5ba348]]++,_0x3936d1[_0x5ba348]=null;}updatePlantCounts();}brewBtn[a10_0x2adce8(0x362)]('click',()=>{const _0x202e5f=a10_0x2adce8;brewBtn[_0x202e5f(0x28a)][_0x202e5f(0x375)](_0x202e5f(0x2e9));for(const _0x56bf88 in kettleContents){kettleContents[_0x56bf88]!==null&&kettle[kettleContents[_0x56bf88]]++;}let _0x2c8072=makePotion(kettle,newRecipeList);if(_0x2c8072!==null){gameState['activePotionEffect'][_0x202e5f(0x330)]=_0x2c8072,gameState[_0x202e5f(0x3a4)]['strength']=newRecipeList[_0x2c8072][_0x202e5f(0x42c)],gameState[_0x202e5f(0x3a4)][_0x202e5f(0x167)]=0x384,document[_0x202e5f(0x411)](_0x202e5f(0x1dd))[_0x202e5f(0x147)][_0x202e5f(0x398)]=_0x202e5f(0x37c),document[_0x202e5f(0x411)](_0x202e5f(0x24d))[_0x202e5f(0x147)][_0x202e5f(0x398)]=_0x202e5f(0x37c);const _0x694ad8=potionEffects[gameState['activePotionEffect']['name']]['production']===![];_0x694ad8&&updateUnitAttack(),setTimeout(()=>{const _0x58534a=_0x202e5f;document[_0x58534a(0x411)]('.kettle-container')[_0x58534a(0x147)][_0x58534a(0x398)]='',document[_0x58534a(0x411)](_0x58534a(0x24d))[_0x58534a(0x147)]['animation']='';},0x5dc);}else document[_0x202e5f(0x411)]('.kettle-container')['style'][_0x202e5f(0x398)]='wrongrecipe\x200.5s\x20ease-in-out',setTimeout(()=>{const _0x52743c=_0x202e5f;document[_0x52743c(0x411)](_0x52743c(0x1dd))[_0x52743c(0x147)][_0x52743c(0x398)]='';},0x2bc);Object[_0x202e5f(0x2fe)](kettle)[_0x202e5f(0x16d)](_0x2dbaae=>kettle[_0x2dbaae]=0x0),Object[_0x202e5f(0x2fe)](kettleContents)[_0x202e5f(0x16d)](_0x4dcaed=>kettleContents[_0x4dcaed]=null),kettleSlots[_0x202e5f(0x16d)](_0x2ec1e5=>{const _0x39bd6a=_0x202e5f;_0x2ec1e5[_0x39bd6a(0x196)][_0x39bd6a(0x2aa)]===0x1&&_0x2ec1e5[_0x39bd6a(0x32e)](_0x2ec1e5[_0x39bd6a(0x333)]);});}),openChestBuildingBtn[a10_0x2adce8(0x362)]('click',()=>{const _0x360ff5=a10_0x2adce8;gameState[_0x360ff5(0x175)]=generateItem(null,_0x360ff5(0x1fc));let _0x2e3c1d=addChestItemToInventory();_0x2e3c1d===!![]?(closeEnemyMenu(),openChestBuildingBtn[_0x360ff5(0x41b)]='Open\x20chest',Array['from'](tileOverlays)[_0x360ff5(0x16d)](_0x2b072c=>{const _0x19be87=_0x360ff5;_0x2b072c['id']===selectedTile['id']+_0x19be87(0x24e)&&(_0x2b072c[_0x19be87(0x23e)]='',gameState[_0x19be87(0x2ee)][_0x19be87(0x213)](selectedTile['id']));}),gameState[_0x360ff5(0x3c0)][selectedTile['id']]=null,refreshFog()):openChestBuildingBtn[_0x360ff5(0x41b)]=_0x360ff5(0x2f4);});let isConfirmDiscardLoot=![];discardLootBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),function(){const _0x2e39a5=a10_0x2adce8;isConfirmDiscardLoot===![]?(discardLootBtn[_0x2e39a5(0x41b)]=_0x2e39a5(0x2e7),isConfirmDiscardLoot=!![]):(closeVicDef(),gameState[_0x2e39a5(0x175)]={},document[_0x2e39a5(0x411)]('.victory-description')[_0x2e39a5(0x41b)]='',isConfirmDiscardLoot=![]);});const armyTabBtn=document[a10_0x2adce8(0x37b)](a10_0x2adce8(0x3a3));armyTabBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),function(){const _0x21b2a3=a10_0x2adce8;document[_0x21b2a3(0x37b)](_0x21b2a3(0x3a3))['classList']['add'](_0x21b2a3(0x355)),document[_0x21b2a3(0x37b)]('civil-unit-tab')['classList']['remove']('unit-tab-active'),document[_0x21b2a3(0x37b)](_0x21b2a3(0x3c9))[_0x21b2a3(0x28a)][_0x21b2a3(0x375)]('display-none'),document['getElementById'](_0x21b2a3(0x3bf))[_0x21b2a3(0x28a)]['remove'](_0x21b2a3(0x2e8));});function openCivilTab(){const _0x48baf3=a10_0x2adce8;document[_0x48baf3(0x37b)](_0x48baf3(0x34a))[_0x48baf3(0x28a)][_0x48baf3(0x375)](_0x48baf3(0x355)),document[_0x48baf3(0x37b)]('army-unit-tab')[_0x48baf3(0x28a)][_0x48baf3(0x3d3)](_0x48baf3(0x355)),document[_0x48baf3(0x37b)](_0x48baf3(0x3bf))['classList'][_0x48baf3(0x375)]('display-none'),document[_0x48baf3(0x37b)](_0x48baf3(0x3c9))[_0x48baf3(0x28a)]['remove']('display-none');}const civilTabBtn=document[a10_0x2adce8(0x37b)](a10_0x2adce8(0x34a));civilTabBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),openCivilTab);function increaseCivilUnit(_0x3b0dc1){const _0x4b26d9=a10_0x2adce8;if(gameState[_0x4b26d9(0x311)]<maxPopulation[_0x4b26d9(0x2bd)]){const _0x2cf401=unitCosts[_0x3b0dc1],_0xd58bb4=Object[_0x4b26d9(0x2fe)](_0x2cf401)['every'](_0x3440ae=>_0x2cf401[_0x3440ae]<=gameState[_0x3440ae]);if(_0xd58bb4){for(const _0x267d8c in _0x2cf401){gameState[_0x267d8c]-=_0x2cf401[_0x267d8c];}gameState[_0x4b26d9(0x22a)][_0x3b0dc1]++,gameState[_0x4b26d9(0x311)]++;}updateUnlocks();}}function decreaseCivilUnit(_0x9ff689){const _0x24a40e=a10_0x2adce8;gameState['civilUnits'][_0x9ff689]>0x0&&(gameState[_0x24a40e(0x22a)][_0x9ff689]--,gameState[_0x24a40e(0x311)]--,gameState[_0x24a40e(0x343)]['includes'](_0x24a40e(0x405))===!![]&&(gameState[_0x24a40e(0x217)]=Math['min'](gameState[_0x24a40e(0x217)]+0x19,maxResources['blood'])));}function increaseArmyUnit(_0x29b128){const _0x8215a9=a10_0x2adce8;if(gameState['armyPopulation']<maxPopulation[_0x8215a9(0x3a9)]){if(_0x29b128===_0x8215a9(0x26a)&&gameState['perksUnlocked']['includes'](_0x8215a9(0x26a))===![]||_0x29b128===_0x8215a9(0x29a)&&gameState[_0x8215a9(0x343)][_0x8215a9(0x210)](_0x8215a9(0x29a))===![]||_0x29b128===_0x8215a9(0x3c4)&&gameState['perksUnlocked'][_0x8215a9(0x210)](_0x8215a9(0x3c4))===![]){}else{const _0x370d82=unitCosts[_0x29b128],_0x6d7e2d=Object['keys'](_0x370d82)['every'](_0x5113f2=>_0x370d82[_0x5113f2]<=gameState[_0x5113f2]);if(_0x6d7e2d){for(const _0x1cc4a6 in _0x370d82){gameState[_0x1cc4a6]-=_0x370d82[_0x1cc4a6];}gameState[_0x8215a9(0x328)][_0x29b128]++,gameState[_0x8215a9(0x225)]++;}updateUnlocks();}}}function decreaseArmyUnit(_0x58166d){const _0x1480db=a10_0x2adce8,_0x27edd8=gameState[_0x1480db(0x328)][_0x58166d]-(gameState[_0x1480db(0x42f)][_0x58166d]||0x0);if(_0x27edd8>0x0){gameState[_0x1480db(0x328)][_0x58166d]--,gameState['armyPopulation']--;gameState['perksUnlocked']['includes'](_0x1480db(0x405))&&(gameState[_0x1480db(0x217)]=Math[_0x1480db(0x16b)](gameState['blood']+0x19,maxResources[_0x1480db(0x217)]));;}}Array['from'](increaseCivilUnitBtns)[a10_0x2adce8(0x16d)](function(_0x132957){const _0x5bd2c8=a10_0x2adce8;_0x132957['addEventListener'](_0x5bd2c8(0x2c0),()=>increaseCivilUnit(_0x132957[_0x5bd2c8(0x3ec)][_0x5bd2c8(0x3a7)]));}),Array[a10_0x2adce8(0x18e)](decreaseCivilUnitBtns)['forEach'](function(_0x2a5b61){const _0x22e2b5=a10_0x2adce8;_0x2a5b61['addEventListener'](_0x22e2b5(0x2c0),()=>decreaseCivilUnit(_0x2a5b61[_0x22e2b5(0x3ec)][_0x22e2b5(0x3a7)]));}),Array[a10_0x2adce8(0x18e)](increaseArmyUnitBtns)[a10_0x2adce8(0x16d)](function(_0x5e23ba){const _0x5df4d3=a10_0x2adce8;_0x5e23ba[_0x5df4d3(0x362)](_0x5df4d3(0x2c0),()=>increaseArmyUnit(_0x5e23ba[_0x5df4d3(0x3ec)]['unitType']));}),Array[a10_0x2adce8(0x18e)](decreaseArmyUnitBtns)[a10_0x2adce8(0x16d)](function(_0x30ecfe){const _0x23c277=a10_0x2adce8;_0x30ecfe['addEventListener'](_0x23c277(0x2c0),()=>decreaseArmyUnit(_0x30ecfe[_0x23c277(0x3ec)][_0x23c277(0x3a7)]));});let increaseIronProductionBtn=document[a10_0x2adce8(0x37b)](a10_0x2adce8(0x219)),decreaseIronProductionBtn=document[a10_0x2adce8(0x37b)](a10_0x2adce8(0x12d));increaseIronProductionBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),function(){const _0x157833=a10_0x2adce8;gameState[_0x157833(0x3de)]<0.99&&(gameState[_0x157833(0x3de)]+=0.1,updateIronProductionRateView());;}),decreaseIronProductionBtn['addEventListener']('click',function(){const _0x11eeff=a10_0x2adce8;gameState[_0x11eeff(0x3de)]>0.09&&(gameState[_0x11eeff(0x3de)]-=0.1,updateIronProductionRateView());;});function updateIronProductionRateView(){const _0x23e7be=a10_0x2adce8;$(_0x23e7be(0x409))[_0x23e7be(0x41b)]=Math['round'](gameState['ironProductionRate']*0x64);}updateIronProductionRateView();let increaseBloodProductionBtn=document['getElementById'](a10_0x2adce8(0x2cf)),decreaseBloodProductionBtn=document[a10_0x2adce8(0x37b)](a10_0x2adce8(0x1e2));increaseBloodProductionBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),function(){const _0x20d854=a10_0x2adce8;gameState[_0x20d854(0x43e)]<0.99&&(gameState[_0x20d854(0x43e)]+=0.1,$(_0x20d854(0x26c))[_0x20d854(0x41b)]=Math['round'](gameState[_0x20d854(0x43e)]*0x64));;}),decreaseBloodProductionBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),function(){const _0x4b48a3=a10_0x2adce8;gameState[_0x4b48a3(0x43e)]>0.09&&(gameState[_0x4b48a3(0x43e)]-=0.1,$('#blood-production-rate')['innerText']=Math[_0x4b48a3(0x1db)](gameState[_0x4b48a3(0x43e)]*0x64));;}),$(a10_0x2adce8(0x26c))[a10_0x2adce8(0x41b)]=Math[a10_0x2adce8(0x1db)](gameState['bloodProductionRate']*0x64);function fillInventory(){const _0x3dd2c7=a10_0x2adce8;for(const _0x2e98ad of Object[_0x3dd2c7(0x2fe)](soulState)[_0x3dd2c7(0x325)](_0x41430d=>_0x41430d[_0x3dd2c7(0x2b8)](/^i\d+/))){soulState[_0x2e98ad]=generateItem(0x1);}loadItemIMGS(soulState);}function getStarted(){const _0x12420a=a10_0x2adce8;resetGame(),unlockEverything();for(const _0x14a672 in gameState[_0x12420a(0x3ee)]){gameState[_0x12420a(0x3ee)][_0x14a672]=0x64;}for(const _0x314475 in gameState[_0x12420a(0x256)]){gameState[_0x12420a(0x256)][_0x314475]=0x64;}const _0x5a982c=[...Array(0x4)[_0x12420a(0x249)]('warehouse'),...Array(0x4)[_0x12420a(0x249)](_0x12420a(0x433)),_0x12420a(0x211),'barracks','college',_0x12420a(0x1a0)];for(let _0xc6725a=0x0;_0xc6725a<_0x5a982c[_0x12420a(0x2aa)];_0xc6725a++){const [_0x35983f,_0x219b3a]=[_0x5a982c[_0xc6725a],gameState[_0x12420a(0x2ee)][_0xc6725a]];gameState[_0x12420a(0x3c0)][_0x219b3a]=_0x35983f,gameState[_0x35983f+_0x12420a(0x389)]++;}loadBuildingIMGS(),updateBuildingPrices(),maxOutResources(),gameState[_0x12420a(0x328)][_0x12420a(0x3c4)]=0x64,gameState[_0x12420a(0x22a)][_0x12420a(0x14d)]=0xa;for(const _0x48f15d in gameState['plants'])gameState['plants'][_0x48f15d]=0x64;soulState['shopItemsOwned']=[...document[_0x12420a(0x43d)](_0x12420a(0x170))][_0x12420a(0x339)](_0x110e0c=>_0x110e0c[_0x12420a(0x3ec)][_0x12420a(0x2cc)]),loadShopPrices(soulState);};function maxOutResources(){const _0xa1d4e4=a10_0x2adce8;gameState[_0xa1d4e4(0x1ff)]=maxResources['humans'],gameState[_0xa1d4e4(0x388)]=maxResources[_0xa1d4e4(0x388)],gameState['wood']=maxResources[_0xa1d4e4(0x39f)],gameState['stone']=maxResources[_0xa1d4e4(0x3a1)],gameState[_0xa1d4e4(0x16a)]=maxResources[_0xa1d4e4(0x16a)],gameState[_0xa1d4e4(0x142)]=maxResources['equipment'],gameState['knowledge']=maxResources[_0xa1d4e4(0x1ad)],gameState[_0xa1d4e4(0x217)]=maxResources['blood'],gameState[_0xa1d4e4(0x145)]=maxResources[_0xa1d4e4(0x145)];};function unlockEverything(){const _0x139f62=a10_0x2adce8;gameState['isHumansUnlocked']=!![],gameState[_0x139f62(0x32b)]=!![],gameState[_0x139f62(0x429)]=!![],gameState[_0x139f62(0x205)]=!![],gameState[_0x139f62(0x1df)]=!![],gameState[_0x139f62(0x3b4)]=!![],gameState[_0x139f62(0x348)]=!![],gameState[_0x139f62(0x2d0)]=!![],gameState[_0x139f62(0x360)]=![],gameState[_0x139f62(0x1c3)]=!![],gameState['isTechTreeUnlocked']=!![],gameState['isGathererUnlocked']=!![],gameState['isWoodcutterUnlocked']=!![],gameState[_0x139f62(0x3b8)]=!![],gameState[_0x139f62(0x3d1)]=!![],gameState[_0x139f62(0x302)]=!![],gameState[_0x139f62(0x152)]=!![],gameState[_0x139f62(0x2f2)]=!![];for(const _0x187d22 in buildings){gameState[_0x139f62(0x34c)][_0x187d22]=!![];}gameState['perksUnlocked']=allPerks,updateUnlocks(),updateTechTree();}const tileElements=document[a10_0x2adce8(0x446)]('tile');let selectedTile,isMenuOpen=![],buildMenu=document[a10_0x2adce8(0x37b)](a10_0x2adce8(0x1da)),isMousedown=![];Array['from'](tileElements)[a10_0x2adce8(0x16d)](function(_0x16566a){const _0x3dfee8=a10_0x2adce8;_0x16566a[_0x3dfee8(0x362)](_0x3dfee8(0x2c0),tileClick),_0x16566a[_0x3dfee8(0x362)]('mouseover',()=>hoverBuilding(_0x16566a)),_0x16566a[_0x3dfee8(0x362)]('mouseleave',()=>leaveHoverBuilding(_0x16566a)),_0x16566a[_0x3dfee8(0x362)](_0x3dfee8(0x272),_0x40886f=>mousedownBuilding(_0x16566a,_0x40886f)),_0x16566a[_0x3dfee8(0x362)]('mouseup',()=>mouseupBuilding(_0x16566a));});function hoverBuilding(_0x2f0ac5){const _0x426744=a10_0x2adce8;document['getElementById'](_0x2f0ac5['id']+_0x426744(0x24e))[_0x426744(0x28a)][_0x426744(0x375)](_0x426744(0x136));}function leaveHoverBuilding(_0x36b536){const _0x263168=a10_0x2adce8;document[_0x263168(0x37b)](_0x36b536['id']+'-overlay')['classList'][_0x263168(0x3d3)](_0x263168(0x136));}function mousedownBuilding(_0x507434,_0x48d75a){const _0x3a61a8=a10_0x2adce8;_0x48d75a[_0x3a61a8(0x20b)]===0x0&&(document['getElementById'](_0x507434['id']+_0x3a61a8(0x24e))[_0x3a61a8(0x28a)][_0x3a61a8(0x375)](_0x3a61a8(0x224)),moveMouseX=_0x48d75a['pageX'],moveMouseY=_0x48d75a[_0x3a61a8(0x38a)],longPressTile(_0x48d75a),selectedTile=document[_0x3a61a8(0x37b)](_0x507434['id']));}function mouseupBuilding(_0x2cab43){const _0x2fc66b=a10_0x2adce8;document[_0x2fc66b(0x37b)](_0x2cab43['id']+'-overlay')[_0x2fc66b(0x28a)][_0x2fc66b(0x3d3)](_0x2fc66b(0x224)),swapBuildings(_0x2cab43);}calcEnemyBuildingUnits();function swapBuildings(_0x491868){const _0x224b34=a10_0x2adce8;if(gameState[_0x224b34(0x2ee)][_0x224b34(0x210)](_0x491868['id'])&&isBuildingMoving===!![]&&selectedTile['id']!==_0x491868['id']){let _0x4fb4e4=gameState[_0x224b34(0x3c0)][selectedTile['id']],_0x22dcbc=gameState[_0x224b34(0x3c0)][_0x491868['id']];gameState[_0x224b34(0x3c0)][_0x491868['id']]=_0x4fb4e4,gameState[_0x224b34(0x3c0)][selectedTile['id']]=_0x22dcbc;let _0x3ed6c4=document['getElementById'](selectedTile['id']+_0x224b34(0x24e)),_0x14eedf=document[_0x224b34(0x37b)](_0x491868['id']+'-overlay');_0x3ed6c4[_0x224b34(0x32e)](_0x3ed6c4['children'][0x0]);if(_0x22dcbc!==null){_0x14eedf[_0x224b34(0x32e)](_0x14eedf[_0x224b34(0x196)][0x0]);let _0x2fa843=document[_0x224b34(0x3a5)](_0x224b34(0x2ed));_0x2fa843[_0x224b34(0x3eb)]=_0x224b34(0x3cb)+gameState['tiles'][selectedTile['id']]+_0x224b34(0x351),_0x2fa843[_0x224b34(0x41e)]('class',_0x224b34(0x414)),document[_0x224b34(0x37b)](selectedTile['id']+_0x224b34(0x24e))[_0x224b34(0x30b)](_0x2fa843),document[_0x224b34(0x37b)](selectedTile['id']+_0x224b34(0x24e))['classList'][_0x224b34(0x375)](_0x224b34(0x443));}let _0x1a39d1=document[_0x224b34(0x3a5)](_0x224b34(0x2ed));_0x1a39d1[_0x224b34(0x3eb)]=_0x224b34(0x3cb)+gameState['tiles'][_0x491868['id']]+_0x224b34(0x351),_0x1a39d1[_0x224b34(0x41e)](_0x224b34(0x3f6),_0x224b34(0x414)),document[_0x224b34(0x37b)](_0x491868['id']+_0x224b34(0x24e))['appendChild'](_0x1a39d1),document[_0x224b34(0x37b)](_0x491868['id']+_0x224b34(0x24e))['classList']['add'](_0x224b34(0x443));};};document[a10_0x2adce8(0x3b0)][a10_0x2adce8(0x362)]('mouseup',_0x100684=>{const _0x24826c=a10_0x2adce8;selectedTile?.['id']&&(document['getElementById'](selectedTile['id']+'-overlay')[_0x24826c(0x28a)]['remove'](_0x24826c(0x224)),document[_0x24826c(0x37b)](selectedTile['id']+_0x24826c(0x24e))['classList'][_0x24826c(0x3d3)]('display-none')),isBuildingMoving=![],document[_0x24826c(0x37b)](_0x24826c(0x240))!==null&&document[_0x24826c(0x37b)](_0x24826c(0x240))[_0x24826c(0x3d3)]();});function removeSelectedTile(_0x235d6e){const _0x24f603=a10_0x2adce8;_0x235d6e['classList'][_0x24f603(0x3d3)](_0x24f603(0x185));}function tileClick(){const _0x451254=a10_0x2adce8;if(isMoveMode===![]){Array[_0x451254(0x18e)](tileElements)[_0x451254(0x16d)](removeSelectedTile),selectedTile=document[_0x451254(0x37b)](this['id']),selectedTile[_0x451254(0x28a)][_0x451254(0x375)](_0x451254(0x185));gameState[_0x451254(0x3c0)][selectedTile['id']]===null?openBuildMenu():openBuildingInfoMenu();;const _0x44e6ee=document[_0x451254(0x446)](_0x451254(0x271));Array[_0x451254(0x18e)](_0x44e6ee)['forEach'](function(_0x3a1fb8){const _0x237977=_0x451254;_0x3a1fb8[_0x237977(0x28a)]['add'](_0x237977(0x180));}),Array['from'](tileElements)[_0x451254(0x16d)](function(_0x4e7909){const _0x5358de=_0x451254;_0x4e7909[_0x5358de(0x28a)]['add'](_0x5358de(0x180));}),$('#'+selectedTile['id']+_0x451254(0x24e))[_0x451254(0x28a)]['remove'](_0x451254(0x180)),$('#'+selectedTile['id'])[_0x451254(0x28a)][_0x451254(0x3d3)](_0x451254(0x180));};};let isPreCombatMenuOpen=![];function turnTilesBright(){const _0x5d8833=a10_0x2adce8;isMenuOpen===![]&&isPreCombatMenuOpen===![]&&(Array[_0x5d8833(0x18e)](tileOverlays)[_0x5d8833(0x16d)](function(_0x4fa0bb){const _0x5553e2=_0x5d8833;_0x4fa0bb[_0x5553e2(0x28a)]['remove'](_0x5553e2(0x180));}),Array[_0x5d8833(0x18e)](tileElements)[_0x5d8833(0x16d)](function(_0x12b822){const _0x711c48=_0x5d8833;_0x12b822['classList'][_0x711c48(0x3d3)](_0x711c48(0x180));}));};function openBuildMenu(){const _0x2fd366=a10_0x2adce8;closeBuildingInfoMenu(),closeEnemyMenu(),closeTechTreeMenu(),closeChampionMenu(),buildMenu['classList']['remove'](_0x2fd366(0x2e8)),isMenuOpen=!![];}function closeBuildMenu(){const _0x39c825=a10_0x2adce8;buildMenu[_0x39c825(0x28a)][_0x39c825(0x375)](_0x39c825(0x2e8)),Array[_0x39c825(0x18e)](tileElements)[_0x39c825(0x16d)](removeSelectedTile),isMenuOpen=![],turnTilesBright();}const preFightMenu=document[a10_0x2adce8(0x37b)]('pre-fight-menu');function closePreFightkMenu(){const _0x17adb7=a10_0x2adce8;isPreCombatMenuOpen=![],turnTilesBright(),preFightMenu[_0x17adb7(0x28a)][_0x17adb7(0x375)](_0x17adb7(0x2e8)),resetSelectedArmy(),selectedEnemyBuilding=null;let _0x7d318b=document[_0x17adb7(0x446)](_0x17adb7(0x161));Array[_0x17adb7(0x18e)](_0x7d318b)[_0x17adb7(0x16d)](function(_0x597b7d){const _0x222b50=_0x17adb7;_0x597b7d[_0x222b50(0x28a)][_0x222b50(0x375)](_0x222b50(0x2e8));}),$(_0x17adb7(0x32c))['innerText']='Calc\x20win\x20chance';}function openBuildingInfoMenu(){const _0x5e74a2=a10_0x2adce8;closeBuildMenu(),closeBuildingInfoMenu(),closeEnemyMenu(),closeTechTreeMenu(),closeChampionMenu();const _0xf336f0=gameState[_0x5e74a2(0x3c0)][selectedTile['id']]+_0x5e74a2(0x2de);document['getElementById'](_0xf336f0)['classList'][_0x5e74a2(0x3d3)](_0x5e74a2(0x2e8)),isMenuOpen=!![],gameState[_0x5e74a2(0x3c0)][selectedTile['id']]===_0x5e74a2(0x166)?isAlchemistHutOpen=!![]:isAlchemistHutOpen=![];}function closeBuildingInfoMenu(){const _0x485ff5=a10_0x2adce8;let _0x5700e3=document['getElementsByClassName'](_0x485ff5(0x372));Array[_0x485ff5(0x18e)](_0x5700e3)[_0x485ff5(0x16d)](function(_0x57231d){const _0x1c2d86=_0x485ff5;_0x57231d[_0x1c2d86(0x28a)][_0x1c2d86(0x375)]('display-none');}),isMenuOpen=![],turnTilesBright(),Array[_0x485ff5(0x18e)](demolishBuildingBtn)[_0x485ff5(0x16d)](function(_0x27d7c4){const _0x58e895=_0x485ff5;_0x27d7c4[_0x58e895(0x41b)]=_0x58e895(0x1e8),_0x27d7c4[_0x58e895(0x147)][_0x58e895(0x2e6)]=_0x58e895(0x29e);}),demolishBuildingClickedOnce=![],plantCardsContainer[_0x485ff5(0x28a)]['add'](_0x485ff5(0x2e8)),gardenPlots[_0x485ff5(0x16d)](_0x3b8542=>_0x3b8542[_0x485ff5(0x28a)]['remove'](_0x485ff5(0x316))),kettleSlots[_0x485ff5(0x16d)](_0x181991=>_0x181991['classList']['remove'](_0x485ff5(0x377))),kettleSlots[_0x485ff5(0x16d)](_0x4ceedd=>{const _0x155151=_0x485ff5;_0x4ceedd[_0x155151(0x196)][_0x155151(0x2aa)]===0x1&&_0x4ceedd[_0x155151(0x32e)](_0x4ceedd[_0x155151(0x333)]);}),resetKettleContents(kettleContents),brewBtn[_0x485ff5(0x28a)]['add'](_0x485ff5(0x2e9)),closeRecipeBook();}function closeEnemyMenu(){const _0x48041a=a10_0x2adce8;let _0x4e997e=document[_0x48041a(0x446)](_0x48041a(0x1d4));Array[_0x48041a(0x18e)](_0x4e997e)[_0x48041a(0x16d)](function(_0x5292d9){const _0x55d264=_0x48041a;_0x5292d9[_0x55d264(0x28a)][_0x55d264(0x375)](_0x55d264(0x2e8));}),isMenuOpen=![],turnTilesBright(),openChestBuildingBtn[_0x48041a(0x41b)]=_0x48041a(0x22c);};const closeEnemyMenuBtns=document[a10_0x2adce8(0x446)](a10_0x2adce8(0x218));Array['from'](closeEnemyMenuBtns)[a10_0x2adce8(0x16d)](function(_0x38486c){const _0x3b8065=a10_0x2adce8;_0x38486c[_0x3b8065(0x362)](_0x3b8065(0x2c0),closeEnemyMenu);});let moveBtn=document[a10_0x2adce8(0x37b)]('move-mode-button');moveBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),()=>letsJiggle());function letsJiggle(){const _0x438858=a10_0x2adce8;isMoveMode===![]?(isMoveMode=!![],moveBtn[_0x438858(0x28a)][_0x438858(0x375)]('move-mode-active'),Array['from'](tileOverlays)[_0x438858(0x16d)](function(_0x1908dc){const _0x2e8bc2=_0x438858;gameState[_0x2e8bc2(0x2ee)][_0x2e8bc2(0x210)](_0x1908dc['id'][_0x2e8bc2(0x2b8)](/t\d+/)[0x0])?(_0x1908dc[_0x2e8bc2(0x28a)][_0x2e8bc2(0x375)](_0x2e8bc2(0x27e)),_0x1908dc[_0x2e8bc2(0x147)][_0x2e8bc2(0x384)]=Math['random']()+'s'):_0x1908dc[_0x2e8bc2(0x28a)][_0x2e8bc2(0x375)](_0x2e8bc2(0x291));})):(isMoveMode=![],moveBtn[_0x438858(0x28a)]['remove']('move-mode-active'),Array[_0x438858(0x18e)](tileOverlays)['forEach'](function(_0x287e13){const _0x5c305e=_0x438858;_0x287e13[_0x5c305e(0x28a)][_0x5c305e(0x3d3)](_0x5c305e(0x27e)),_0x287e13['style'][_0x5c305e(0x384)]='',_0x287e13[_0x5c305e(0x28a)][_0x5c305e(0x3d3)](_0x5c305e(0x291));}));}let isMoveMode=![],isBuildingMoving=![],mousedownChecker,moveMouseX,moveMouseY;const movingContainer=document[a10_0x2adce8(0x37b)]('moving-building-container');function longPressTile(_0x55887c){mousedownChecker=setTimeout(function(){isMoveMode===!![]&&moveBuilding(_0x55887c);},0x0);};function moveBuilding(_0x4190ad){const _0x5b8fac=a10_0x2adce8;if(isBuildingMoving===![]){gameState['controlledTiles']['includes'](selectedTile['id'])===!![]&&gameState[_0x5b8fac(0x2ee)][_0x5b8fac(0x210)](selectedTile['id'])!==null&&Array[_0x5b8fac(0x18e)](tileOverlays)[_0x5b8fac(0x16d)](function(_0x208649){const _0x3c104c=_0x5b8fac;if(_0x208649['id']===selectedTile['id']+_0x3c104c(0x24e)&&gameState[_0x3c104c(0x3c0)][selectedTile['id']]!==null){closeBuildMenu(),closeBuildingInfoMenu(),closeEnemyMenu(),closePreFightkMenu(),closeTechTreeMenu(),closeChampionMenu(),movingContainer[_0x3c104c(0x147)][_0x3c104c(0x23c)]=moveMouseX-0x1e*zoomLevel+'px',movingContainer['style']['top']=moveMouseY-0x32*zoomLevel+'px',movingContainer[_0x3c104c(0x147)][_0x3c104c(0x14c)]=0x41*zoomLevel+'px',movingContainer[_0x3c104c(0x147)][_0x3c104c(0x41d)]=0x41*zoomLevel+'px',document['getElementById'](selectedTile['id']+'-overlay')['classList'][_0x3c104c(0x375)](_0x3c104c(0x2e8));let _0x244999=document['createElement']('img');_0x244999['setAttribute']('id','moving-building-img'),_0x244999['setAttribute'](_0x3c104c(0x3f6),_0x3c104c(0x27e)),_0x244999[_0x3c104c(0x3eb)]=_0x3c104c(0x3cb)+gameState[_0x3c104c(0x3c0)][selectedTile['id']]+'.png',document[_0x3c104c(0x37b)]('moving-building-container')[_0x3c104c(0x30b)](_0x244999),dragInit(movingContainer),isBuildingMoving=!![];};});;}};const closeBuildingInfoBtn=document[a10_0x2adce8(0x446)]('close-building-info-card-button');Array[a10_0x2adce8(0x18e)](closeBuildingInfoBtn)[a10_0x2adce8(0x16d)](function(_0x2ab4c5){const _0x26a887=a10_0x2adce8;_0x2ab4c5[_0x26a887(0x362)](_0x26a887(0x2c0),closeBuildingInfoMenu),Array[_0x26a887(0x18e)](tileElements)[_0x26a887(0x16d)](removeSelectedTile);});function demolishBuilding(){const _0x20f8f5=a10_0x2adce8;let _0x18ebd9=gameState[_0x20f8f5(0x3c0)][selectedTile['id']];gameState[_0x20f8f5(0x3c0)][selectedTile['id']]=null;let _0x4a7e09=document[_0x20f8f5(0x37b)](selectedTile['id']+_0x20f8f5(0x24e));_0x4a7e09[_0x20f8f5(0x32e)](_0x4a7e09[_0x20f8f5(0x3b1)]),closeBuildingInfoMenu(),Array[_0x20f8f5(0x18e)](tileElements)[_0x20f8f5(0x16d)](removeSelectedTile),gameState[_0x18ebd9+_0x20f8f5(0x389)]--,updateBuildingPrices(),updateUnlocks();}const demolishBuildingBtn=document['getElementsByClassName'](a10_0x2adce8(0x282));let demolishBuildingClickedOnce=![];Array[a10_0x2adce8(0x18e)](demolishBuildingBtn)[a10_0x2adce8(0x16d)](function(_0x5dde99){const _0x5843cd=a10_0x2adce8;_0x5dde99[_0x5843cd(0x362)](_0x5843cd(0x2c0),function(){const _0x1955f1=_0x5843cd;demolishBuildingClickedOnce===![]?(demolishBuildingClickedOnce=!![],_0x5dde99[_0x1955f1(0x41b)]='Click\x20again\x20to\x20confirm\x20demolition',_0x5dde99[_0x1955f1(0x147)]['color']='white'):(demolishBuilding(),demolishBuildingClickedOnce=![]);});});const buildBtns=document['getElementsByClassName'](a10_0x2adce8(0x2b4)),tileOverlays=document[a10_0x2adce8(0x446)](a10_0x2adce8(0x271)),closeBuildMenuBtn=document['getElementById'](a10_0x2adce8(0x2c8));function build(_0xb75dc3){const _0x1c1015=a10_0x2adce8;if(gameState[_0x1c1015(0x3c0)][selectedTile['id']]===null){const _0x21a057=buildingPrices[_0xb75dc3],_0x3afa57=Object[_0x1c1015(0x2fe)](_0x21a057)[_0x1c1015(0x183)](_0x1f14cb=>_0x21a057[_0x1f14cb]<=gameState[_0x1f14cb]);if(_0x3afa57){for(const _0x3430c9 in _0x21a057){gameState[_0x3430c9]-=_0x21a057[_0x3430c9];}let _0x42ee7c=document[_0x1c1015(0x3a5)]('img');_0x42ee7c[_0x1c1015(0x41e)](_0x1c1015(0x3f6),_0x1c1015(0x414)),_0x42ee7c[_0x1c1015(0x3eb)]=_0x1c1015(0x3cb)+_0xb75dc3+_0x1c1015(0x351),document[_0x1c1015(0x37b)](selectedTile['id']+_0x1c1015(0x24e))[_0x1c1015(0x30b)](_0x42ee7c),gameState[_0x1c1015(0x3c0)][selectedTile['id']]=_0xb75dc3,gameState[_0xb75dc3+'Amount']++,updateBuildingPrices(),updateUnlocks(),closeBuildMenu();}}}Array[a10_0x2adce8(0x18e)](buildBtns)[a10_0x2adce8(0x16d)](function(_0x25a3c0){const _0x500e8d=a10_0x2adce8;_0x25a3c0[_0x500e8d(0x362)](_0x500e8d(0x2c0),()=>build(_0x25a3c0['id']));}),closeBuildMenuBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),function(){closeBuildMenu();});let buildPageBtnLeft=document['getElementById'](a10_0x2adce8(0x2f5)),buildPageBtnRight=document[a10_0x2adce8(0x37b)](a10_0x2adce8(0x3f4)),buildPageNo=0x1;const buildPageMaxItems=0x7;function getBuildPageCount(){const _0x161b99=a10_0x2adce8,_0x51b966=Object[_0x161b99(0x2fe)](gameState[_0x161b99(0x34c)])[_0x161b99(0x325)](_0x51a3dd=>gameState['buildingsUnlocked'][_0x51a3dd]===!![])['length'];return Math['ceil'](_0x51b966/buildPageMaxItems);}buildPageBtnLeft[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),function(){if(buildPageNo>0x1)updateBuildPage(buildPageNo-0x1);}),buildPageBtnRight[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),function(){const _0x41ec4e=getBuildPageCount();if(buildPageNo<_0x41ec4e)updateBuildPage(buildPageNo+0x1);});function updateBuildPage(_0xb97baa){const _0x19dbe0=a10_0x2adce8;if(_0xb97baa)buildPageNo=_0xb97baa;const _0x42dbd3=document[_0x19dbe0(0x43d)]('.building-card:not(.display-none)'),_0x3c9464=(buildPageNo-0x1)*buildPageMaxItems,_0x3519ce=buildPageNo*buildPageMaxItems-0x1;for(let _0x4c6232=0x0;_0x4c6232<_0x42dbd3[_0x19dbe0(0x2aa)];_0x4c6232++){if(_0x4c6232>=_0x3c9464&&_0x4c6232<=_0x3519ce)_0x42dbd3[_0x4c6232][_0x19dbe0(0x147)]['display']='inherit';else _0x42dbd3[_0x4c6232][_0x19dbe0(0x147)][_0x19dbe0(0x1c4)]='none';}buildPageNo===0x1?document['querySelector'](_0x19dbe0(0x1c8))[_0x19dbe0(0x28a)]['add']('button-disabled'):document[_0x19dbe0(0x411)](_0x19dbe0(0x1c8))['classList'][_0x19dbe0(0x3d3)](_0x19dbe0(0x2e9)),buildPageNo===getBuildPageCount()?document[_0x19dbe0(0x411)](_0x19dbe0(0x3e8))[_0x19dbe0(0x28a)][_0x19dbe0(0x375)]('button-disabled'):document[_0x19dbe0(0x411)](_0x19dbe0(0x3e8))[_0x19dbe0(0x28a)][_0x19dbe0(0x3d3)](_0x19dbe0(0x2e9));}updateBuildPage();const upgradeBuildingBtns=document[a10_0x2adce8(0x446)](a10_0x2adce8(0x391));function upgradeBuilding(_0x26554c){const _0x5439dc=a10_0x2adce8,_0xc463fa=buildingUpgradePrices[_0x26554c],_0x3f6c3f=Object['keys'](_0xc463fa)['every'](_0xa039ae=>_0xc463fa[_0xa039ae]<=gameState[_0xa039ae]);if(_0x3f6c3f){for(const _0x448d87 in _0xc463fa){gameState[_0x448d87]-=_0xc463fa[_0x448d87];}gameState[_0x5439dc(0x256)][_0x26554c]++,updateBuildingPrices();}}Array['from'](upgradeBuildingBtns)[a10_0x2adce8(0x16d)](function(_0x7af4c2){const _0x54bed8=a10_0x2adce8;_0x7af4c2[_0x54bed8(0x362)](_0x54bed8(0x2c0),()=>{upgradeBuilding(_0x7af4c2['id']);});});const storageUpgradePrices={'food':{get 'wood'(){const _0x5a36ad=a10_0x2adce8;return Math['round'](0x1f4*Math[_0x5a36ad(0x40d)](gameState[_0x5a36ad(0x3ee)][_0x5a36ad(0x388)],2.5));},get 'stone'(){const _0x1760e8=a10_0x2adce8;return Math[_0x1760e8(0x1db)](0x1f4*Math[_0x1760e8(0x40d)](gameState[_0x1760e8(0x3ee)]['food'],2.5));}},'wood':{get 'wood'(){const _0x43f8a5=a10_0x2adce8;return Math[_0x43f8a5(0x1db)](0x1f4*Math['pow'](gameState[_0x43f8a5(0x3ee)]['wood'],1.3));},get 'stone'(){const _0x266601=a10_0x2adce8;return Math[_0x266601(0x1db)](0x1f4*Math[_0x266601(0x40d)](gameState[_0x266601(0x3ee)][_0x266601(0x39f)],1.3));}},'stone':{get 'wood'(){const _0x29b9cb=a10_0x2adce8;return Math['round'](0x1f4*Math['pow'](gameState[_0x29b9cb(0x3ee)][_0x29b9cb(0x3a1)],1.3));},get 'stone'(){const _0x3d3de1=a10_0x2adce8;return Math['round'](0x1f4*Math[_0x3d3de1(0x40d)](gameState['storageLevels'][_0x3d3de1(0x3a1)],1.3));}},'iron':{get 'wood'(){const _0x3ef53f=a10_0x2adce8;return Math[_0x3ef53f(0x1db)](0x1f4*Math[_0x3ef53f(0x40d)](gameState['storageLevels'][_0x3ef53f(0x16a)],2.5));},get 'stone'(){const _0xa350a=a10_0x2adce8;return Math['round'](0x1f4*Math['pow'](gameState[_0xa350a(0x3ee)][_0xa350a(0x16a)],2.5));}},'equipment':{get 'wood'(){const _0x3549d5=a10_0x2adce8;return Math[_0x3549d5(0x1db)](0x1f4*Math[_0x3549d5(0x40d)](gameState[_0x3549d5(0x3ee)][_0x3549d5(0x142)],0x3));},get 'stone'(){const _0x3d78ca=a10_0x2adce8;return Math[_0x3d78ca(0x1db)](0x1f4*Math[_0x3d78ca(0x40d)](gameState[_0x3d78ca(0x3ee)]['equipment'],0x3));}}},calcMaxResources={'food':_0x60fd28=>0x3e8*_0x60fd28[a10_0x2adce8(0x3ee)][a10_0x2adce8(0x388)]*(_0x60fd28[a10_0x2adce8(0x1f9)]+0x1),'wood':_0x3d11b6=>0x3e8*_0x3d11b6[a10_0x2adce8(0x3ee)][a10_0x2adce8(0x39f)]*(_0x3d11b6[a10_0x2adce8(0x1f9)]+0x1),'stone':_0x2dd63f=>0x3e8*_0x2dd63f[a10_0x2adce8(0x3ee)][a10_0x2adce8(0x3a1)]*(_0x2dd63f[a10_0x2adce8(0x1f9)]+0x1),'iron':_0x1f097c=>0x1f4*_0x1f097c[a10_0x2adce8(0x3ee)][a10_0x2adce8(0x16a)]*(_0x1f097c[a10_0x2adce8(0x1f9)]+0x1),'equipment':_0x3b3776=>0xc8*_0x3b3776[a10_0x2adce8(0x3ee)][a10_0x2adce8(0x142)]*(_0x3b3776['warehouseAmount']+0x1),'knowledge':_0x1b0efc=>0x3e8*Math[a10_0x2adce8(0x40d)](1.15,_0x1b0efc[a10_0x2adce8(0x343)][a10_0x2adce8(0x2aa)]+_0x1b0efc['perkPoints']),'blood':_0x7dd831=>0x3e8+0x3e8*_0x7dd831[a10_0x2adce8(0x38e)]*_0x7dd831[a10_0x2adce8(0x256)][a10_0x2adce8(0x1a0)]},maxResources={'humans':0xa,get 'food'(){const _0x4a5f70=a10_0x2adce8;return calcMaxResources[_0x4a5f70(0x388)](gameState);},get 'wood'(){return calcMaxResources['wood'](gameState);},get 'stone'(){const _0xf82447=a10_0x2adce8;return calcMaxResources[_0xf82447(0x3a1)](gameState);},get 'iron'(){const _0x25163e=a10_0x2adce8;return calcMaxResources[_0x25163e(0x16a)](gameState);},get 'equipment'(){const _0x90231c=a10_0x2adce8;return calcMaxResources[_0x90231c(0x142)](gameState);},get 'knowledge'(){const _0x458303=a10_0x2adce8;return calcMaxResources[_0x458303(0x1ad)](gameState);},get 'blood'(){const _0x49ff77=a10_0x2adce8;return calcMaxResources[_0x49ff77(0x217)](gameState);},'magic':0x3e8},calcMaxPopulation={'army':_0x2b2cd1=>0xa+_0x2b2cd1[a10_0x2adce8(0x221)]*_0x2b2cd1[a10_0x2adce8(0x256)][a10_0x2adce8(0x3bc)],'civil':_0x494039=>0xa+_0x494039['hutAmount']*_0x494039['buildingLevels'][a10_0x2adce8(0x433)]},maxPopulation={get 'army'(){const _0x3de753=a10_0x2adce8;return calcMaxPopulation[_0x3de753(0x3a9)](gameState);},get 'civil'(){return calcMaxPopulation['civil'](gameState);}};function upgradeStorage(_0x420073){const _0x9996d7=a10_0x2adce8;let _0x2b20bd=_0x420073[_0x9996d7(0x3ec)][_0x9996d7(0x268)];const _0x417cf8=storageUpgradePrices[_0x2b20bd];gameState['wood']>=_0x417cf8[_0x9996d7(0x39f)]&&gameState[_0x9996d7(0x3a1)]>=_0x417cf8[_0x9996d7(0x3a1)]&&(gameState['wood']-=_0x417cf8[_0x9996d7(0x39f)],gameState[_0x9996d7(0x3a1)]-=_0x417cf8[_0x9996d7(0x3a1)],gameState[_0x9996d7(0x3ee)][_0x2b20bd]++);};let upgradeStorageBtns=document[a10_0x2adce8(0x446)](a10_0x2adce8(0x30f));Array[a10_0x2adce8(0x18e)](upgradeStorageBtns)[a10_0x2adce8(0x16d)](function(_0x490c8e){const _0x2d5060=a10_0x2adce8;_0x490c8e[_0x2d5060(0x362)](_0x2d5060(0x2c0),()=>upgradeStorage(_0x490c8e));}),$(a10_0x2adce8(0x27b))['addEventListener'](a10_0x2adce8(0x2c0),function(){isTechTreeOpen===![]?openTechTreeMenu():closeTechTreeMenu();});function openTechTreeMenu(){const _0x38a5f6=a10_0x2adce8;$(_0x38a5f6(0x1cb))[_0x38a5f6(0x28a)][_0x38a5f6(0x3d3)]('display-none'),closeEnemyMenu(),closeBuildingInfoMenu(),closeBuildMenu(),closeChampionMenu(),isTechTreeOpen=!![];};$(a10_0x2adce8(0x322))['addEventListener'](a10_0x2adce8(0x2c0),closeTechTreeMenu);let isTechTreeOpen=![];function closeTechTreeMenu(){const _0x361f72=a10_0x2adce8;$(_0x361f72(0x1cb))[_0x361f72(0x28a)]['add']('display-none'),isTechTreeOpen=![];};$(a10_0x2adce8(0x220))[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),convertKnowledge);function convertKnowledge(){const _0xc8338c=a10_0x2adce8;gameState[_0xc8338c(0x1ad)]===maxResources[_0xc8338c(0x1ad)]&&(gameState[_0xc8338c(0x1ad)]=0x0,gameState[_0xc8338c(0x23b)]++,updatePerkPoints());}const prestigeCounter=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x200)),prestigeCounterContainer=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x27c)),prestigeBtn=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x153));let prestigeAnimationTimeout;prestigeBtn['addEventListener'](a10_0x2adce8(0x2c0),prestige),prestigeBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x206),()=>{const _0x57e3f3=a10_0x2adce8;clearTimeout(prestigeAnimationTimeout),prestigeBtn[_0x57e3f3(0x147)][_0x57e3f3(0x398)]='unset',setTimeout(()=>{const _0x1a8581=_0x57e3f3;prestigeBtn[_0x1a8581(0x28a)][_0x1a8581(0x375)]('prestige-button-hover');},0x0);}),prestigeBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x262),()=>{const _0x3cd04d=a10_0x2adce8;prestigeBtn[_0x3cd04d(0x28a)][_0x3cd04d(0x3d3)](_0x3cd04d(0x140)),prestigeAnimationTimeout=setTimeout(()=>{const _0x11f650=_0x3cd04d;prestigeBtn[_0x11f650(0x147)][_0x11f650(0x398)]=_0x11f650(0x234);},0x1f4);});function prestige(){const _0x2054f3=a10_0x2adce8;soulState[_0x2054f3(0x1e1)]++,prestigeBtn[_0x2054f3(0x28a)][_0x2054f3(0x375)]('prestige-wave'),setTimeout(()=>{const _0x2a306f=_0x2054f3;prestigeBtn[_0x2a306f(0x28a)]['add'](_0x2a306f(0x2e8)),prestigeBtn['classList'][_0x2a306f(0x3d3)](_0x2a306f(0x288)),prestigeCounterContainer[_0x2a306f(0x28a)][_0x2a306f(0x3d3)](_0x2a306f(0x2e8));},0x195),resetGame(),updatePrestigeCounter();}const championMenuBtn=$('#champion-menu-button'),characterBtn=$(a10_0x2adce8(0x2ae)),inventoryBtn=$(a10_0x2adce8(0x2a4)),soulPerkBtn=$(a10_0x2adce8(0x365)),shopBtn=$(a10_0x2adce8(0x1a7)),characterMenu=$(a10_0x2adce8(0x1a5)),inventoryMenu=$(a10_0x2adce8(0x164)),soulPerkMenu=$('#soul-perk-menu'),shopMenu=$(a10_0x2adce8(0x1b8)),bagBtn1=$(a10_0x2adce8(0x13b)),bagBtn2=$(a10_0x2adce8(0x2fa)),bagBtn3=$(a10_0x2adce8(0x34b));let isChampionMenuOpen=![],isCharacterMenuOpen=![],isInventoryMenuOpen=![],isSoulPerkMenuOpen=![],isShopMenuOpen=![];championMenuBtn['addEventListener'](a10_0x2adce8(0x2c0),openChampionMenu);function openChampionMenu(){const _0x8e645e=a10_0x2adce8;isChampionMenuOpen===![]?(closeBuildMenu(),closeTechTreeMenu(),closeEnemyMenu(),closeBuildingInfoMenu(),inventoryBtn[_0x8e645e(0x28a)][_0x8e645e(0x375)]('champion-menu-tab-btn-active'),soulPerkBtn[_0x8e645e(0x28a)]['remove'](_0x8e645e(0x324)),characterBtn[_0x8e645e(0x28a)][_0x8e645e(0x3d3)](_0x8e645e(0x324)),shopBtn[_0x8e645e(0x28a)][_0x8e645e(0x3d3)]('champion-menu-tab-btn-active'),$('#champion-menu')[_0x8e645e(0x28a)]['remove']('display-none'),isMenuOpen=!![],isChampionMenuOpen=!![]):closeChampionMenu();}characterBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),openCharacterMenu),inventoryBtn[a10_0x2adce8(0x362)]('click',openInventoryMenu),soulPerkBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),openSoulPerkMenu),shopBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),openShopMenu);function openCharacterMenu(){const _0x108316=a10_0x2adce8;characterBtn['classList']['add']('champion-menu-tab-btn-active'),inventoryBtn['classList']['remove'](_0x108316(0x324)),soulPerkBtn['classList'][_0x108316(0x3d3)](_0x108316(0x324)),shopBtn[_0x108316(0x28a)][_0x108316(0x3d3)](_0x108316(0x324)),isCharacterMenuOpen=!![],isInventoryMenuOpen=![],isSoulPerkMenuOpen=![],isShopMenuOpen=![],inventoryMenu[_0x108316(0x28a)][_0x108316(0x375)]('display-none'),soulPerkMenu[_0x108316(0x28a)][_0x108316(0x375)](_0x108316(0x2e8)),characterMenu[_0x108316(0x28a)]['remove'](_0x108316(0x2e8)),shopMenu[_0x108316(0x28a)][_0x108316(0x375)]('display-none');}function openInventoryMenu(){const _0x14030e=a10_0x2adce8;inventoryBtn['classList'][_0x14030e(0x375)](_0x14030e(0x324)),characterBtn['classList'][_0x14030e(0x3d3)](_0x14030e(0x324)),soulPerkBtn['classList']['remove'](_0x14030e(0x324)),shopBtn[_0x14030e(0x28a)]['remove']('champion-menu-tab-btn-active'),isInventoryMenuOpen=!![],isCharacterMenuOpen=![],isSoulPerkMenuOpen=![],isShopMenuOpen=![],characterMenu[_0x14030e(0x28a)]['add'](_0x14030e(0x2e8)),soulPerkMenu[_0x14030e(0x28a)][_0x14030e(0x375)](_0x14030e(0x2e8)),inventoryMenu[_0x14030e(0x28a)][_0x14030e(0x3d3)](_0x14030e(0x2e8)),shopMenu[_0x14030e(0x28a)][_0x14030e(0x375)](_0x14030e(0x2e8));}function openSoulPerkMenu(){const _0x5b7f08=a10_0x2adce8;soulPerkBtn[_0x5b7f08(0x28a)][_0x5b7f08(0x375)](_0x5b7f08(0x324)),characterBtn[_0x5b7f08(0x28a)][_0x5b7f08(0x3d3)](_0x5b7f08(0x324)),inventoryBtn['classList']['remove'](_0x5b7f08(0x324)),shopBtn[_0x5b7f08(0x28a)][_0x5b7f08(0x3d3)](_0x5b7f08(0x324)),isSoulPerkMenuOpen=!![],isInventoryMenuOpen=![],isCharacterMenuOpen=![],isShopMenuOpen=![],inventoryMenu['classList'][_0x5b7f08(0x375)](_0x5b7f08(0x2e8)),soulPerkMenu['classList'][_0x5b7f08(0x3d3)](_0x5b7f08(0x2e8)),characterMenu['classList'][_0x5b7f08(0x375)]('display-none'),shopMenu[_0x5b7f08(0x28a)][_0x5b7f08(0x375)](_0x5b7f08(0x2e8));}function openShopMenu(){const _0x11518e=a10_0x2adce8;soulPerkBtn[_0x11518e(0x28a)][_0x11518e(0x3d3)](_0x11518e(0x324)),characterBtn[_0x11518e(0x28a)][_0x11518e(0x3d3)](_0x11518e(0x324)),inventoryBtn[_0x11518e(0x28a)][_0x11518e(0x3d3)](_0x11518e(0x324)),shopBtn[_0x11518e(0x28a)][_0x11518e(0x375)](_0x11518e(0x324)),isSoulPerkMenuOpen=![],isInventoryMenuOpen=![],isCharacterMenuOpen=![],isShopMenuOpen=!![],inventoryMenu['classList'][_0x11518e(0x375)](_0x11518e(0x2e8)),soulPerkMenu[_0x11518e(0x28a)][_0x11518e(0x375)](_0x11518e(0x2e8)),characterMenu[_0x11518e(0x28a)][_0x11518e(0x375)]('display-none'),shopMenu[_0x11518e(0x28a)][_0x11518e(0x3d3)](_0x11518e(0x2e8));}function closeChampionMenu(){const _0x5e546c=a10_0x2adce8;$(_0x5e546c(0x2ad))[_0x5e546c(0x28a)][_0x5e546c(0x375)]('display-none'),isMenuOpen=![],isChampionMenuOpen=![],isCharacterMenuOpen=![],isInventoryMenuOpen=![],isSoulPerkMenuOpen=![],isShopMenuOpen=![],characterMenu[_0x5e546c(0x28a)][_0x5e546c(0x375)](_0x5e546c(0x2e8)),soulPerkMenu[_0x5e546c(0x28a)]['add'](_0x5e546c(0x2e8)),inventoryMenu['classList'][_0x5e546c(0x3d3)]('display-none'),shopMenu['classList']['add']('display-none');}bagBtn1[a10_0x2adce8(0x362)]('click',openBag1),bagBtn2[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),openBag2),bagBtn3[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),openBag3);function openBag1(){const _0x585ee6=a10_0x2adce8;bagBtn1[_0x585ee6(0x28a)]['add'](_0x585ee6(0x120)),bagBtn2[_0x585ee6(0x28a)][_0x585ee6(0x3d3)](_0x585ee6(0x120)),bagBtn3['classList'][_0x585ee6(0x3d3)](_0x585ee6(0x120)),$(_0x585ee6(0x148))[_0x585ee6(0x28a)][_0x585ee6(0x3d3)]('display-none'),$(_0x585ee6(0x340))[_0x585ee6(0x28a)][_0x585ee6(0x375)](_0x585ee6(0x2e8)),$(_0x585ee6(0x35f))[_0x585ee6(0x28a)][_0x585ee6(0x375)](_0x585ee6(0x2e8));}function openBag2(){const _0x45a581=a10_0x2adce8;bagBtn2[_0x45a581(0x28a)]['add'](_0x45a581(0x120)),bagBtn1[_0x45a581(0x28a)][_0x45a581(0x3d3)]('inventory-tab-active'),bagBtn3[_0x45a581(0x28a)][_0x45a581(0x3d3)](_0x45a581(0x120)),$(_0x45a581(0x340))[_0x45a581(0x28a)][_0x45a581(0x3d3)](_0x45a581(0x2e8)),$(_0x45a581(0x148))[_0x45a581(0x28a)][_0x45a581(0x375)]('display-none'),$(_0x45a581(0x35f))['classList']['add'](_0x45a581(0x2e8));}function openBag3(){const _0x4e577f=a10_0x2adce8;bagBtn3['classList']['add']('inventory-tab-active'),bagBtn2[_0x4e577f(0x28a)][_0x4e577f(0x3d3)]('inventory-tab-active'),bagBtn1[_0x4e577f(0x28a)][_0x4e577f(0x3d3)]('inventory-tab-active'),$(_0x4e577f(0x35f))[_0x4e577f(0x28a)]['remove'](_0x4e577f(0x2e8)),$(_0x4e577f(0x340))[_0x4e577f(0x28a)][_0x4e577f(0x375)](_0x4e577f(0x2e8)),$(_0x4e577f(0x148))['classList'][_0x4e577f(0x375)]('display-none');}function getPerkCount(_0x58608e){const _0x155a2f=a10_0x2adce8;return gameState[_0x155a2f(0x343)][_0x155a2f(0x325)](_0x153fb8=>_0x153fb8[_0x155a2f(0x2b8)](new RegExp(_0x58608e,'i')))[_0x155a2f(0x2aa)];}function getPerkAttackBonus(){const _0x388bd3=a10_0x2adce8;return{'unholy':getPerkCount(_0x388bd3(0x277))*0x7/0x64,'fire':(getPerkCount(_0x388bd3(0x2ce))*0x7+getPerkCount(_0x388bd3(0x146))*0xf)/0x64,'frost':(getPerkCount(_0x388bd3(0x2b6))*0x7+getPerkCount(_0x388bd3(0x146))*0xf)/0x64,'arcane':(getPerkCount(_0x388bd3(0x439))*0x7+getPerkCount(_0x388bd3(0x146))*0xf)/0x64,'nature':getPerkCount(_0x388bd3(0x25f))*0x7/0x64};}function getBaseAttack(_0x1ce26d){const _0x5a8116=a10_0x2adce8,_0x523407=0x1+0.2*getPerkCount(_0x5a8116(0x12f)+_0x1ce26d+'I*');return originalUnitAttack[_0x1ce26d]*_0x523407;}function getBaseDefense(_0x443bf0){const _0x356bd0=a10_0x2adce8,_0x5db0b3=0x1+0.2*getPerkCount(_0x356bd0(0x12f)+_0x443bf0+'I*');return originalUnitDefense[_0x443bf0]*_0x5db0b3;}function updateUnitAttack(){const _0x5df65e=a10_0x2adce8,_0x170d76=getPerkAttackBonus();for(const _0x47b723 in unitAttack){if(friendlyArmyUnitTypes[_0x5df65e(0x210)](_0x47b723)){let _0x9ab458=0x1+totalItemBonuses[_0x5df65e(0x19a)];const _0xee61cc=unitAttackTypes[_0x47b723];for(const _0x5c5a27 of _0xee61cc){_0x9ab458+=totalItemBonuses[_0x5c5a27+'Atk'],_0x9ab458+=_0x170d76[_0x5c5a27]||0x0,_0x9ab458+=getPotionCombatBoost(_0x5c5a27);}unitAttack[_0x47b723]=getBaseAttack(_0x47b723)*_0x9ab458;}}};function updateUnitDefense(){const _0x3a9f45=a10_0x2adce8;for(const _0x30d840 in unitDefense){if(friendlyArmyUnitTypes[_0x3a9f45(0x210)](_0x30d840)){let _0x23109a=0x1+totalItemBonuses['def'];unitDefense[_0x30d840]=getBaseDefense(_0x30d840)*_0x23109a;}}};let perkBtns=document[a10_0x2adce8(0x446)]('perk-cell'),perkStrokes=document[a10_0x2adce8(0x446)](a10_0x2adce8(0x1f8));function updateTechTree(){const _0x44c544=a10_0x2adce8;Array['from'](perkBtns)[_0x44c544(0x16d)](function(_0x913bb4){const _0x1590d9=_0x44c544;gameState['perksUnlocked']['includes'](_0x913bb4[_0x1590d9(0x3ec)][_0x1590d9(0x182)])===!![]?_0x913bb4['classList'][_0x1590d9(0x375)](_0x1590d9(0x2a7)):_0x913bb4['classList']['remove'](_0x1590d9(0x2a7));}),Array[_0x44c544(0x18e)](perkStrokes)[_0x44c544(0x16d)](function(_0x100dcd){const _0x2abc05=_0x44c544;gameState[_0x2abc05(0x343)][_0x2abc05(0x210)](_0x100dcd[_0x2abc05(0x3ec)][_0x2abc05(0x182)])===!![]?_0x100dcd[_0x2abc05(0x28a)][_0x2abc05(0x375)](_0x2abc05(0x2ef)):_0x100dcd[_0x2abc05(0x28a)]['remove'](_0x2abc05(0x2ef));}),updateUnitAttack(),updateUnitDefense(),updatePerkPoints();};updateTechTree();function updatePerkPoints(){const _0x4c69c=a10_0x2adce8;gameState['perkPoints']>0x0?$(_0x4c69c(0x27b))['classList'][_0x4c69c(0x375)](_0x4c69c(0x337)):$(_0x4c69c(0x27b))[_0x4c69c(0x28a)][_0x4c69c(0x3d3)]('perks-available'),document['querySelectorAll'](_0x4c69c(0x422))[_0x4c69c(0x16d)](function(_0x269333){_0x269333['innerText']=gameState['perkPoints'];});};const bookBtns=document[a10_0x2adce8(0x43d)](a10_0x2adce8(0x267)),techTrees=document[a10_0x2adce8(0x43d)]('.tech-tree');bookBtns[a10_0x2adce8(0x16d)](function(_0x3151b1){const _0x1d36b3=a10_0x2adce8;_0x3151b1['addEventListener'](_0x1d36b3(0x2c0),()=>{const _0x2bf077=_0x1d36b3;if(_0x3151b1[_0x2bf077(0x3ec)]['techTree']!==_0x2bf077(0x27d)){let _0x1267e5=_0x3151b1[_0x2bf077(0x3ec)]['techTree'];techTrees['forEach'](function(_0x1b27b7){const _0x416288=_0x2bf077;_0x1b27b7['classList'][_0x416288(0x375)](_0x416288(0x2e8)),_0x1b27b7['dataset'][_0x416288(0x1e9)]===_0x1267e5&&_0x1b27b7[_0x416288(0x28a)][_0x416288(0x3d3)]('display-none');});}});});const techTreePerks=document[a10_0x2adce8(0x446)](a10_0x2adce8(0x17b)),techTreeTooltips=document[a10_0x2adce8(0x446)]('tech-tree-tooltip');Array[a10_0x2adce8(0x18e)](techTreePerks)['forEach'](function(_0x6edc30){const _0x239777=a10_0x2adce8;_0x6edc30[_0x239777(0x2ca)]=function(){const _0x1cf27d=_0x239777;document[_0x1cf27d(0x37b)](_0x1cf27d(0x25d))['classList'][_0x1cf27d(0x3d3)](_0x1cf27d(0x2e8));let _0x4ff1d1=_0x6edc30['dataset'][_0x1cf27d(0x182)];Array[_0x1cf27d(0x18e)](techTreeTooltips)[_0x1cf27d(0x16d)](function(_0x30c8fd){const _0x4346f6=_0x1cf27d;_0x4ff1d1===_0x30c8fd[_0x4346f6(0x3ec)][_0x4346f6(0x182)]&&_0x30c8fd[_0x4346f6(0x28a)][_0x4346f6(0x3d3)](_0x4346f6(0x2e8));});},_0x6edc30[_0x239777(0x3f0)]=function(){const _0x251512=_0x239777;document[_0x251512(0x37b)](_0x251512(0x25d))[_0x251512(0x28a)][_0x251512(0x375)](_0x251512(0x2e8)),Array['from'](techTreeTooltips)[_0x251512(0x16d)](function(_0x2f918){const _0x27c2e1=_0x251512;_0x2f918[_0x27c2e1(0x28a)][_0x27c2e1(0x375)](_0x27c2e1(0x2e8));});};});function unlockPerk(_0x2018c5){const _0xe8b5f7=a10_0x2adce8;if(gameState['perkPoints']>0x0&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0x2018c5)===![]){if(_0x2018c5===_0xe8b5f7(0x402)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x405))===![]||_0x2018c5===_0xe8b5f7(0x18a)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x402))===![]||_0x2018c5===_0xe8b5f7(0x1af)&&gameState[_0xe8b5f7(0x343)]['includes'](_0xe8b5f7(0x18a))===![]||_0x2018c5===_0xe8b5f7(0x258)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x1af))===![]||_0x2018c5===_0xe8b5f7(0x17a)&&gameState['perksUnlocked'][_0xe8b5f7(0x210)]('sacrificialAltar')===![]||_0x2018c5===_0xe8b5f7(0x1ca)&&gameState[_0xe8b5f7(0x343)]['includes'](_0xe8b5f7(0x1af))===![]||_0x2018c5===_0xe8b5f7(0x3ed)&&gameState[_0xe8b5f7(0x343)]['includes']('alternativeBloodSource')===![]||_0x2018c5===_0xe8b5f7(0x1a0)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x402))===![]||_0x2018c5===_0xe8b5f7(0x260)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x405))===![]||_0x2018c5===_0xe8b5f7(0x347)&&gameState[_0xe8b5f7(0x343)]['includes'](_0xe8b5f7(0x260))===![]||_0x2018c5===_0xe8b5f7(0x418)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)]('demonicFuryII')===![]||_0x2018c5==='bloodPortal'&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x418))===![]||_0x2018c5==='enhancedBloodPortal'&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x3ce))===![]||_0x2018c5==='succubus'&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x418))===![]||_0x2018c5===_0xe8b5f7(0x352)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x29a))===![]||_0x2018c5===_0xe8b5f7(0x26a)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x260))===![]||_0x2018c5===_0xe8b5f7(0x390)&&gameState[_0xe8b5f7(0x343)]['includes']('imp')===![]||_0x2018c5===_0xe8b5f7(0x3c4)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x3ce))===![]||_0x2018c5==='bloodDemon'&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x258))===![]||_0x2018c5===_0xe8b5f7(0x2c5)&&gameState['perksUnlocked']['includes'](_0xe8b5f7(0x3c4))===![]||_0x2018c5===_0xe8b5f7(0x22e)&&gameState['perksUnlocked'][_0xe8b5f7(0x210)](_0xe8b5f7(0x3c4))===![]||_0x2018c5===_0xe8b5f7(0x33b)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x3c4))===![]||_0x2018c5===_0xe8b5f7(0x2d2)&&gameState[_0xe8b5f7(0x343)]['includes'](_0xe8b5f7(0x2da))===![]||_0x2018c5===_0xe8b5f7(0x11e)&&gameState[_0xe8b5f7(0x343)]['includes'](_0xe8b5f7(0x2d2))===![]||_0x2018c5===_0xe8b5f7(0x314)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x11e))===![]||_0x2018c5===_0xe8b5f7(0x335)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x314))===![]||_0x2018c5===_0xe8b5f7(0x318)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x335))===![]||_0x2018c5===_0xe8b5f7(0x35d)&&gameState[_0xe8b5f7(0x343)]['includes'](_0xe8b5f7(0x37d))===![]||_0x2018c5==='arcaneTalentScouting'&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x35d))===![]||_0x2018c5===_0xe8b5f7(0x315)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x3cc))===![]||_0x2018c5===_0xe8b5f7(0x19d)&&gameState['perksUnlocked'][_0xe8b5f7(0x210)](_0xe8b5f7(0x315))===![]||_0x2018c5==='arcaneMasteryIII'&&gameState['perksUnlocked'][_0xe8b5f7(0x210)](_0xe8b5f7(0x19d))===![]||_0x2018c5===_0xe8b5f7(0x1bf)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x1d0))===![]||_0x2018c5===_0xe8b5f7(0x3fb)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)]('frostMastery')===![]||_0x2018c5===_0xe8b5f7(0x279)&&gameState['perksUnlocked'][_0xe8b5f7(0x210)](_0xe8b5f7(0x3fb))===![]||_0x2018c5===_0xe8b5f7(0x15e)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)]('frostMasteryII')===![]||_0x2018c5===_0xe8b5f7(0x383)&&gameState['perksUnlocked'][_0xe8b5f7(0x210)](_0xe8b5f7(0x15e))===![]||_0x2018c5===_0xe8b5f7(0x146)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x318))===![]||_0x2018c5===_0xe8b5f7(0x146)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x3dd))===![]||_0x2018c5===_0xe8b5f7(0x146)&&gameState[_0xe8b5f7(0x343)]['includes'](_0xe8b5f7(0x383))===![]||_0x2018c5===_0xe8b5f7(0x12c)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x251))===![]||_0x2018c5==='naturesVengeance'&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x2a3))===![]||_0x2018c5===_0xe8b5f7(0x2a1)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x138))===![]||_0x2018c5==='naturesVengeanceIII'&&gameState['perksUnlocked']['includes']('naturesVengeanceII')===![]||_0x2018c5===_0xe8b5f7(0x133)&&gameState[_0xe8b5f7(0x343)]['includes'](_0xe8b5f7(0x119))===![]||_0x2018c5===_0xe8b5f7(0x156)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x133))===![]||_0x2018c5===_0xe8b5f7(0x3b2)&&gameState[_0xe8b5f7(0x343)]['includes'](_0xe8b5f7(0x156))===![]||_0x2018c5===_0xe8b5f7(0x2dc)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x44c))===![]||_0x2018c5===_0xe8b5f7(0x2dc)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)]('denseForestsIII')===![]||_0x2018c5===_0xe8b5f7(0x13e)&&gameState['perksUnlocked'][_0xe8b5f7(0x210)](_0xe8b5f7(0x2dc))===![]||_0x2018c5==='enhancedTreantII'&&gameState[_0xe8b5f7(0x343)]['includes'](_0xe8b5f7(0x2dc))===![]||_0x2018c5===_0xe8b5f7(0x166)&&gameState[_0xe8b5f7(0x343)]['includes'](_0xe8b5f7(0x156))===![]||_0x2018c5===_0xe8b5f7(0x400)&&gameState[_0xe8b5f7(0x343)]['includes'](_0xe8b5f7(0x166))===![]||_0x2018c5===_0xe8b5f7(0x34d)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x400))===![]||_0x2018c5===_0xe8b5f7(0x165)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x400))===![]||_0x2018c5===_0xe8b5f7(0x30e)&&gameState['perksUnlocked'][_0xe8b5f7(0x210)](_0xe8b5f7(0x400))===![]||_0x2018c5===_0xe8b5f7(0x286)&&gameState[_0xe8b5f7(0x343)]['includes'](_0xe8b5f7(0x30e))===![]||_0x2018c5===_0xe8b5f7(0x449)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)]('bronzeFennel')===![]||_0x2018c5===_0xe8b5f7(0x452)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x30e))===![]||_0x2018c5==='flyAgaric'&&gameState['perksUnlocked'][_0xe8b5f7(0x210)]('feverfew')===![]||_0x2018c5===_0xe8b5f7(0x416)&&gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x210)](_0xe8b5f7(0x452))===![]){}else gameState[_0xe8b5f7(0x343)][_0xe8b5f7(0x213)](_0x2018c5),gameState[_0xe8b5f7(0x23b)]--,updateTechTree(),updateUnlocks(),updateUnitAttack(),updateUnitDefense();}};Array[a10_0x2adce8(0x18e)](perkBtns)[a10_0x2adce8(0x16d)](function(_0x46a51b){const _0x4d01d1=a10_0x2adce8;_0x46a51b[_0x4d01d1(0x362)](_0x4d01d1(0x2c0),()=>unlockPerk(_0x46a51b[_0x4d01d1(0x3ec)][_0x4d01d1(0x182)]));}),document['addEventListener'](a10_0x2adce8(0x17f),logKey);function logKey(_0x5230e7){const _0x4e3dc0=a10_0x2adce8;if(_0x5230e7[_0x4e3dc0(0x29c)]===_0x4e3dc0(0x331)&&isTechTreeOpen===![]&&gameState['isTechTreeUnlocked']===!![])openTechTreeMenu();else _0x5230e7['code']===_0x4e3dc0(0x331)&&closeTechTreeMenu();;_0x5230e7[_0x4e3dc0(0x29c)]===_0x4e3dc0(0x438)&&(closeBuildMenu(),closeTechTreeMenu(),closeEnemyMenu(),closeBuildingInfoMenu(),closeChampionMenu(),closeSettings());;_0x5230e7[_0x4e3dc0(0x29c)]==='KeyM'&&letsJiggle();;if(_0x5230e7[_0x4e3dc0(0x29c)]===_0x4e3dc0(0x2e5)&&isChampionMenuOpen===![]&&isInventoryMenuOpen===![]&&(gameState[_0x4e3dc0(0x2f2)]||soulState[_0x4e3dc0(0x1e1)]>0x1))openChampionMenu(),openInventoryMenu();else{if(_0x5230e7['code']===_0x4e3dc0(0x2e5)&&isChampionMenuOpen===!![]&&isInventoryMenuOpen===![])openInventoryMenu();else _0x5230e7[_0x4e3dc0(0x29c)]===_0x4e3dc0(0x2e5)&&isChampionMenuOpen===!![]&&isInventoryMenuOpen===!![]&&closeChampionMenu();}if(gameState[_0x4e3dc0(0x2f2)]===!![]){if(_0x5230e7[_0x4e3dc0(0x29c)]===_0x4e3dc0(0x18c)&&isChampionMenuOpen===![]&&isShopMenuOpen===![])openChampionMenu(),openShopMenu();else{if(_0x5230e7['code']===_0x4e3dc0(0x18c)&&isChampionMenuOpen===!![]&&isShopMenuOpen===![])openShopMenu();else _0x5230e7[_0x4e3dc0(0x29c)]==='KeyS'&&isChampionMenuOpen===!![]&&isShopMenuOpen===!![]&&closeChampionMenu();}}};const attackBtns=document[a10_0x2adce8(0x446)](a10_0x2adce8(0x15f));Array[a10_0x2adce8(0x18e)](attackBtns)[a10_0x2adce8(0x16d)](function(_0x168afa){const _0x420cf9=a10_0x2adce8;_0x168afa[_0x420cf9(0x362)]('click',()=>openPreCombatMenu(_0x168afa));});function openPreCombatMenu(_0x3a2a09){const _0x43405e=a10_0x2adce8;if(gameState[_0x43405e(0x329)]===![]){document[_0x43405e(0x37b)]('pre-fight-menu')['classList']['remove'](_0x43405e(0x2e8)),combatSimBtn[_0x43405e(0x28a)]['add'](_0x43405e(0x2e9));const _0x2e3077=getCombatSimCost();combatSimBtn[_0x43405e(0x411)](_0x43405e(0x408))[_0x43405e(0x41b)]=_0x2e3077['knowledge'],combatSimBtn['querySelector'](_0x43405e(0x356))['innerText']=_0x2e3077[_0x43405e(0x20c)],isPreCombatMenuOpen=!![],closeEnemyMenu(),selectedEnemyBuilding=_0x3a2a09[_0x43405e(0x3ec)][_0x43405e(0x386)];let _0x425ad4=document[_0x43405e(0x446)](_0x43405e(0x161));Array['from'](_0x425ad4)[_0x43405e(0x16d)](function(_0x367453){const _0x30a213=_0x43405e;_0x367453[_0x30a213(0x28a)][_0x30a213(0x375)](_0x30a213(0x2e8));enemyStructureUnits[selectedEnemyBuilding][_0x367453[_0x30a213(0x3ec)][_0x30a213(0x3a7)]]>0x0&&_0x367453[_0x30a213(0x28a)][_0x30a213(0x3d3)](_0x30a213(0x2e8));;});let _0x43d2d4=document[_0x43405e(0x446)](_0x43405e(0x42d));Array[_0x43405e(0x18e)](_0x43d2d4)[_0x43405e(0x16d)](function(_0x3f1fd3){const _0x36ee14=_0x43405e;_0x3f1fd3['innerText']=enemyStructureUnits[selectedEnemyBuilding][_0x3f1fd3[_0x36ee14(0x3ec)]['unitType']];}),gameState['currentlyFighting']=selectedTile['id'],closeVicDef();};};updateUnlocks();function updateEnemyCounts(){const _0xd710cc=a10_0x2adce8;let _0x2de8ce=document[_0xd710cc(0x446)]('enemy-building-unit-count');Array[_0xd710cc(0x18e)](_0x2de8ce)['forEach'](function(_0x492f2e){const _0x3a4d1a=_0xd710cc;_0x492f2e[_0x3a4d1a(0x41b)]=enemyStructureUnits[_0x492f2e[_0x3a4d1a(0x3ec)]['buildingType']][_0x492f2e[_0x3a4d1a(0x3ec)][_0x3a4d1a(0x3a7)]];});};updateEnemyCounts();let selectedEnemyBuilding=null,selectedArmy=initArmyUnitCounts();function resetSelectedArmy(){const _0xae8bde=a10_0x2adce8;selectedArmy=initArmyUnitCounts();for(const _0x49f46e in selectedArmy){document['getElementById'](_0xae8bde(0x43f)+_0x49f46e+_0xae8bde(0x28e))['innerText']=0x0;}}function loadInCombatUnits(){const _0x41888a=a10_0x2adce8;let _0x529b81=document[_0x41888a(0x446)]('in-combat-unit');for(const _0x2118e3 of _0x529b81){(gameState['unitsInCombat'][_0x2118e3[_0x41888a(0x3ec)][_0x41888a(0x3a7)]]||0x0)>0x0?_0x2118e3[_0x41888a(0x28a)][_0x41888a(0x3d3)](_0x41888a(0x2e8)):_0x2118e3['classList'][_0x41888a(0x375)](_0x41888a(0x2e8));;};updateInCombatCounts(),resetSelectedArmy();};function updateInCombatCounts(){const _0x5dbc09=a10_0x2adce8;let _0x13d369=document[_0x5dbc09(0x446)](_0x5dbc09(0x298));for(const _0x12702c of _0x13d369){_0x12702c[_0x5dbc09(0x41b)]=gameState[_0x5dbc09(0x42f)][_0x12702c[_0x5dbc09(0x3ec)]['enemyType']];};}const closePreFightMenuBtn=document[a10_0x2adce8(0x37b)]('cancel-pre-fight-button');closePreFightMenuBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),closePreFightkMenu);const increaseUnitSelectionBtns=document['getElementsByClassName'](a10_0x2adce8(0x448)),decreaseUnitSelectionBtns=document[a10_0x2adce8(0x446)](a10_0x2adce8(0x3a6)),combatInitBtn=document[a10_0x2adce8(0x37b)](a10_0x2adce8(0x2df));function combatInit(){const _0x3aeb13=a10_0x2adce8;(Object[_0x3aeb13(0x248)](selectedArmy)[_0x3aeb13(0x28c)](_0x3f2f96=>_0x3f2f96>0x0)||gameState[_0x3aeb13(0x329)]===!![])&&(preFightMenu[_0x3aeb13(0x28a)][_0x3aeb13(0x375)]('display-none'),document[_0x3aeb13(0x37b)](_0x3aeb13(0x2e4))[_0x3aeb13(0x28a)][_0x3aeb13(0x3d3)](_0x3aeb13(0x2e8)),isPreCombatMenuOpen=![],turnTilesBright(),gameState[_0x3aeb13(0x329)]===![]&&(gameState[_0x3aeb13(0x42f)]={...selectedArmy,...enemyStructureUnits[selectedEnemyBuilding]}),loadInCombatUnits(),gameState[_0x3aeb13(0x329)]=!![]);;}combatInit(),combatInitBtn[a10_0x2adce8(0x362)]('click',combatInit);function increaseUnitSelection(){const _0x34cced=a10_0x2adce8;let _0x48f407=this['dataset'][_0x34cced(0x3a7)];gameState['armyUnits'][_0x48f407]>selectedArmy[_0x48f407]&&(selectedArmy[_0x48f407]++,document['getElementById'](_0x34cced(0x43f)+_0x48f407+_0x34cced(0x28e))[_0x34cced(0x41b)]=selectedArmy[_0x48f407]);}Array[a10_0x2adce8(0x18e)](increaseUnitSelectionBtns)['forEach'](function(_0x2abb5){const _0xd7fcd2=a10_0x2adce8;_0x2abb5['addEventListener'](_0xd7fcd2(0x2c0),increaseUnitSelection);});function decreaseUnitSelection(){const _0x5d30e8=a10_0x2adce8;let _0xc4419f=this[_0x5d30e8(0x3ec)]['unitType'];selectedArmy[_0xc4419f]>0x0&&(selectedArmy[_0xc4419f]--,document[_0x5d30e8(0x37b)]('selected-'+_0xc4419f+_0x5d30e8(0x28e))[_0x5d30e8(0x41b)]=selectedArmy[_0xc4419f]);}Array[a10_0x2adce8(0x18e)](decreaseUnitSelectionBtns)[a10_0x2adce8(0x16d)](function(_0x1b2cfd){const _0x37c7d2=a10_0x2adce8;_0x1b2cfd[_0x37c7d2(0x362)](_0x37c7d2(0x2c0),decreaseUnitSelection);});const maxOutUnitsBtn=$(a10_0x2adce8(0x2eb));maxOutUnitsBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),function(){const _0xd1318=a10_0x2adce8;for(const _0x3a931d in selectedArmy){selectedArmy[_0x3a931d]=gameState['armyUnits'][_0x3a931d],document[_0xd1318(0x37b)]('selected-'+_0x3a931d+'-count')[_0xd1318(0x41b)]=selectedArmy[_0x3a931d];}});const retreatBtn=$('#retreat-button');retreatBtn[a10_0x2adce8(0x362)]('click',function(){const _0x3b7cda=a10_0x2adce8;gameState[_0x3b7cda(0x142)]>gameState[_0x3b7cda(0x123)]&&(gameState[_0x3b7cda(0x142)]-=gameState[_0x3b7cda(0x123)],endCombat());});function endCombat(){const _0x6c23e9=a10_0x2adce8;closeEnemyMenu(),gameState[_0x6c23e9(0x329)]=![],isAutoResolving=![],gameState[_0x6c23e9(0x317)]=null,gameState[_0x6c23e9(0x212)]=0x0;const _0x570f2d=$(_0x6c23e9(0x31c));_0x570f2d[_0x6c23e9(0x28a)][_0x6c23e9(0x375)](_0x6c23e9(0x2e8));gameState[_0x6c23e9(0x237)]!==null&&document[_0x6c23e9(0x37b)](gameState[_0x6c23e9(0x237)]+_0x6c23e9(0x24e))['classList']['remove']('building-under-attack');;gameState[_0x6c23e9(0x42f)]={},Array[_0x6c23e9(0x18e)](attackBtns)['forEach'](_0x28dc45=>_0x28dc45[_0x6c23e9(0x28a)][_0x6c23e9(0x3d3)](_0x6c23e9(0x2e9))),combatLog[_0x6c23e9(0x23e)]='',gameState['isChampionMenuUnlocked']=!![],updateUnlocks();};let loadBuildingIMGS=function(){const _0x3a4283=a10_0x2adce8;for(const _0x187164 of tileElements){if(gameState['tiles'][_0x187164['id']]!=undefined){const _0x2cde4f=document['createElement'](_0x3a4283(0x2ed));_0x2cde4f[_0x3a4283(0x3eb)]='image_files/'+gameState['tiles'][_0x187164['id']]+_0x3a4283(0x351),_0x2cde4f[_0x3a4283(0x41e)](_0x3a4283(0x3f6),_0x3a4283(0x414));const _0xaa948b=document[_0x3a4283(0x37b)](_0x187164['id']+'-overlay');_0xaa948b[_0x3a4283(0x354)](_0x2cde4f);}}};loadBuildingIMGS();const bagSlots=document[a10_0x2adce8(0x446)]('inventory-grid-item'),characterSlots=document['getElementsByClassName'](a10_0x2adce8(0x21b)),bagBtns=document[a10_0x2adce8(0x446)](a10_0x2adce8(0x31b)),itemToolTipContainer=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x24b)),itemNameContainer=document[a10_0x2adce8(0x411)]('.item-name');Array[a10_0x2adce8(0x18e)](bagSlots)[a10_0x2adce8(0x16d)](function(_0x9a52d2){const _0x2838b4=a10_0x2adce8;let _0x5d2961='i'+_0x9a52d2['dataset']['bagSlot'];_0x9a52d2['addEventListener'](_0x2838b4(0x272),function(){const _0x1e6802=_0x2838b4;if(Object[_0x1e6802(0x2fe)](soulState[_0x5d2961])[_0x1e6802(0x2aa)]!==0x0){moveItem(_0x5d2961);if(isItemBeingMoved===![]){let _0x4630dd=document[_0x1e6802(0x3a5)](_0x1e6802(0x2ed));const _0x2cd7a2=soulState['i'+_0x9a52d2[_0x1e6802(0x3ec)][_0x1e6802(0x380)]][_0x1e6802(0x1b4)];_0x4630dd[_0x1e6802(0x41e)]('class','item-img'),_0x4630dd[_0x1e6802(0x3eb)]=_0x1e6802(0x341)+_0x2cd7a2,document[_0x1e6802(0x37b)]('moving-building-container')[_0x1e6802(0x30b)](_0x4630dd),moveMouseX=event[_0x1e6802(0x162)],moveMouseY=event[_0x1e6802(0x38a)],movingContainer[_0x1e6802(0x147)][_0x1e6802(0x14c)]=0x3c+'px',movingContainer['style']['width']=0x3c+'px',movingContainer[_0x1e6802(0x147)][_0x1e6802(0x23c)]=moveMouseX-0x1e+'px',movingContainer[_0x1e6802(0x147)][_0x1e6802(0x11d)]=moveMouseY-0x1e+'px',dragInit(movingContainer);}isItemBeingMoved=!![],updateTotalItemBonuses();}loadItemPlaceholderIMGS();}),_0x9a52d2[_0x2838b4(0x362)]('mouseup',function(){const _0x2bb373=_0x2838b4;isItemBeingMoved===!![]&&(moveItemStop(soulState,_0x5d2961),isItemBeingMoved=![],updateTotalItemBonuses(),movingContainer[_0x2bb373(0x32e)](movingContainer[_0x2bb373(0x3b1)]));}),_0x9a52d2['addEventListener']('mouseover',()=>showItemTooltip(soulState,_0x9a52d2)),_0x9a52d2['addEventListener'](_0x2838b4(0x12e),()=>showItemTooltip(soulState,_0x9a52d2)),_0x9a52d2[_0x2838b4(0x362)](_0x2838b4(0x262),function(){const _0x475570=_0x2838b4;itemToolTipContainer[_0x475570(0x28a)][_0x475570(0x375)](_0x475570(0x2e8)),itemNameContainer[_0x475570(0x147)][_0x475570(0x2e6)]='';});}),Array['from'](characterSlots)[a10_0x2adce8(0x16d)](function(_0x255034){const _0x475f30=a10_0x2adce8;let _0x52141a=_0x255034[_0x475f30(0x3ec)][_0x475f30(0x280)];_0x255034[_0x475f30(0x362)]('mousedown',function(){const _0x42ec22=_0x475f30;if(Object[_0x42ec22(0x2fe)](soulState[_0x52141a])['length']!==0x0){moveItem(_0x52141a);if(isItemBeingMoved===![]){let _0x29877b=document[_0x42ec22(0x3a5)](_0x42ec22(0x2ed));const _0x59d23f=soulState[_0x255034[_0x42ec22(0x3ec)][_0x42ec22(0x280)]][_0x42ec22(0x1b4)];_0x29877b[_0x42ec22(0x41e)](_0x42ec22(0x3f6),'item-img'),_0x29877b['src']=_0x42ec22(0x341)+_0x59d23f,document[_0x42ec22(0x37b)](_0x42ec22(0x17d))[_0x42ec22(0x30b)](_0x29877b),moveMouseX=event[_0x42ec22(0x162)],moveMouseY=event[_0x42ec22(0x38a)],movingContainer['style'][_0x42ec22(0x14c)]=0x3c+'px',movingContainer[_0x42ec22(0x147)]['width']=0x3c+'px',movingContainer[_0x42ec22(0x147)][_0x42ec22(0x23c)]=moveMouseX-0x1e+'px',movingContainer['style'][_0x42ec22(0x11d)]=moveMouseY-0x1e+'px',dragInit(movingContainer),isItemBeingMoved=!![],updateTotalItemBonuses();}}loadItemPlaceholderIMGS();}),_0x255034[_0x475f30(0x362)](_0x475f30(0x12e),function(){const _0x51a36a=_0x475f30;isItemBeingMoved===!![]&&(moveItemStop(soulState,_0x52141a),isItemBeingMoved=![],movingContainer[_0x51a36a(0x32e)](movingContainer[_0x51a36a(0x3b1)]),updateTotalItemBonuses());}),_0x255034[_0x475f30(0x362)](_0x475f30(0x206),()=>showItemTooltip(soulState,_0x255034)),_0x255034[_0x475f30(0x362)](_0x475f30(0x12e),()=>showItemTooltip(soulState,_0x255034)),_0x255034[_0x475f30(0x362)](_0x475f30(0x262),function(){const _0x50f93f=_0x475f30;itemToolTipContainer[_0x50f93f(0x28a)][_0x50f93f(0x375)]('display-none'),itemNameContainer[_0x50f93f(0x147)]['color']='';});});let isItemBeingMoved=![];document[a10_0x2adce8(0x3b0)][a10_0x2adce8(0x362)](a10_0x2adce8(0x262),function(){const _0x12bd56=a10_0x2adce8;isItemBeingMoved===!![]&&(abandonMoveItem(soulState),isItemBeingMoved=![],movingContainer[_0x12bd56(0x32e)](movingContainer[_0x12bd56(0x3b1)]),updateTotalItemBonuses());}),document[a10_0x2adce8(0x3b0)][a10_0x2adce8(0x362)](a10_0x2adce8(0x12e),function(){const _0x14c324=a10_0x2adce8;isItemBeingMoved===!![]&&(abandonMoveItem(soulState),isItemBeingMoved=![],movingContainer[_0x14c324(0x32e)](movingContainer[_0x14c324(0x3b1)]),updateTotalItemBonuses());}),Array['from'](bagBtns)[a10_0x2adce8(0x16d)](function(_0xe01cb7){const _0x2fd7d8=a10_0x2adce8;let _0x33077f;_0xe01cb7['addEventListener']('mouseover',function(){isItemBeingMoved===!![]&&(_0x33077f=setTimeout(function(){const _0x4f0621=a10_0x2685;if(_0xe01cb7['id']==='bag-btn-1')openBag1();else{if(_0xe01cb7['id']===_0x4f0621(0x1ef))openBag2();else _0xe01cb7['id']==='bag-btn-3'&&openBag3();}},0x12c));}),_0xe01cb7['addEventListener'](_0x2fd7d8(0x262),function(){clearTimeout(_0x33077f);});});const sellItemBox=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x323));sellItemBox['addEventListener'](a10_0x2adce8(0x206),prepareSale),sellItemBox[a10_0x2adce8(0x362)](a10_0x2adce8(0x262),stopSale),sellItemBox[a10_0x2adce8(0x362)](a10_0x2adce8(0x12e),function(){isItemBeingMoved===!![]&&(sellItem(soulState),sellAnimation(),loadShopPrices(soulState));});function prepareSale(){const _0x2dedd0=a10_0x2adce8;isItemBeingMoved===!![]&&(sellItemBox['style'][_0x2dedd0(0x325)]=_0x2dedd0(0x222),sellItemBox[_0x2dedd0(0x147)][_0x2dedd0(0x287)]='scale(1.4)',sellItemBox['innerText']='Sell?');}function stopSale(){const _0x2f617e=a10_0x2adce8;sellItemBox['style']['filter']='',sellItemBox[_0x2f617e(0x41b)]=_0x2f617e(0x3e7),sellItemBox['style']['transform']='';}function sellAnimation(){const _0x3d9735=a10_0x2adce8;sellItemBox[_0x3d9735(0x147)][_0x3d9735(0x325)]='',sellItemBox[_0x3d9735(0x41b)]=_0x3d9735(0x3e7),sellItemBox[_0x3d9735(0x147)]['transform']='',document['querySelector'](_0x3d9735(0x1e0))[_0x3d9735(0x147)][_0x3d9735(0x287)]=_0x3d9735(0x31f),setTimeout(function(){const _0x5e920e=_0x3d9735;document[_0x5e920e(0x411)]('.gold-container')[_0x5e920e(0x147)][_0x5e920e(0x287)]='';},0xc8);}function updateTotalItemBonuses(){const _0x3536b2=a10_0x2adce8;Object[_0x3536b2(0x2fe)](totalItemBonuses)[_0x3536b2(0x16d)](_0x5b8029=>totalItemBonuses[_0x5b8029]=0x0),Array[_0x3536b2(0x18e)](characterSlots)[_0x3536b2(0x16d)](function(_0x5af1ef){const _0x4bd1ae=_0x3536b2;if(soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x1e6)]===_0x4bd1ae(0x407))totalItemBonuses['atk']+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)]['charSlot']][_0x4bd1ae(0x233)];else soulState[_0x5af1ef[_0x4bd1ae(0x3ec)]['charSlot']][_0x4bd1ae(0x1e6)]===_0x4bd1ae(0x2e2)&&(totalItemBonuses[_0x4bd1ae(0x2f3)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x233)]);soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x1f6)]===_0x4bd1ae(0x27f)&&(totalItemBonuses[_0x4bd1ae(0x404)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x2af)]),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x1f6)]===_0x4bd1ae(0x13f)&&(totalItemBonuses[_0x4bd1ae(0x14e)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x2af)]),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x1f6)]===_0x4bd1ae(0x436)&&(totalItemBonuses['flyingAtk']+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)]['charSlot']][_0x4bd1ae(0x2af)]),soulState[_0x5af1ef['dataset'][_0x4bd1ae(0x280)]][_0x4bd1ae(0x1f6)]===_0x4bd1ae(0x376)&&(totalItemBonuses[_0x4bd1ae(0x21d)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]]['spAtkBuff']),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)]['charSlot']][_0x4bd1ae(0x1f6)]===_0x4bd1ae(0x1a2)&&(totalItemBonuses[_0x4bd1ae(0x244)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)]['charSlot']]['spAtkBuff']),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x1f6)]==='frost'&&(totalItemBonuses[_0x4bd1ae(0x2ea)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x2af)]),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x1f6)]==='nature'&&(totalItemBonuses['natureAtk']+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)]['charSlot']][_0x4bd1ae(0x2af)]),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)]['charSlot']][_0x4bd1ae(0x1f6)]==='holy'&&(totalItemBonuses[_0x4bd1ae(0x3ff)]+=soulState[_0x5af1ef['dataset'][_0x4bd1ae(0x280)]]['spAtkBuff']),soulState[_0x5af1ef['dataset']['charSlot']]['spAtkType']==='unholy'&&(totalItemBonuses[_0x4bd1ae(0x1f1)]+=soulState[_0x5af1ef['dataset'][_0x4bd1ae(0x280)]][_0x4bd1ae(0x2af)]),soulState[_0x5af1ef['dataset']['charSlot']]['productionBonusOne']===_0x4bd1ae(0x1ff)&&(totalItemBonuses[_0x4bd1ae(0x1ff)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]]['productionBonusOnePower']),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x127)]===_0x4bd1ae(0x388)&&(totalItemBonuses[_0x4bd1ae(0x388)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]]['productionBonusOnePower']),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x127)]===_0x4bd1ae(0x39f)&&(totalItemBonuses['wood']+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x13a)]),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)]['charSlot']][_0x4bd1ae(0x127)]===_0x4bd1ae(0x3a1)&&(totalItemBonuses[_0x4bd1ae(0x3a1)]+=soulState[_0x5af1ef['dataset'][_0x4bd1ae(0x280)]][_0x4bd1ae(0x13a)]),soulState[_0x5af1ef['dataset'][_0x4bd1ae(0x280)]][_0x4bd1ae(0x127)]===_0x4bd1ae(0x16a)&&(totalItemBonuses[_0x4bd1ae(0x16a)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x13a)]),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]]['productionBonusOne']===_0x4bd1ae(0x142)&&(totalItemBonuses['equipment']+=soulState[_0x5af1ef['dataset']['charSlot']][_0x4bd1ae(0x13a)]),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)]['charSlot']]['productionBonusOne']===_0x4bd1ae(0x1ad)&&(totalItemBonuses[_0x4bd1ae(0x1ad)]+=soulState[_0x5af1ef['dataset'][_0x4bd1ae(0x280)]]['productionBonusOnePower']),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)]['charSlot']][_0x4bd1ae(0x127)]===_0x4bd1ae(0x217)&&(totalItemBonuses[_0x4bd1ae(0x217)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x13a)]),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]]['productionBonusTwo']==='humans'&&(totalItemBonuses[_0x4bd1ae(0x1ff)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x1d7)]),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x19b)]===_0x4bd1ae(0x388)&&(totalItemBonuses[_0x4bd1ae(0x388)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)]['charSlot']]['productionBonusTwoPower']),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]]['productionBonusTwo']==='wood'&&(totalItemBonuses[_0x4bd1ae(0x39f)]+=soulState[_0x5af1ef['dataset'][_0x4bd1ae(0x280)]][_0x4bd1ae(0x1d7)]),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x19b)]===_0x4bd1ae(0x3a1)&&(totalItemBonuses[_0x4bd1ae(0x3a1)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]]['productionBonusTwoPower']),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x19b)]==='iron'&&(totalItemBonuses[_0x4bd1ae(0x16a)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x1d7)]),soulState[_0x5af1ef['dataset'][_0x4bd1ae(0x280)]][_0x4bd1ae(0x19b)]===_0x4bd1ae(0x142)&&(totalItemBonuses[_0x4bd1ae(0x142)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x1d7)]),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x19b)]===_0x4bd1ae(0x1ad)&&(totalItemBonuses[_0x4bd1ae(0x1ad)]+=soulState[_0x5af1ef['dataset'][_0x4bd1ae(0x280)]][_0x4bd1ae(0x1d7)]),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x19b)]==='blood'&&(totalItemBonuses['blood']+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x1d7)]),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x186)]===_0x4bd1ae(0x1ff)&&(totalItemBonuses[_0x4bd1ae(0x1ff)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x3e0)]),soulState[_0x5af1ef['dataset'][_0x4bd1ae(0x280)]]['doubleProductionBonus']===_0x4bd1ae(0x388)&&(totalItemBonuses[_0x4bd1ae(0x388)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x3e0)]),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]]['doubleProductionBonus']===_0x4bd1ae(0x39f)&&(totalItemBonuses[_0x4bd1ae(0x39f)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x3e0)]),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x186)]==='stone'&&(totalItemBonuses['stone']+=soulState[_0x5af1ef['dataset'][_0x4bd1ae(0x280)]][_0x4bd1ae(0x3e0)]),soulState[_0x5af1ef['dataset'][_0x4bd1ae(0x280)]][_0x4bd1ae(0x186)]===_0x4bd1ae(0x16a)&&(totalItemBonuses[_0x4bd1ae(0x16a)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)]['charSlot']]['doubleProductionBonusPower']),soulState[_0x5af1ef['dataset']['charSlot']][_0x4bd1ae(0x186)]===_0x4bd1ae(0x142)&&(totalItemBonuses[_0x4bd1ae(0x142)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x3e0)]),soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x186)]===_0x4bd1ae(0x1ad)&&(totalItemBonuses[_0x4bd1ae(0x1ad)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]][_0x4bd1ae(0x3e0)]),soulState[_0x5af1ef['dataset']['charSlot']]['doubleProductionBonus']===_0x4bd1ae(0x217)&&(totalItemBonuses[_0x4bd1ae(0x217)]+=soulState[_0x5af1ef[_0x4bd1ae(0x3ec)][_0x4bd1ae(0x280)]]['doubleProductionBonusPower']);});const _0x10532f=document[_0x3536b2(0x446)](_0x3536b2(0x276));Array[_0x3536b2(0x18e)](_0x10532f)[_0x3536b2(0x16d)](function(_0x23d407){const _0x461f08=_0x3536b2;_0x23d407[_0x461f08(0x41b)]='+'+(totalItemBonuses[_0x23d407['dataset'][_0x461f08(0x1e6)]]*0x64)[_0x461f08(0x253)](0x2)+'%';}),updateUnitAttack(),updateUnitDefense();}updateTotalItemBonuses();const combatStatsBtn=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x294)),productionStatsBtn=document[a10_0x2adce8(0x411)]('.production-stats-btn'),combatStatsContainer=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x359)),productionStatsContainer=document['querySelector'](a10_0x2adce8(0x2c6));combatStatsBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),function(){const _0x1d2cdb=a10_0x2adce8;combatStatsBtn[_0x1d2cdb(0x28a)][_0x1d2cdb(0x375)]('inventory-stats-btn-active'),productionStatsBtn[_0x1d2cdb(0x28a)][_0x1d2cdb(0x3d3)](_0x1d2cdb(0x426)),combatStatsContainer[_0x1d2cdb(0x28a)]['remove'](_0x1d2cdb(0x2e8)),productionStatsContainer[_0x1d2cdb(0x28a)][_0x1d2cdb(0x375)]('display-none');}),productionStatsBtn['addEventListener'](a10_0x2adce8(0x2c0),function(){const _0x595e14=a10_0x2adce8;combatStatsBtn['classList'][_0x595e14(0x3d3)](_0x595e14(0x426)),productionStatsBtn[_0x595e14(0x28a)][_0x595e14(0x375)]('inventory-stats-btn-active'),combatStatsContainer[_0x595e14(0x28a)][_0x595e14(0x375)]('display-none'),productionStatsContainer['classList']['remove']('display-none');}),updateGoldCount(soulState),loadItemIMGS(soulState),loadItemPlaceholderIMGS();const zoomInBtn=document[a10_0x2adce8(0x37b)](a10_0x2adce8(0x425)),zoomOutBtn=document[a10_0x2adce8(0x37b)](a10_0x2adce8(0x124));let zoomLevel=1.2,zoomTimeoutId;zoomInBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),zoomIn);function zoomIn(){const _0x12a83c=a10_0x2adce8;if(zoomLevel<3.2){clearTimeout(zoomTimeoutId);zoomLevel>2.8?zoomLevel=3.2:zoomLevel+=0.4;let _0x454d4e=document['getElementById'](_0x12a83c(0x2d6)),_0x2133bb=document[_0x12a83c(0x37b)](_0x12a83c(0x2f9));_0x454d4e[_0x12a83c(0x28a)][_0x12a83c(0x375)](_0x12a83c(0x20e)),_0x2133bb[_0x12a83c(0x28a)][_0x12a83c(0x375)](_0x12a83c(0x20e)),_0x454d4e[_0x12a83c(0x147)][_0x12a83c(0x287)]=_0x12a83c(0x25a)+zoomLevel+')',_0x2133bb[_0x12a83c(0x147)]['transform']=_0x12a83c(0x361)+zoomLevel+')',zoomTimeoutId=setTimeout(function(){const _0x6d22ba=_0x12a83c;_0x454d4e[_0x6d22ba(0x28a)][_0x6d22ba(0x3d3)](_0x6d22ba(0x20e)),_0x2133bb[_0x6d22ba(0x28a)][_0x6d22ba(0x3d3)](_0x6d22ba(0x20e));},0xc8);};};zoomOutBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),zoomOut);function zoomOut(){const _0xde571d=a10_0x2adce8;if(zoomLevel>0.5){clearTimeout(zoomTimeoutId);zoomLevel<0.9?zoomLevel=0.5:zoomLevel-=0.4;let _0x115d63=document[_0xde571d(0x37b)](_0xde571d(0x2d6)),_0x20e519=document['getElementById'](_0xde571d(0x2f9));_0x115d63[_0xde571d(0x28a)][_0xde571d(0x375)]('smooth-transition'),_0x20e519['classList'][_0xde571d(0x375)](_0xde571d(0x20e)),_0x115d63[_0xde571d(0x147)][_0xde571d(0x287)]=_0xde571d(0x25a)+zoomLevel+')',_0x20e519[_0xde571d(0x147)]['transform']=_0xde571d(0x361)+zoomLevel+')',zoomTimeoutId=setTimeout(function(){const _0x535f94=_0xde571d;_0x115d63[_0x535f94(0x28a)]['remove'](_0x535f94(0x20e)),_0x20e519[_0x535f94(0x28a)][_0x535f94(0x3d3)](_0x535f94(0x20e));},0xc8);}}let toggleFullScreenBtn=document[a10_0x2adce8(0x37b)]('toggle-full-screen-button');toggleFullScreenBtn[a10_0x2adce8(0x362)]('click',toggleFullScreen);function toggleFullScreen(){const _0x10b328=a10_0x2adce8;document['fullscreenElement']===null?(document['querySelector'](_0x10b328(0x2b1))['requestFullscreen'](),document[_0x10b328(0x37b)](_0x10b328(0x3fd))[_0x10b328(0x28a)]['remove'](_0x10b328(0x2e8)),document[_0x10b328(0x37b)](_0x10b328(0x3f2))['classList'][_0x10b328(0x375)](_0x10b328(0x2e8)),document[_0x10b328(0x411)](_0x10b328(0x454))[_0x10b328(0x28a)][_0x10b328(0x375)](_0x10b328(0x2e8)),document[_0x10b328(0x39b)][_0x10b328(0x147)]['setProperty'](_0x10b328(0x421),_0x10b328(0x32f))):(document[_0x10b328(0x3e2)](),document[_0x10b328(0x37b)]('fs-on-icon')[_0x10b328(0x28a)]['remove'](_0x10b328(0x2e8)),document[_0x10b328(0x37b)](_0x10b328(0x3fd))[_0x10b328(0x28a)][_0x10b328(0x375)](_0x10b328(0x2e8)),document[_0x10b328(0x411)](_0x10b328(0x454))[_0x10b328(0x28a)][_0x10b328(0x3d3)]('display-none'),document[_0x10b328(0x39b)][_0x10b328(0x147)]['setProperty']('--ad-container-width',_0x10b328(0x357)));;};const map=document[a10_0x2adce8(0x37b)]('map');map[a10_0x2adce8(0x362)](a10_0x2adce8(0x1a4),function(_0x4dd69c){const _0x3f5cba=a10_0x2adce8;isBuildingMoving===![]&&(zoomLevel-=_0x4dd69c[_0x3f5cba(0x192)]*0.002,zoomLevel=Math['min'](Math[_0x3f5cba(0x118)](0.5,zoomLevel),3.2),document[_0x3f5cba(0x37b)](_0x3f5cba(0x2d6))[_0x3f5cba(0x147)][_0x3f5cba(0x287)]=_0x3f5cba(0x25a)+zoomLevel+')',document[_0x3f5cba(0x37b)](_0x3f5cba(0x2f9))[_0x3f5cba(0x147)][_0x3f5cba(0x287)]='scale('+zoomLevel+')');},{'passive':!![]});let selected=null,xPos=0x0,yPos=0x0,xElem=0x0,yElem=0x0;function dragInit(_0x29fe4f){const _0x3565ab=a10_0x2adce8;selected=_0x29fe4f,xElem=xPos-selected[_0x3565ab(0x126)],yElem=yPos-selected[_0x3565ab(0x1d2)];}function moveElem(_0x2a5960){const _0x25ac91=a10_0x2adce8;xPos=window['event'][_0x25ac91(0x2c7)],yPos=window[_0x25ac91(0x3e4)]['clientY'],selected!==null&&(selected['style'][_0x25ac91(0x23c)]=xPos-xElem+'px',selected[_0x25ac91(0x147)][_0x25ac91(0x11d)]=yPos-yElem+'px');}function destroy(){selected=null;}document[a10_0x2adce8(0x37b)](a10_0x2adce8(0x290))['onmousedown']=function(_0xd3a5be){return dragInit(this),![];},document['getElementById']('grid-container')[a10_0x2adce8(0x32d)]=function(){closeBuildMenu(),closeEnemyMenu(),closeBuildingInfoMenu(),closeBuildMenu(),closePreFightkMenu(),closeTechTreeMenu(),closeChampionMenu();},document['onmousemove']=moveElem,document[a10_0x2adce8(0x32d)]=destroy;let tileReach;function calcTileReach(){const _0x5bd840=a10_0x2adce8;let _0x1ea16f=[];gameState[_0x5bd840(0x2ee)][_0x5bd840(0x16d)](function(_0xf16674){const _0x21c1bf=_0x5bd840;_0x1ea16f[_0x21c1bf(0x213)](_0xf16674['replace']('t',''));}),tileReach=[],_0x1ea16f[_0x5bd840(0x16d)](function(_0x25a77c){const _0x31802b=_0x5bd840;_0x25a77c=parseInt(_0x25a77c);if(_0x25a77c===0x1)tileReach[_0x31802b(0x213)]('t'+(_0x25a77c+0x1),'t'+(_0x25a77c+0x8));else{if(_0x25a77c===0x8)tileReach[_0x31802b(0x213)]('t'+(_0x25a77c-0x1),'t'+(_0x25a77c+0x8));else{if(_0x25a77c===0x39)tileReach[_0x31802b(0x213)]('t'+(_0x25a77c-0x8),'t'+(_0x25a77c+0x1));else{if(_0x25a77c===0x40)tileReach['push']('t'+(_0x25a77c-0x8),'t'+(_0x25a77c-0x1));else{if(_0x25a77c%0x8===0x1)tileReach['push']('t'+(_0x25a77c-0x8),'t'+(_0x25a77c+0x1),'t'+(_0x25a77c+0x8));else{if(_0x25a77c%0x8===0x0)tileReach[_0x31802b(0x213)]('t'+(_0x25a77c-0x8),'t'+(_0x25a77c-0x1),'t'+(_0x25a77c+0x8));else{if(_0x25a77c<0x8)tileReach[_0x31802b(0x213)]('t'+(_0x25a77c-0x1),'t'+(_0x25a77c+0x1),'t'+(_0x25a77c+0x8));else _0x25a77c>0x39?tileReach[_0x31802b(0x213)]('t'+(_0x25a77c-0x1),'t'+(_0x25a77c+0x1),'t'+(_0x25a77c-0x8)):tileReach['push']('t'+(_0x25a77c-0x1),'t'+(_0x25a77c+0x1),'t'+(_0x25a77c-0x8),'t'+(_0x25a77c+0x8));}}}}}}});};function updatePrestigeCounter(){const _0x59689d=a10_0x2adce8;prestigeCounter[_0x59689d(0x41b)]=soulState[_0x59689d(0x1e1)];}updatePrestigeCounter();function refreshFog(){const _0x200b35=a10_0x2adce8;calcTileReach(),Array['from'](tileOverlays)['forEach'](function(_0x186989){const _0x2b6519=a10_0x2685;_0x186989[_0x2b6519(0x147)][_0x2b6519(0x1d9)]=_0x2b6519(0x17c),setTimeout(()=>{const _0x5d9bfc=_0x2b6519;_0x186989[_0x5d9bfc(0x147)][_0x5d9bfc(0x1d9)]='';},0x1f4),tileReach[_0x2b6519(0x210)](_0x186989['id']['replace'](_0x2b6519(0x24e),''))===![]&&_0x186989[_0x2b6519(0x28a)][_0x2b6519(0x375)](_0x2b6519(0x43b)),tileReach[_0x2b6519(0x210)](_0x186989['id'][_0x2b6519(0x1f7)](_0x2b6519(0x24e),''))===!![]&&_0x186989[_0x2b6519(0x28a)][_0x2b6519(0x3d3)](_0x2b6519(0x43b));}),Array[_0x200b35(0x18e)](tileElements)[_0x200b35(0x16d)](function(_0x11ce64){const _0x4c4cd9=_0x200b35;tileReach['includes'](_0x11ce64['id'][_0x4c4cd9(0x1f7)](_0x4c4cd9(0x24e),''))===![]&&_0x11ce64[_0x4c4cd9(0x28a)]['add']('pointer-events-none'),tileReach[_0x4c4cd9(0x210)](_0x11ce64['id']['replace'](_0x4c4cd9(0x24e),''))===!![]&&_0x11ce64[_0x4c4cd9(0x28a)][_0x4c4cd9(0x3d3)](_0x4c4cd9(0x289));});};refreshFog();function showPrestigeButton(){const _0x2d8691=a10_0x2adce8;gameState['controlledTiles']['length']===0x40&&$(_0x2d8691(0x153))[_0x2d8691(0x28a)][_0x2d8691(0x3d3)](_0x2d8691(0x2e8));}function getCombatSimCost(){const _0x50c5b8=a10_0x2adce8,_0x5cb524=gameState[_0x50c5b8(0x3c0)][selectedTile['id']],_0x3bc784=enemyStructureUnits[_0x5cb524],_0x1ac363=Object[_0x50c5b8(0x248)](_0x3bc784)[_0x50c5b8(0x1c1)]((_0x2afca4,_0xed0ea3)=>_0x2afca4+_0xed0ea3);return{'knowledge':0x23*_0x1ac363,'gold':_0x1ac363};}function canCombatSim(){const _0xa13d8b=a10_0x2adce8,_0x59b284=Object[_0xa13d8b(0x248)](selectedArmy)[_0xa13d8b(0x28c)](_0x2a4a27=>_0x2a4a27>0x0),_0x2330ae=getCombatSimCost(),_0x3fa547=_0x2330ae[_0xa13d8b(0x1ad)]<=gameState['knowledge']&&_0x2330ae[_0xa13d8b(0x20c)]<=soulState[_0xa13d8b(0x20c)];return _0x59b284&&_0x3fa547;}function getAutoResolveCost(){const _0x15ffe1=a10_0x2adce8,_0x389f3c=gameState['enemyUnitsInCombat'][_0x15ffe1(0x2aa)];return{'gold':0x7*_0x389f3c,'equipment':0x6*_0x389f3c,'knowledge':0xd*_0x389f3c};}function canAutoResolve(){const _0x5d5687=a10_0x2adce8,_0x17858a=soulState[_0x5d5687(0x2b7)][_0x5d5687(0x210)](_0x5d5687(0x30a)),_0x5c8c09=getAutoResolveCost(),_0x2479f2=_0x5c8c09[_0x5d5687(0x1ad)]<=gameState['knowledge']&&_0x5c8c09['gold']<=soulState['gold']&&_0x5c8c09['equipment']<=gameState[_0x5d5687(0x142)];return _0x17858a&&_0x2479f2;}function autoResolveCombat(){const _0x1a8adc=a10_0x2adce8,_0x15897f=gameState[_0x1a8adc(0x2be)],_0x140c4f=gameState['enemyUnitsInCombat'],_0x54f04c=getTeleportChance(),_0x5caeed=getCombatSimulationResult(_0x15897f,_0x140c4f,unitAttackTypes,unitWeaknessTypes,unitAttack,unitDefense,getSaveChance(),_0x54f04c),_0x5230ec=_0x5caeed[0x0][_0x1a8adc(0x2aa)]>0x0,_0x3d372d=_0x5caeed[0x0][_0x1a8adc(0x1c1)]((_0x1981b2,_0x1f0383)=>{const _0x547055=_0x1a8adc,_0xed6720=_0x1981b2[_0x547055(0x44a)](_0x1f0383);return _0x1981b2['filter']((_0x45941f,_0x1832e3)=>_0x1832e3!==_0xed6720);},_0x15897f);for(const _0x52bec9 of _0x3d372d){onUnitRemoved(_0x52bec9,!![]),(!_0x54f04c||Math['random']()>_0x54f04c)&&gameState[_0x1a8adc(0x328)][_0x52bec9]--;}const _0x3df703=_0x5caeed[0x1][_0x1a8adc(0x1c1)]((_0x4a2411,_0x406720)=>{const _0x576bc3=_0x1a8adc,_0x10a9f7=_0x4a2411[_0x576bc3(0x44a)](_0x406720);return _0x4a2411['filter']((_0x34aca9,_0x508a7c)=>_0x508a7c!==_0x10a9f7);},_0x140c4f);for(const _0x25c864 of _0x3df703){onUnitRemoved(_0x25c864,!![]),onEnemyKilled(_0x25c864,!![]);}updateInCombatCounts(),onCombatEnd(_0x5230ec);}let isAutoResolving=![];const autoResolveCombatBtn=$(a10_0x2adce8(0x2cd));autoResolveCombatBtn[a10_0x2adce8(0x362)]('click',function(){const _0x1fc471=a10_0x2adce8;if(!isAutoResolving&&canAutoResolve()){const _0x520b5c=getAutoResolveCost();gameState[_0x1fc471(0x142)]-=_0x520b5c[_0x1fc471(0x142)],gameState[_0x1fc471(0x1ad)]-=_0x520b5c['knowledge'],soulState[_0x1fc471(0x20c)]-=_0x520b5c[_0x1fc471(0x20c)],updateGoldCount(soulState),isAutoResolving=!![];}});let isCalculatingWinChance=![];const combatSimBtn=$('#calc-win-chance-btn');combatSimBtn[a10_0x2adce8(0x362)](a10_0x2adce8(0x2c0),function(){const _0x3d38c0=a10_0x2adce8;if(isCalculatingWinChance===![]&&canCombatSim()){const _0x594f0a=getCombatSimCost();gameState[_0x3d38c0(0x1ad)]-=_0x594f0a[_0x3d38c0(0x1ad)],soulState[_0x3d38c0(0x20c)]-=_0x594f0a['gold'],updateGoldCount(soulState),runCombatSimulations(),isCalculatingWinChance=!![];}});function runCombatSimulations(){const _0x3eb828=a10_0x2adce8,_0x511cb2=Object[_0x3eb828(0x2fe)](selectedArmy)[_0x3eb828(0x1c1)]((_0x2fcb40,_0x4dff62)=>[..._0x2fcb40,...Array(selectedArmy[_0x4dff62])[_0x3eb828(0x249)](_0x4dff62)],[]),_0x5d411c=Object[_0x3eb828(0x2fe)](enemyStructureUnits[selectedEnemyBuilding])[_0x3eb828(0x1c1)]((_0x3f553b,_0x667aff)=>[..._0x3f553b,...Array(enemyStructureUnits[selectedEnemyBuilding][_0x667aff])[_0x3eb828(0x249)](_0x667aff)],[]),_0xd97946={'attackers':_0x511cb2,'defenders':_0x5d411c,'unitAttackTypes':unitAttackTypes,'unitWeaknessTypes':unitWeaknessTypes,'unitAttack':unitAttack,'unitDefense':unitDefense,'saveChance':getSaveChance(),'teleportChance':getTeleportChance()};simulationWorker[_0x3eb828(0x35b)](_0xd97946);}function fillCombatArrays(){const _0x50827e=a10_0x2adce8;for(const [_0x2fccd8,_0x27e817]of[[friendlyArmyUnitTypes,gameState[_0x50827e(0x2be)]=[]],[enemyUnitTypes,gameState['enemyUnitsInCombat']=[]]]){for(const _0x1a73af of _0x2fccd8)_0x27e817[_0x50827e(0x213)](...Array(gameState[_0x50827e(0x42f)][_0x1a73af]||0x0)['fill'](_0x1a73af));for(let _0x45034e=_0x27e817[_0x50827e(0x2aa)]-0x1;_0x45034e>0x0;_0x45034e--){let _0x3b706a=Math[_0x50827e(0x1d8)](Math['random']()*(_0x45034e+0x1)),_0x53cc1=_0x27e817[_0x45034e];_0x27e817[_0x45034e]=_0x27e817[_0x3b706a],_0x27e817[_0x3b706a]=_0x53cc1;};}};const currentCombatGoldCount=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x40c)),tickWorker=new Worker('tick.js');tickWorker[a10_0x2adce8(0x1f3)]=tick;const simulationWorker=new Worker(a10_0x2adce8(0x116));simulationWorker[a10_0x2adce8(0x1f3)]=({data:_0x4baeb4})=>{const _0x33c662=a10_0x2adce8,{progress:_0x4b9e40,winChance:_0x4b39c8}=_0x4baeb4;$(_0x33c662(0x16f))['style'][_0x33c662(0x41d)]=_0x4b9e40+'%',_0x4b9e40===0x64&&($(_0x33c662(0x32c))[_0x33c662(0x41b)]='~'+_0x4b39c8+'%',isCalculatingWinChance=![],setTimeout(()=>{const _0x40289e=_0x33c662;$('#calc-win-chance-progress-bar-fill')['style'][_0x40289e(0x41d)]='0%';},0x64));};let displayedTime;function tick(){const _0x4ab837=a10_0x2adce8;gameState['elapsedTime']++;let _0x2856e7=Math[_0x4ab837(0x1d8)](gameState[_0x4ab837(0x20d)]/ticksPerSecond%0x3c)[_0x4ab837(0x1c2)]()['padStart'](0x2,'0'),_0x2f9d89=Math[_0x4ab837(0x1d8)](gameState['elapsedTime']/ticksPerSecond/0x3c%0x3c)[_0x4ab837(0x1c2)]()['padStart'](0x2,'0'),_0x3839af=Math[_0x4ab837(0x1d8)](gameState['elapsedTime']/ticksPerSecond/0x3c/0x3c%0x18)[_0x4ab837(0x1c2)]()['padStart'](0x2,'0'),_0x2be375=Math['floor'](gameState[_0x4ab837(0x20d)]/ticksPerSecond/0x3c/0x3c/0x18)[_0x4ab837(0x1c2)]()[_0x4ab837(0x2a0)](0x2,'0');displayedTime=_0x2be375+':'+_0x3839af+':'+_0x2f9d89+':'+_0x2856e7,$(_0x4ab837(0x2f0))[_0x4ab837(0x41b)]=displayedTime;if(!gameState[_0x4ab837(0x343)]['includes']('rainingBlood')){if(gameState[_0x4ab837(0x20d)]===gameState['nextEventTime']){const _0x3de299=[droughtInit,rainInit,carnivalInit],_0x27a903=_0x3de299[Math[_0x4ab837(0x1d8)](Math[_0x4ab837(0x122)]()*_0x3de299[_0x4ab837(0x2aa)])];_0x27a903();}else{const _0x28bdf7=0x78*ticksPerSecond;gameState[_0x4ab837(0x20d)]>=gameState[_0x4ab837(0x36f)]+_0x28bdf7&&(eventTerminate(),setNextEventTime());}}let _0x30b046=0.2+baseUnitEfficiency[_0x4ab837(0x31d)]*gameState['civilUnits'][_0x4ab837(0x31d)];gameState[_0x4ab837(0x20d)]%0x5===0x0&&increasePlantProgress(_0x30b046);if(gameState['activePotionEffect']['timer']>0x0&&gameState[_0x4ab837(0x3a4)]['name']!==null){potionEffectIcon[_0x4ab837(0x3eb)]=_0x4ab837(0x2b5)+Object[_0x4ab837(0x248)](potionEffects[gameState['activePotionEffect'][_0x4ab837(0x330)]])[0x0]+_0x4ab837(0x143);potionEffects[gameState['activePotionEffect']['name']][_0x4ab837(0x37a)]===!![]?potionEffectText[_0x4ab837(0x41b)]=_0x4ab837(0x158)+potionEffectPower[_0x4ab837(0x37a)][gameState['activePotionEffect'][_0x4ab837(0x42c)]]*0x64+'%':potionEffectText[_0x4ab837(0x41b)]=_0x4ab837(0x228)+potionEffectPower['combatStat'][gameState[_0x4ab837(0x3a4)][_0x4ab837(0x42c)]]*0x64+'%';let _0x436dde=Math[_0x4ab837(0x303)](gameState[_0x4ab837(0x3a4)]['timer']/0x5);potionTimer[_0x4ab837(0x41b)]=Math['floor'](_0x436dde/0x3c)[_0x4ab837(0x1c2)]()[_0x4ab837(0x2a0)](0x2,'0')+':'+(_0x436dde%0x3c)[_0x4ab837(0x1c2)]()['padStart'](0x2,'0'),gameState[_0x4ab837(0x3a4)][_0x4ab837(0x167)]--;}else gameState[_0x4ab837(0x3a4)][_0x4ab837(0x330)]!==null&&(gameState[_0x4ab837(0x3a4)][_0x4ab837(0x330)]=null,gameState[_0x4ab837(0x3a4)][_0x4ab837(0x42c)]=null,potionEffectIcon[_0x4ab837(0x3eb)]='',potionEffectText['innerText']=_0x4ab837(0x373),potionTimer['innerText']='',updateUnitAttack());if(gameState[_0x4ab837(0x329)]===!![]){Array[_0x4ab837(0x18e)](attackBtns)['forEach'](function(_0x17567e){const _0x70b977=_0x4ab837;_0x17567e[_0x70b977(0x28a)]['add'](_0x70b977(0x2e9));});gameState[_0x4ab837(0x317)]===null&&(gameState[_0x4ab837(0x317)]=!![]);;document['getElementById'](gameState[_0x4ab837(0x237)]+_0x4ab837(0x24e))[_0x4ab837(0x28a)]['add']('building-under-attack'),gameState[_0x4ab837(0x212)]===0x0&&(fillCombatArrays(),gameState['resolveCost']=getAutoResolveCost(),gameState[_0x4ab837(0x123)]=gameState[_0x4ab837(0x2be)][_0x4ab837(0x2aa)]*0xa),advanceTurn(gameState[_0x4ab837(0x317)]);};let _0x3faaee=gameState[_0x4ab837(0x1ff)],_0xa12ecc,_0x216729=maxGenerated[_0x4ab837(0x1ff)]/ticksPerSecond;gameState[_0x4ab837(0x1ff)]=gameState[_0x4ab837(0x1ff)]+_0x216729;let _0x15f81a=gameState[_0x4ab837(0x217)];if(gameState[_0x4ab837(0x343)][_0x4ab837(0x210)](_0x4ab837(0x33b))){const _0x18a336=0x1;gameState[_0x4ab837(0x217)]=Math[_0x4ab837(0x16b)](gameState['blood']+gameState[_0x4ab837(0x38e)]*_0x18a336/ticksPerSecond,maxResources[_0x4ab837(0x217)]);}let _0x4e150c=maxGenerated[_0x4ab837(0x217)]/ticksPerSecond;const _0x53bd86=calcResourceConsumptionRatio[_0x4ab837(0x258)](gameState),_0x19b84b=0x1/_0x53bd86[_0x4ab837(0x1ff)],_0x446f65=Math['min'](_0x4e150c,Math[_0x4ab837(0x16b)](gameState[_0x4ab837(0x1ff)],maxResources[_0x4ab837(0x1ff)])*_0x19b84b,maxResources['blood']-gameState[_0x4ab837(0x217)]);gameState['humans']-=_0x446f65/_0x19b84b,gameState[_0x4ab837(0x217)]+=_0x446f65;const _0x4d924f=gameState[_0x4ab837(0x217)];gameState[_0x4ab837(0x1ff)]=Math['min'](gameState[_0x4ab837(0x1ff)],maxResources['humans']),_0xa12ecc=gameState[_0x4ab837(0x1ff)];let _0x102678=(_0x4d924f-_0x15f81a)*ticksPerSecond,_0x1653c4=(_0xa12ecc-_0x3faaee)*ticksPerSecond*0x3c;const _0x1ed75c=maxConsumed[_0x4ab837(0x388)]/ticksPerSecond;let _0x32240e=gameState[_0x4ab837(0x388)],_0x458517,_0x5c649d=maxGenerated[_0x4ab837(0x388)]/ticksPerSecond;if(gameState[_0x4ab837(0x388)]>=maxResources[_0x4ab837(0x388)]&&_0x1ed75c<_0x5c649d)gameState[_0x4ab837(0x388)]=maxResources[_0x4ab837(0x388)],_0x458517=gameState[_0x4ab837(0x388)];else gameState[_0x4ab837(0x388)]<maxResources[_0x4ab837(0x388)]?(gameState[_0x4ab837(0x388)]=gameState[_0x4ab837(0x388)]+_0x5c649d-_0x1ed75c,gameState[_0x4ab837(0x388)]>maxResources[_0x4ab837(0x388)]&&(gameState[_0x4ab837(0x388)]=maxResources[_0x4ab837(0x388)]),_0x458517=gameState[_0x4ab837(0x388)]):(gameState[_0x4ab837(0x388)]=gameState[_0x4ab837(0x388)]-_0x1ed75c+_0x5c649d,_0x458517=gameState['food']);let _0x39a544=(_0x458517-_0x32240e)*ticksPerSecond,_0x4ed62a=gameState[_0x4ab837(0x39f)],_0x26242c,_0x5abb2a=maxGenerated['wood']/ticksPerSecond;gameState[_0x4ab837(0x39f)]=gameState['wood']+_0x5abb2a;let _0x35372d=gameState['stone'],_0x3168b1,_0x5bdc87=maxGenerated[_0x4ab837(0x3a1)]/ticksPerSecond;gameState[_0x4ab837(0x3a1)]=gameState[_0x4ab837(0x3a1)]+_0x5bdc87;let _0x3dc0f4=gameState['iron'],_0xa43ef0,_0x1976ca=maxGenerated[_0x4ab837(0x16a)]/ticksPerSecond;const _0x327e21=calcResourceConsumptionRatio[_0x4ab837(0x424)](gameState),_0x439ba8=Math[_0x4ab837(0x16b)](_0x1976ca,Math[_0x4ab837(0x16b)](gameState[_0x4ab837(0x3a1)],maxResources[_0x4ab837(0x3a1)])/_0x327e21[_0x4ab837(0x3a1)]);let _0x4a4b6e=gameState[_0x4ab837(0x142)],_0x1532a6,_0x42cbc2=maxGenerated[_0x4ab837(0x142)]/ticksPerSecond;const _0x1ef5fe=calcResourceConsumptionRatio[_0x4ab837(0x28d)](gameState),_0x225928=Math[_0x4ab837(0x16b)](_0x42cbc2,maxResources[_0x4ab837(0x142)]-_0x4a4b6e,Math[_0x4ab837(0x16b)](gameState['iron']+_0x439ba8,maxResources[_0x4ab837(0x16a)])/_0x1ef5fe[_0x4ab837(0x16a)],Math[_0x4ab837(0x16b)](gameState[_0x4ab837(0x39f)],maxResources['wood'])/_0x1ef5fe[_0x4ab837(0x39f)]);gameState[_0x4ab837(0x39f)]-=_0x225928*_0x1ef5fe[_0x4ab837(0x39f)],gameState['iron']-=_0x225928*_0x1ef5fe[_0x4ab837(0x16a)],gameState[_0x4ab837(0x142)]+=_0x225928;const _0x1f1553=Math[_0x4ab837(0x16b)](_0x439ba8,maxResources[_0x4ab837(0x16a)]-gameState[_0x4ab837(0x16a)]);gameState[_0x4ab837(0x3a1)]-=_0x1f1553*_0x327e21[_0x4ab837(0x3a1)],gameState[_0x4ab837(0x16a)]+=_0x1f1553,gameState[_0x4ab837(0x39f)]=Math[_0x4ab837(0x16b)](gameState[_0x4ab837(0x39f)],maxResources[_0x4ab837(0x39f)]),gameState['stone']=Math[_0x4ab837(0x16b)](gameState[_0x4ab837(0x3a1)],maxResources[_0x4ab837(0x3a1)]),gameState[_0x4ab837(0x16a)]=Math[_0x4ab837(0x16b)](Math[_0x4ab837(0x118)](gameState['iron'],0x0),maxResources[_0x4ab837(0x16a)]),gameState[_0x4ab837(0x142)]=Math[_0x4ab837(0x16b)](gameState[_0x4ab837(0x142)],maxResources[_0x4ab837(0x142)]),_0x1532a6=gameState['equipment'];let _0x23940c=(_0x1532a6-_0x4a4b6e)*ticksPerSecond;_0xa43ef0=gameState[_0x4ab837(0x16a)];let _0xb6e316=(_0xa43ef0-_0x3dc0f4)*ticksPerSecond;_0x3168b1=gameState[_0x4ab837(0x3a1)];let _0x23ad45=(_0x3168b1-_0x35372d)*ticksPerSecond;_0x26242c=gameState['wood'];let _0x2d3920=(_0x26242c-_0x4ed62a)*ticksPerSecond,_0x18d9d0=gameState[_0x4ab837(0x1ad)],_0x2ac297=maxGenerated[_0x4ab837(0x1ad)]/ticksPerSecond;gameState[_0x4ab837(0x1ad)]=Math['min'](gameState[_0x4ab837(0x1ad)]+_0x2ac297,maxResources['knowledge']);let _0x36371d=gameState[_0x4ab837(0x1ad)],_0x15fbaa=(_0x36371d-_0x18d9d0)*ticksPerSecond;gameState['civilPopulation']=civilUnitTypes[_0x4ab837(0x1c1)]((_0x2f1175,_0x433c07)=>_0x2f1175+gameState['civilUnits'][_0x433c07],0x0),gameState['armyPopulation']=friendlyArmyUnitTypes[_0x4ab837(0x1c1)]((_0x4a71fb,_0x53b61e)=>_0x4a71fb+gameState[_0x4ab837(0x328)][_0x53b61e],0x0);if(gameState[_0x4ab837(0x311)]>maxPopulation[_0x4ab837(0x2bd)]){const _0x425f8f=Object[_0x4ab837(0x2fe)](gameState[_0x4ab837(0x22a)])[_0x4ab837(0x44d)](_0x46391d=>gameState[_0x4ab837(0x22a)][_0x46391d]>0x0);gameState[_0x4ab837(0x22a)][_0x425f8f]-=0x1;}if(gameState[_0x4ab837(0x225)]>maxPopulation[_0x4ab837(0x3a9)]){const _0x2ad5a8=Object['keys'](gameState[_0x4ab837(0x328)])[_0x4ab837(0x44d)](_0x50128f=>gameState[_0x4ab837(0x328)][_0x50128f]>0x0);gameState[_0x4ab837(0x328)][_0x2ad5a8]-=0x1;}if(gameState[_0x4ab837(0x388)]<=0x0&&_0x1ed75c>_0x5c649d){$(_0x4ab837(0x121))[_0x4ab837(0x28a)][_0x4ab837(0x3d3)](_0x4ab837(0x2e8)),gameState['food']=0x0;let _0x471ce8=0x2;for(const _0x139fba of[gameState[_0x4ab837(0x328)],gameState[_0x4ab837(0x22a)]]){for(const _0x57b2f8 in _0x139fba){_0x139fba[_0x57b2f8]>0x0&&unitFoodConsumption[_0x57b2f8]>0x0&&(_0x139fba[_0x57b2f8]=Math['max'](0x0,_0x139fba[_0x57b2f8]-_0x471ce8));}}gameState['isCombat']===!![]&&(endCombat(),$(_0x4ab837(0x176))['classList'][_0x4ab837(0x3d3)](_0x4ab837(0x2e8)),$('#defeat-container')['classList']['remove'](_0x4ab837(0x2e8)));;};if(isPreCombatMenuOpen){if(canCombatSim())combatSimBtn[_0x4ab837(0x28a)][_0x4ab837(0x3d3)]('button-disabled');else combatSimBtn['classList'][_0x4ab837(0x375)](_0x4ab837(0x2e9));}$(_0x4ab837(0x36b))['innerText']=gameState[_0x4ab837(0x3df)][_0x4ab837(0x142)],$('#resolve-cost-knowledge')[_0x4ab837(0x41b)]=gameState[_0x4ab837(0x3df)][_0x4ab837(0x1ad)],$(_0x4ab837(0x2c3))[_0x4ab837(0x41b)]=gameState[_0x4ab837(0x3df)][_0x4ab837(0x20c)],$('#retreat-cost')[_0x4ab837(0x41b)]=gameState[_0x4ab837(0x123)];_0x39a544<0x0?$(_0x4ab837(0x3c3))[_0x4ab837(0x28a)]['add']('alert'):$('#food-resource-card')[_0x4ab837(0x28a)]['remove']('alert');;_0x2d3920<0x0?$(_0x4ab837(0x189))[_0x4ab837(0x28a)][_0x4ab837(0x375)]('alert'):$(_0x4ab837(0x189))['classList'][_0x4ab837(0x3d3)](_0x4ab837(0x1f5));;_0x23ad45<0x0?$(_0x4ab837(0x23d))['classList'][_0x4ab837(0x375)](_0x4ab837(0x1f5)):$(_0x4ab837(0x23d))[_0x4ab837(0x28a)][_0x4ab837(0x3d3)](_0x4ab837(0x1f5));;_0xb6e316<0x0?$(_0x4ab837(0x15a))['classList'][_0x4ab837(0x375)](_0x4ab837(0x1f5)):$('#iron-resource-card')[_0x4ab837(0x28a)][_0x4ab837(0x3d3)]('alert');;gameState[_0x4ab837(0x1ff)]===maxResources[_0x4ab837(0x1ff)]?$(_0x4ab837(0x3aa))['innerText']=Math[_0x4ab837(0x1d8)](gameState['humans'])['toLocaleString']('en')+'\x20Max':$('#humans-count')[_0x4ab837(0x41b)]=Math[_0x4ab837(0x1d8)](gameState[_0x4ab837(0x1ff)])[_0x4ab837(0x2fc)]('en');$(_0x4ab837(0x30c))[_0x4ab837(0x41b)]=_0x1653c4['toLocaleString']('en',{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),$('#humans-max')['innerText']=Math['floor'](maxResources[_0x4ab837(0x1ff)])[_0x4ab837(0x2fc)]('en');gameState[_0x4ab837(0x388)]===maxResources[_0x4ab837(0x388)]?$(_0x4ab837(0x33c))['innerText']=Math[_0x4ab837(0x1d8)](gameState[_0x4ab837(0x388)])['toLocaleString']('en')+'\x20Max':$(_0x4ab837(0x33c))[_0x4ab837(0x41b)]=Math[_0x4ab837(0x1d8)](gameState[_0x4ab837(0x388)])[_0x4ab837(0x2fc)]('en');$(_0x4ab837(0x22d))[_0x4ab837(0x41b)]=_0x39a544[_0x4ab837(0x2fc)]('en',{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),$(_0x4ab837(0x2bb))[_0x4ab837(0x41b)]=Math[_0x4ab837(0x1d8)](maxResources['food'])['toLocaleString']('en');gameState[_0x4ab837(0x39f)]===maxResources['wood']?$(_0x4ab837(0x3c1))['innerText']=Math['floor'](gameState[_0x4ab837(0x39f)])['toLocaleString']('en')+_0x4ab837(0x19f):$('#wood-count')[_0x4ab837(0x41b)]=Math[_0x4ab837(0x1d8)](gameState[_0x4ab837(0x39f)])[_0x4ab837(0x2fc)]('en');$(_0x4ab837(0x32a))[_0x4ab837(0x41b)]=_0x2d3920[_0x4ab837(0x2fc)]('en',{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),$('#wood-max')[_0x4ab837(0x41b)]=Math[_0x4ab837(0x1d8)](maxResources[_0x4ab837(0x39f)])['toLocaleString']('en');gameState[_0x4ab837(0x3a1)]===maxResources[_0x4ab837(0x3a1)]?$(_0x4ab837(0x2f8))[_0x4ab837(0x41b)]=Math[_0x4ab837(0x1d8)](gameState[_0x4ab837(0x3a1)])[_0x4ab837(0x2fc)]('en')+'\x20Max':$(_0x4ab837(0x2f8))[_0x4ab837(0x41b)]=Math[_0x4ab837(0x1d8)](gameState[_0x4ab837(0x3a1)])['toLocaleString']('en');$(_0x4ab837(0x239))[_0x4ab837(0x41b)]=_0x23ad45[_0x4ab837(0x2fc)]('en',{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),$(_0x4ab837(0x41a))[_0x4ab837(0x41b)]=Math['floor'](maxResources[_0x4ab837(0x3a1)])[_0x4ab837(0x2fc)]('en');gameState[_0x4ab837(0x16a)]===maxResources['iron']?$('#iron-count')[_0x4ab837(0x41b)]=Math[_0x4ab837(0x1d8)](gameState[_0x4ab837(0x16a)])['toLocaleString']('en')+_0x4ab837(0x19f):$('#iron-count')[_0x4ab837(0x41b)]=Math['floor'](gameState[_0x4ab837(0x16a)])[_0x4ab837(0x2fc)]('en');$('#iron-per-second')[_0x4ab837(0x41b)]=_0xb6e316['toLocaleString']('en',{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),$(_0x4ab837(0x160))[_0x4ab837(0x41b)]=Math[_0x4ab837(0x1d8)](maxResources[_0x4ab837(0x16a)])[_0x4ab837(0x2fc)]('en');gameState[_0x4ab837(0x142)]===maxResources[_0x4ab837(0x142)]?$('#equipment-count')['innerText']=Math[_0x4ab837(0x1d8)](gameState[_0x4ab837(0x142)])[_0x4ab837(0x2fc)]('en')+_0x4ab837(0x19f):$(_0x4ab837(0x11b))[_0x4ab837(0x41b)]=Math['floor'](gameState[_0x4ab837(0x142)])['toLocaleString']('en');$('#equipment-per-second')['innerText']=_0x23940c['toLocaleString']('en',{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),$(_0x4ab837(0x300))[_0x4ab837(0x41b)]=Math[_0x4ab837(0x1d8)](maxResources['equipment'])['toLocaleString']('en');gameState[_0x4ab837(0x1ad)]===maxResources[_0x4ab837(0x1ad)]?($(_0x4ab837(0x445))[_0x4ab837(0x41b)]=Math[_0x4ab837(0x1d8)](gameState[_0x4ab837(0x1ad)])[_0x4ab837(0x2fc)]('en')+'\x20Convert',$(_0x4ab837(0x220))[_0x4ab837(0x28a)]['add']('knowledge-max')):($(_0x4ab837(0x445))[_0x4ab837(0x41b)]=Math['floor'](gameState[_0x4ab837(0x1ad)])[_0x4ab837(0x2fc)]('en'),$(_0x4ab837(0x220))[_0x4ab837(0x28a)][_0x4ab837(0x3d3)](_0x4ab837(0x29d)));$(_0x4ab837(0x2d5))[_0x4ab837(0x41b)]=_0x15fbaa[_0x4ab837(0x2fc)]('en',{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),$(_0x4ab837(0x1ce))[_0x4ab837(0x41b)]=Math[_0x4ab837(0x1d8)](maxResources[_0x4ab837(0x1ad)])['toLocaleString']('en');gameState['blood']===maxResources['blood']?$(_0x4ab837(0x243))[_0x4ab837(0x41b)]=Math[_0x4ab837(0x1d8)](gameState[_0x4ab837(0x217)])['toLocaleString']('en')+'\x20Max':$('#blood-count')[_0x4ab837(0x41b)]=Math[_0x4ab837(0x1d8)](gameState[_0x4ab837(0x217)])[_0x4ab837(0x2fc)]('en');$(_0x4ab837(0x33a))[_0x4ab837(0x41b)]=_0x102678['toLocaleString']('en',{'minimumFractionDigits':0x2,'maximumFractionDigits':0x2}),$(_0x4ab837(0x39e))['innerText']=Math['floor'](maxResources[_0x4ab837(0x217)])['toLocaleString']('en');gameState['magic']===maxResources[_0x4ab837(0x145)]?$('#magic-count')[_0x4ab837(0x41b)]=Math[_0x4ab837(0x1d8)](gameState[_0x4ab837(0x145)])[_0x4ab837(0x2fc)]('en')+'\x20Max':$(_0x4ab837(0x1e4))[_0x4ab837(0x41b)]=Math[_0x4ab837(0x1d8)](gameState[_0x4ab837(0x145)])[_0x4ab837(0x2fc)]('en');$(_0x4ab837(0x203))[_0x4ab837(0x41b)]=Math[_0x4ab837(0x1d8)](maxResources['magic'])[_0x4ab837(0x2fc)]('en');let _0x532b00=document[_0x4ab837(0x446)](_0x4ab837(0x437));Array[_0x4ab837(0x18e)](_0x532b00)[_0x4ab837(0x16d)](function(_0x619fbf){const _0x24fcf9=_0x4ab837;let _0xc5a5d8=gameState[_0x619fbf[_0x24fcf9(0x3ec)][_0x24fcf9(0x268)]]/maxResources[_0x619fbf['dataset'][_0x24fcf9(0x268)]]*0x64;_0x619fbf[_0x24fcf9(0x147)]['width']=_0xc5a5d8+'%';}),document[_0x4ab837(0x43d)]('.resource-overflow')[_0x4ab837(0x16d)](_0x331c7a=>{const _0x1a4a78=_0x4ab837,_0x4237fe=_0x331c7a['dataset'][_0x1a4a78(0x268)];gameState[_0x4237fe]===maxResources[_0x4237fe]?(_0x4237fe==='humans'?_0x331c7a[_0x1a4a78(0x41b)]=((maxGenerated[_0x4237fe]-maxConsumed[_0x4237fe])*0x3c)[_0x1a4a78(0x253)](0x2):_0x331c7a[_0x1a4a78(0x41b)]=(maxGenerated[_0x4237fe]-maxConsumed[_0x4237fe])['toFixed'](0x2),_0x331c7a[_0x1a4a78(0x1c9)][_0x1a4a78(0x28a)][_0x1a4a78(0x3d3)](_0x1a4a78(0x2e8))):_0x331c7a[_0x1a4a78(0x1c9)][_0x1a4a78(0x28a)][_0x1a4a78(0x375)](_0x1a4a78(0x2e8));}),updateBuildingActions();for(const _0x2b2e20 of civilUnitTypes){$('#'+_0x2b2e20+_0x4ab837(0x28e))[_0x4ab837(0x41b)]=gameState[_0x4ab837(0x22a)][_0x2b2e20]['toLocaleString']('en');}for(const _0x94daa4 of friendlyArmyUnitTypes){$('#'+_0x94daa4+_0x4ab837(0x28e))[_0x4ab837(0x41b)]=gameState[_0x4ab837(0x328)][_0x94daa4]['toLocaleString']('en'),selectedArmy[_0x94daa4]>gameState['armyUnits'][_0x94daa4]&&(selectedArmy[_0x94daa4]=gameState[_0x4ab837(0x328)][_0x94daa4],document['getElementById'](_0x4ab837(0x43f)+_0x94daa4+'-count')[_0x4ab837(0x41b)]=selectedArmy[_0x94daa4]),$(_0x4ab837(0x26b)+_0x94daa4+_0x4ab837(0x1e7))['innerText']=gameState['armyUnits'][_0x94daa4][_0x4ab837(0x2fc)]('en');}$(_0x4ab837(0x24f))['innerText']=gameState[_0x4ab837(0x311)]['toLocaleString']('en')+'/',$(_0x4ab837(0x3bd))[_0x4ab837(0x41b)]=maxPopulation['civil'][_0x4ab837(0x2fc)]('en'),$('#army-population-count')['innerText']=gameState[_0x4ab837(0x225)][_0x4ab837(0x2fc)]('en')+'/',$(_0x4ab837(0x2a5))[_0x4ab837(0x41b)]=maxPopulation[_0x4ab837(0x3a9)][_0x4ab837(0x2fc)]('en'),Array[_0x4ab837(0x18e)](increaseCivilUnitBtns)['forEach'](function(_0x406b4b){const _0x5467c4=_0x4ab837;let _0x37959b=_0x406b4b[_0x5467c4(0x3ec)][_0x5467c4(0x3a7)];const _0xc90309=unitCosts[_0x37959b];Object[_0x5467c4(0x2fe)](_0xc90309)[_0x5467c4(0x28c)](_0x58d074=>_0xc90309[_0x58d074]>gameState[_0x58d074])||gameState[_0x5467c4(0x311)]===maxPopulation[_0x5467c4(0x2bd)]?_0x406b4b[_0x5467c4(0x28a)][_0x5467c4(0x375)](_0x5467c4(0x2e9)):_0x406b4b[_0x5467c4(0x28a)][_0x5467c4(0x3d3)](_0x5467c4(0x2e9));;}),Array['from'](increaseArmyUnitBtns)[_0x4ab837(0x16d)](function(_0x39f7b1){const _0x11bba3=_0x4ab837;let _0x31d1cc=_0x39f7b1[_0x11bba3(0x3ec)][_0x11bba3(0x3a7)];const _0x1a0b6c=unitCosts[_0x31d1cc];Object[_0x11bba3(0x2fe)](_0x1a0b6c)[_0x11bba3(0x28c)](_0x27f120=>_0x1a0b6c[_0x27f120]>gameState[_0x27f120])||gameState[_0x11bba3(0x225)]===maxPopulation[_0x11bba3(0x3a9)]||_0x39f7b1[_0x11bba3(0x3ec)][_0x11bba3(0x3a7)]==='imp'&&gameState[_0x11bba3(0x343)][_0x11bba3(0x210)](_0x11bba3(0x26a))===![]||_0x39f7b1['dataset'][_0x11bba3(0x3a7)]===_0x11bba3(0x29a)&&gameState[_0x11bba3(0x343)]['includes']('succubus')===![]||_0x39f7b1[_0x11bba3(0x3ec)]['unitType']==='bloodDemon'&&gameState['perksUnlocked'][_0x11bba3(0x210)](_0x11bba3(0x3c4))===![]?_0x39f7b1['classList'][_0x11bba3(0x375)](_0x11bba3(0x2e9)):_0x39f7b1[_0x11bba3(0x28a)][_0x11bba3(0x3d3)](_0x11bba3(0x2e9));;}),Array[_0x4ab837(0x18e)](upgradeBuildingBtns)[_0x4ab837(0x16d)](function(_0x5aa84a){const _0x1e948f=_0x4ab837,_0x10517c=buildingUpgradePrices[_0x5aa84a['id']],_0x1b3b10=Object[_0x1e948f(0x2fe)](_0x10517c)[_0x1e948f(0x183)](_0x21a2c0=>_0x10517c[_0x21a2c0]<=gameState[_0x21a2c0]);_0x1b3b10?_0x5aa84a[_0x1e948f(0x28a)][_0x1e948f(0x3d3)](_0x1e948f(0x2e9)):_0x5aa84a[_0x1e948f(0x28a)][_0x1e948f(0x375)]('button-disabled');}),Array[_0x4ab837(0x18e)](buildBtns)[_0x4ab837(0x16d)](function(_0x12501a){const _0x500f94=_0x4ab837,_0x148467=buildingPrices[_0x12501a['id']],_0x2e5440=Object[_0x500f94(0x2fe)](_0x148467)[_0x500f94(0x183)](_0x2cf61b=>_0x148467[_0x2cf61b]<=gameState[_0x2cf61b]);_0x2e5440?_0x12501a[_0x500f94(0x28a)][_0x500f94(0x3d3)](_0x500f94(0x2e9)):_0x12501a[_0x500f94(0x28a)][_0x500f94(0x375)](_0x500f94(0x2e9));}),Array[_0x4ab837(0x18e)](upgradeStorageBtns)[_0x4ab837(0x16d)](function(_0x98e6fc){const _0x5b6f22=_0x4ab837,_0x5e901a=storageUpgradePrices[_0x98e6fc[_0x5b6f22(0x3ec)][_0x5b6f22(0x268)]];gameState[_0x5b6f22(0x39f)]>=_0x5e901a['wood']&&gameState[_0x5b6f22(0x3a1)]>=_0x5e901a[_0x5b6f22(0x3a1)]?_0x98e6fc[_0x5b6f22(0x28a)]['remove'](_0x5b6f22(0x2e9)):_0x98e6fc['classList'][_0x5b6f22(0x375)]('button-disabled');}),unitBeingHovered!==null&&(armyUnitTypes[_0x4ab837(0x210)](unitBeingHovered)?updateArmyUnitTooltips(unitBeingHovered):updateWorkerUnitTooltips(unitBeingHovered)),upgradeBtnBeingHovered!==null&&updateBuildingUpgradeTooltip(upgradeBtnBeingHovered),buildingCardBeingHovered!==null&&updateBuildingTooltip(buildingCardBeingHovered),storageUpgradeBtnBeingHovered!==null&&updateStorageUpgradeTooltip(storageUpgradeBtnBeingHovered),!resettingGame&&(localStorage[_0x4ab837(0x3ca)](_0x4ab837(0x297),JSON[_0x4ab837(0x307)](gameState)),localStorage['setItem'](_0x4ab837(0x169),JSON[_0x4ab837(0x307)](soulState)));}const combatLog=document[a10_0x2adce8(0x411)](a10_0x2adce8(0x284));function getSaveChance(){const _0x49055f=a10_0x2adce8;return soulState[_0x49055f(0x2b7)][_0x49055f(0x210)](_0x49055f(0x3f8))?0.01:0x0;}function getTeleportChance(){const _0x25f5fc=a10_0x2adce8;return getPerkCount(_0x25f5fc(0x292))*0x5/0x64;}function advanceTurn(_0x59509d){const _0x1b5f74=a10_0x2adce8;gameState[_0x1b5f74(0x212)]++;const _0x38c908={'units':gameState[_0x1b5f74(0x2be)],'armyHeading':document['getElementById'](_0x1b5f74(0x2c2)),'unitElements':document[_0x1b5f74(0x446)](_0x1b5f74(0x2d8))},_0x4aefd3={'units':gameState[_0x1b5f74(0x257)],'armyHeading':document[_0x1b5f74(0x37b)](_0x1b5f74(0x131)),'unitElements':document['getElementsByClassName'](_0x1b5f74(0x29f))},_0x53a97a=_0x59509d?_0x38c908:_0x4aefd3,_0x56465d=_0x59509d?_0x4aefd3:_0x38c908;setTimeout(()=>{const _0x16e9f1=_0x1b5f74;_0x53a97a['armyHeading'][_0x16e9f1(0x28a)]['add'](_0x16e9f1(0x11f)),_0x56465d[_0x16e9f1(0x1c5)]['classList']['remove'](_0x16e9f1(0x11f));},0x32*gameState[_0x1b5f74(0x392)]);if(_0x53a97a[_0x1b5f74(0x21e)][_0x1b5f74(0x2aa)]>0x0&&_0x56465d[_0x1b5f74(0x21e)][_0x1b5f74(0x2aa)]>0x0&&gameState[_0x1b5f74(0x212)]%gameState['combatInterval']===0x0){if(isAutoResolving){autoResolveCombat();return;}const _0x1ffa34=_0x53a97a[_0x1b5f74(0x21e)][0x0],_0x1e6d61=_0x56465d['units'][Math[_0x1b5f74(0x1d8)](Math[_0x1b5f74(0x122)]()*_0x56465d[_0x1b5f74(0x21e)][_0x1b5f74(0x2aa)])];for(const _0x12c9e7 of _0x53a97a['unitElements']){_0x12c9e7[_0x1b5f74(0x3ec)][_0x1b5f74(0x3a7)]===_0x1ffa34?(_0x12c9e7[_0x1b5f74(0x28a)][_0x1b5f74(0x375)](_0x1b5f74(0x159)),setTimeout(()=>_0x12c9e7[_0x1b5f74(0x28a)][_0x1b5f74(0x3d3)](_0x1b5f74(0x159)),0x64*gameState[_0x1b5f74(0x392)])):_0x12c9e7[_0x1b5f74(0x28a)]['remove']('unit-active');;};const _0x439610=runFight(_0x1ffa34,_0x1e6d61,unitAttackTypes,unitWeaknessTypes,unitAttack,unitDefense,!_0x59509d&&getSaveChance(),!_0x59509d&&getTeleportChance()),_0x59336e=gameState[_0x1b5f74(0x392)];let _0x14777f=getAttackEfficiency(unitAttackTypes[_0x1ffa34],unitWeaknessTypes[_0x1e6d61]);combatLog['innerHTML']='',setTimeout(()=>{const _0x17370c=_0x1b5f74;combatLog[_0x17370c(0x23e)]=_0x17370c(0x15c)+unitAttackTypes[_0x1ffa34][0x0]+_0x17370c(0x26e)+(unitAttackTypes[_0x1ffa34][0x1]?_0x17370c(0x283)+unitAttackTypes[_0x1ffa34][0x1]+_0x17370c(0x423):'')+_0x17370c(0x20f)+unitAttackTypes[_0x1e6d61][0x0]+_0x17370c(0x26e)+(unitAttackTypes[_0x1e6d61][0x1]?_0x17370c(0x283)+unitAttackTypes[_0x1e6d61][0x1]+'_icon.svg\x22\x20alt=\x22\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20':'')+_0x17370c(0x379)+_0x14777f+_0x17370c(0x149)+(calcKillChance(unitAttack[_0x1ffa34],unitDefense[_0x1e6d61],_0x14777f)*0x64)[_0x17370c(0x253)](0x2)+'%\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x20\x27combat-log-result-container\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Result:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22combat-log-result\x22>&nbsp;</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',setTimeout(()=>{const _0x1a4f0c=_0x17370c;document['querySelector'](_0x1a4f0c(0x246))!==null&&(document[_0x1a4f0c(0x411)](_0x1a4f0c(0x246))['innerHTML']=capitalizeFirstLetter(_0x439610));},0x5f*_0x59336e);},0xf*_0x59336e);for(const _0x237fa2 of _0x56465d['unitElements']){_0x237fa2[_0x1b5f74(0x3ec)][_0x1b5f74(0x3a7)]===_0x1e6d61&&(setTimeout(function(){const _0x2a212a=_0x1b5f74;_0x237fa2['classList'][_0x2a212a(0x375)](_0x2a212a(0x2cb));},0x14*gameState['combatInterval']),setTimeout(function(){const _0x175866=_0x1b5f74;_0x237fa2[_0x175866(0x28a)][_0x175866(0x3d3)](_0x175866(0x2cb));},0x64*gameState['combatInterval']));;};if(_0x439610==='kill'||_0x439610==_0x1b5f74(0x27a)){onUnitRemoved(_0x1e6d61),setTimeout(updateInCombatCounts,0x64*gameState[_0x1b5f74(0x392)]);if(!_0x59509d&&_0x439610==='kill')gameState[_0x1b5f74(0x328)][_0x1e6d61]--;_0x59509d&&onEnemyKilled(_0x1e6d61);let _0x58cd65=_0x56465d['units'][_0x1b5f74(0x44a)](_0x1e6d61);_0x56465d['units'][_0x1b5f74(0x1a8)](_0x58cd65,0x1),_0x56465d['units'][_0x1b5f74(0x2aa)]===0x0&&onCombatEnd(_0x59509d);}else Array[_0x1b5f74(0x18e)](_0x56465d[_0x1b5f74(0x181)])['forEach'](function(_0x485f57){const _0xcd8d20=_0x1b5f74;_0x485f57['dataset'][_0xcd8d20(0x3a7)]===_0x1e6d61&&(setTimeout(function(){const _0x1b42fb=_0xcd8d20;_0x485f57['classList'][_0x1b42fb(0x375)](_0x1b42fb(0x197));},0x64*gameState[_0xcd8d20(0x392)]),setTimeout(function(){const _0x398d15=_0xcd8d20;_0x485f57[_0x398d15(0x28a)]['remove'](_0x398d15(0x197));},0x96*gameState[_0xcd8d20(0x392)]));});;_0x53a97a[_0x1b5f74(0x21e)][_0x1b5f74(0x1a8)](0x0,0x1);}else _0x53a97a[_0x1b5f74(0x21e)][_0x1b5f74(0x2aa)]===0x0&&(gameState[_0x1b5f74(0x317)]=_0x59509d?![]:!![],gameState['turnTimer']=0x0);;}function getUnitCard(_0x2569af){const _0x461a33=a10_0x2adce8,_0x24f870=[...document[_0x461a33(0x446)](_0x461a33(0x399))];return _0x24f870[_0x461a33(0x44d)](_0x485592=>_0x485592[_0x461a33(0x3ec)]['unitType']==_0x2569af);}function onUnitRemoved(_0x3b123c,_0x328d90){const _0x309211=a10_0x2adce8;gameState['unitsInCombat'][_0x3b123c]--;const _0x1b6c41=_0x328d90?0x0:gameState[_0x309211(0x392)],_0x32dea0=getUnitCard(_0x3b123c);setTimeout(function(){const _0x4c3483=_0x309211;_0x32dea0[_0x4c3483(0x28a)][_0x4c3483(0x375)](_0x4c3483(0x3e6)),setTimeout(function(){const _0x448084=_0x4c3483;_0x32dea0[_0x448084(0x28a)][_0x448084(0x3d3)](_0x448084(0x3e6));},0x32*gameState['combatInterval']);},0x64*_0x1b6c41);}function onEnemyKilled(_0x67eef9,_0x1fef00){const _0x1caec6=a10_0x2adce8,_0x42ab3c=_0x1fef00?0x0:gameState[_0x1caec6(0x392)],_0x52fc86=[0x0,0xf,0x28][getPerkCount(_0x1caec6(0x216))];_0x52fc86&&setTimeout(function(){const _0x3a23df=_0x1caec6;gameState[_0x3a23df(0x217)]+=_0x52fc86;},0x64*_0x42ab3c);const _0xf49e=enemyUnits[_0x67eef9][_0x1caec6(0x19a)]+enemyUnits[_0x67eef9][_0x1caec6(0x2f3)]*1.5,_0x52798f=Math[_0x1caec6(0x303)](_0xf49e/0x28+_0xf49e/0x28*Math[_0x1caec6(0x122)]());gameState[_0x1caec6(0x310)]+=_0x52798f,((_0x3b20b2,_0x2745a9,_0x1fceb6)=>{const _0xc28209=setTimeout(function(){const _0x4ad697=a10_0x2685;currentCombatGoldCount[_0x4ad697(0x41b)]=_0x1fceb6;const _0x3ea813=getUnitCard(_0x3b20b2);for(let _0x1c7239=0x0;_0x1c7239<_0x2745a9;_0x1c7239++){let _0x493ec1=document[_0x4ad697(0x3a5)](_0x4ad697(0x2ed));_0x493ec1[_0x4ad697(0x41e)](_0x4ad697(0x3f6),_0x4ad697(0x14a)+_0xc28209),_0x493ec1[_0x4ad697(0x41e)](_0x4ad697(0x147),_0x4ad697(0x2b3)+0x5a*Math['random']()+'px;\x20top:\x20'+-0x14*Math['random']()+_0x4ad697(0x381)),_0x493ec1[_0x4ad697(0x3eb)]=_0x4ad697(0x28f),_0x3ea813[_0x4ad697(0x30b)](_0x493ec1);}(_0x1d891=>setTimeout(()=>{const _0x289454=_0x4ad697;document[_0x289454(0x43d)](_0x289454(0x1aa)+_0x1d891)[_0x289454(0x16d)](_0x981591=>{const _0x2a03dc=_0x289454;_0x981591[_0x2a03dc(0x3d3)]();});},0x3e8))(_0xc28209);},0x73*_0x42ab3c);})(_0x67eef9,_0x52798f,gameState['currentCombatGold']);}function onCombatEnd(_0x582d70){const _0x4fada4=a10_0x2adce8;gameState[_0x4fada4(0x329)]=![],$(_0x4fada4(0x31c))['classList'][_0x4fada4(0x3d3)](_0x4fada4(0x1fa)),$(_0x4fada4(0x31c))[_0x4fada4(0x28a)][_0x4fada4(0x3d3)]('fadeout'),setTimeout(function(){const _0x38ef10=_0x4fada4;$(_0x38ef10(0x31c))[_0x38ef10(0x28a)][_0x38ef10(0x375)](_0x38ef10(0x36e));},0x514),setTimeout(function(){const _0x231d91=_0x4fada4;$(_0x231d91(0x31c))[_0x231d91(0x28a)][_0x231d91(0x3d3)]('fadeout');},0xa8c),setTimeout(function(){const _0x27a3a8=_0x4fada4;$(_0x27a3a8(0x31c))[_0x27a3a8(0x28a)]['add'](_0x27a3a8(0x1fa));},0x9c4);if(_0x582d70){if(enemyBuildingTiers[_0x4fada4(0x1cf)][_0x4fada4(0x210)](gameState[_0x4fada4(0x3c0)][gameState[_0x4fada4(0x237)]]))gameState['chestItem']=generateItem(0x1);else{if(enemyBuildingTiers['tier2'][_0x4fada4(0x210)](gameState[_0x4fada4(0x3c0)][gameState[_0x4fada4(0x237)]]))gameState[_0x4fada4(0x175)]=generateItem(0x2);else enemyBuildingTiers[_0x4fada4(0x15d)]['includes'](gameState['tiles'][gameState['currentlyFighting']])?gameState[_0x4fada4(0x175)]=generateItem(0x3):gameState[_0x4fada4(0x175)]=generateItem(0x4);}chestBtn[_0x4fada4(0x28a)]['remove'](_0x4fada4(0x1b2)),chestBtn['classList'][_0x4fada4(0x3d3)](_0x4fada4(0x25e)),chestBtn[_0x4fada4(0x28a)][_0x4fada4(0x3d3)](_0x4fada4(0x1ee)),chestBtn[_0x4fada4(0x28a)][_0x4fada4(0x3d3)](_0x4fada4(0x40b)),chestBtn[_0x4fada4(0x28a)][_0x4fada4(0x3d3)](_0x4fada4(0x238)),chestBtn['classList'][_0x4fada4(0x375)](_0x4fada4(0x1ae)+gameState[_0x4fada4(0x175)][_0x4fada4(0x1bd)]),gameState['controlledTiles'][_0x4fada4(0x213)](gameState[_0x4fada4(0x237)]),openChestBuildingBtn[_0x4fada4(0x28a)][_0x4fada4(0x375)](_0x4fada4(0x2e9)),document['getElementById'](gameState[_0x4fada4(0x237)]+'-overlay'),gameState[_0x4fada4(0x3c0)][gameState['currentlyFighting']]=null;let _0x2c5102=document[_0x4fada4(0x37b)](gameState['currentlyFighting']+_0x4fada4(0x24e));setTimeout(function(){const _0x3a0715=_0x4fada4;$(_0x3a0715(0x31c))[_0x3a0715(0x28a)][_0x3a0715(0x375)](_0x3a0715(0x36e));},0x9c4),setTimeout(function(){const _0x58202a=_0x4fada4;$(_0x58202a(0x31c))[_0x58202a(0x28a)][_0x58202a(0x3d3)](_0x58202a(0x36e));},0xa8c),setTimeout(function(){const _0x1aab67=_0x4fada4;_0x2c5102[_0x1aab67(0x28a)]['remove']('building-under-attack');},0x5dc),setTimeout(function(){const _0x182aa6=_0x4fada4;_0x2c5102[_0x182aa6(0x28a)][_0x182aa6(0x375)]('building-destroyed');},0x5dc),setTimeout(function(){const _0x25f6ef=_0x4fada4;_0x2c5102[_0x25f6ef(0x28a)][_0x25f6ef(0x3d3)](_0x25f6ef(0x2a8));},0xbb8),setTimeout(function(){const _0x13fe49=_0x4fada4;_0x2c5102[_0x13fe49(0x32e)](_0x2c5102[_0x13fe49(0x3b1)]);},0x9c4),setTimeout(function(){refreshFog();},0x9c4),calcEnemyBuildingUnits(),soulState[_0x4fada4(0x20c)]+=gameState[_0x4fada4(0x310)],document['querySelector']('.victory-gold-container')['classList']['remove']('display-none'),document['querySelector'](_0x4fada4(0x3fe))['innerText']=gameState[_0x4fada4(0x310)],updateGoldCount(soulState),loadShopPrices(soulState),sellAnimation(),gameState[_0x4fada4(0x310)]=0x0;}setTimeout(function(){const _0x131529=_0x4fada4;$(_0x131529(0x176))[_0x131529(0x28a)]['remove'](_0x131529(0x2e8)),$('#'+(_0x582d70?_0x131529(0x2d3):_0x131529(0x2f1))+_0x131529(0x130))[_0x131529(0x28a)][_0x131529(0x3d3)](_0x131529(0x2e8));},0x9c4),setTimeout(function(){endCombat();},0x9c4),gameState[_0x4fada4(0x2ee)][_0x4fada4(0x2aa)]===0x40&&setTimeout(function(){const _0x384ed5=_0x4fada4;let _0x538f03=displayedTime;$(_0x384ed5(0x285))[_0x384ed5(0x41b)]=_0x538f03,$(_0x384ed5(0x144))['classList'][_0x384ed5(0x3d3)](_0x384ed5(0x2e8)),prestigeCounterContainer['classList']['add'](_0x384ed5(0x2e8)),$(_0x384ed5(0x153))['classList'][_0x384ed5(0x3d3)]('display-none'),gtag(_0x384ed5(0x3e4),_0x384ed5(0x215),{'gameState':gameState,'soulState':soulState});},0x9c4);}console[a10_0x2adce8(0x3b9)]('%c\x0aA\x20DEMON\x20WILL\x20HAUNT\x20\x0a\x20YOU\x20IF\x20YOU\x20CHEAT!\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20,\x20,\x20,\x0a\x20\x20\x20^\x20\x20\x20\x20\x20^|\x20|\x20|\x0a\x20\x20\x20|\x20L\x20/\x20||_|_/\x0a\x20\x20\x20(--\x20--)\x20_|\x0a\x20\x20\x20([-\x20-])//|\x0a\x20\x20\x20(\x20[\x20]\x20)\x20\x20|\x0a',a10_0x2adce8(0x453));let allImages=document[a10_0x2adce8(0x1fb)],allImagesLength=allImages[a10_0x2adce8(0x2aa)],imageCounter=0x0;[][a10_0x2adce8(0x16d)][a10_0x2adce8(0x2e3)](allImages,function(_0x1cf315){const _0x17e11f=a10_0x2adce8;if(_0x1cf315['complete'])incrementImageCounter();else _0x1cf315[_0x17e11f(0x362)]('load',incrementImageCounter,![]);});function incrementImageCounter(_0x1aae55){const _0x4c0fcc=a10_0x2adce8;imageCounter++;let _0x495617=imageCounter/allImagesLength*0x64;$(_0x4c0fcc(0x1fd))[_0x4c0fcc(0x147)][_0x4c0fcc(0x41d)]=_0x495617+'%\x20',imageCounter===allImagesLength&&(setTimeout(function(){const _0x6757b4=_0x4c0fcc;$(_0x6757b4(0x3d7))[_0x6757b4(0x28a)][_0x6757b4(0x375)](_0x6757b4(0x36e));},0x1f4),setTimeout(function(){const _0x5b3b8d=_0x4c0fcc;$(_0x5b3b8d(0x3d7))[_0x5b3b8d(0x28a)][_0x5b3b8d(0x375)](_0x5b3b8d(0x2e8));},0x3e8));}