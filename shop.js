const a13_0x3b8a=['classList','230312ulaEuT','button-disabled','.shop-page-2','307203XdMNWB','19OdHYDW','display-none','forEach','.shop-price','219736tUvdxR','.shop-item','#shop-page-btn-right','614CZNeNF','click','254955JHXMhW','add','295SZDarM','addEventListener','gold','includes','545163xLAsQP','itemName','shop-item-too-expensive','querySelector','remove','shopItemsOwned','push','18485SHKytG','innerText','dataset','.shop-price-container'];const a13_0x32fe90=a13_0x41b0;(function(_0x33709d,_0x28fd7e){const _0x27b3d1=a13_0x41b0;while(!![]){try{const _0x29f0eb=-parseInt(_0x27b3d1(0x78))*-parseInt(_0x27b3d1(0x7c))+parseInt(_0x27b3d1(0x6d))+parseInt(_0x27b3d1(0x75))+-parseInt(_0x27b3d1(0x80))+parseInt(_0x27b3d1(0x70))+parseInt(_0x27b3d1(0x71))*-parseInt(_0x27b3d1(0x87))+parseInt(_0x27b3d1(0x7a));if(_0x29f0eb===_0x28fd7e)break;else _0x33709d['push'](_0x33709d['shift']());}catch(_0x533832){_0x33709d['push'](_0x33709d['shift']());}}}(a13_0x3b8a,0x487fe));import{updateGoldCount}from'./inventory.js';import{updateUnlocks}from'./master.js';const leftPageBtn=document[a13_0x32fe90(0x83)]('#shop-page-btn-left'),rightPageBtn=document[a13_0x32fe90(0x83)](a13_0x32fe90(0x77)),shopPage1=document['querySelector']('.shop-page-1'),shopPage2=document[a13_0x32fe90(0x83)](a13_0x32fe90(0x6f));leftPageBtn[a13_0x32fe90(0x7d)](a13_0x32fe90(0x79),function(){const _0x2e1bed=a13_0x32fe90;shopPage1[_0x2e1bed(0x6c)][_0x2e1bed(0x84)](_0x2e1bed(0x72)),shopPage2[_0x2e1bed(0x6c)][_0x2e1bed(0x7b)](_0x2e1bed(0x72)),leftPageBtn[_0x2e1bed(0x6c)][_0x2e1bed(0x7b)](_0x2e1bed(0x6e)),rightPageBtn[_0x2e1bed(0x6c)][_0x2e1bed(0x84)](_0x2e1bed(0x6e));}),rightPageBtn['addEventListener']('click',function(){const _0xbe2c14=a13_0x32fe90;shopPage1[_0xbe2c14(0x6c)][_0xbe2c14(0x7b)](_0xbe2c14(0x72)),shopPage2['classList']['remove'](_0xbe2c14(0x72)),rightPageBtn[_0xbe2c14(0x6c)][_0xbe2c14(0x7b)]('button-disabled'),leftPageBtn[_0xbe2c14(0x6c)][_0xbe2c14(0x84)]('button-disabled');});function a13_0x41b0(_0x36929e,_0xb771e8){return a13_0x41b0=function(_0x3b8a6a,_0x41b0ca){_0x3b8a6a=_0x3b8a6a-0x69;let _0x2fadc3=a13_0x3b8a[_0x3b8a6a];return _0x2fadc3;},a13_0x41b0(_0x36929e,_0xb771e8);}let shopPrices={'archer':0x19,'eagle':0x320,'commandPost':0x1f4,'bathHouse':0x5dc,'bookOfMages':0xbb8,'bookOfAlchemy':0xbb8,'soothsayer':0x32,'cavalier':0x96,'squire':0xfa0,'warlord':0x4e20,'legend':0xa,'savingDice':0x6a4,'extraBag1':0x1f40,'extraBag2':0x4e20,'potionRecipeBook':0x50};const shopItemContainers=document['querySelectorAll']('.shop-item-container');export function loadShopPrices(_0x3cc62e){const _0xb154c8=a13_0x32fe90;shopItemContainers[_0xb154c8(0x73)](_0x4e7e53=>{const _0x2e4476=_0xb154c8;_0x3cc62e[_0x2e4476(0x85)][_0x2e4476(0x7f)](_0x4e7e53[_0x2e4476(0x6a)][_0x2e4476(0x81)])?(_0x4e7e53[_0x2e4476(0x6c)][_0x2e4476(0x84)](_0x2e4476(0x82)),_0x4e7e53[_0x2e4476(0x6c)][_0x2e4476(0x7b)]('shop-item-owned'),_0x4e7e53['querySelector'](_0x2e4476(0x6b))['innerHTML']='Owned'):_0x4e7e53['querySelector'](_0x2e4476(0x74))[_0x2e4476(0x69)]=shopPrices[_0x4e7e53[_0x2e4476(0x6a)][_0x2e4476(0x81)]],!_0x3cc62e[_0x2e4476(0x85)][_0x2e4476(0x7f)](_0x4e7e53[_0x2e4476(0x6a)]['itemName'])&&shopPrices[_0x4e7e53[_0x2e4476(0x6a)][_0x2e4476(0x81)]]>_0x3cc62e[_0x2e4476(0x7e)]?_0x4e7e53[_0x2e4476(0x6c)]['add'](_0x2e4476(0x82)):_0x4e7e53[_0x2e4476(0x6c)]['remove']('shop-item-too-expensive');});}export function initShop(_0x1124da){const _0x31756b=a13_0x32fe90;shopItemContainers[_0x31756b(0x73)](_0x4c442f=>{const _0x5f2ff1=_0x31756b;_0x4c442f[_0x5f2ff1(0x83)](_0x5f2ff1(0x76))['addEventListener'](_0x5f2ff1(0x79),()=>buyShopItem(_0x1124da,_0x4c442f[_0x5f2ff1(0x6a)][_0x5f2ff1(0x81)]));}),loadShopPrices(_0x1124da);}function buyShopItem(_0x3219e8,_0x8bf871){const _0x2d5db1=a13_0x32fe90;shopPrices[_0x8bf871]<=_0x3219e8[_0x2d5db1(0x7e)]&&(_0x3219e8[_0x2d5db1(0x7e)]-=shopPrices[_0x8bf871],_0x3219e8['shopItemsOwned'][_0x2d5db1(0x86)](_0x8bf871),updateGoldCount(_0x3219e8),loadShopPrices(_0x3219e8),updateUnlocks());}