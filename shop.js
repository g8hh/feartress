const a13_0x427b=['querySelectorAll','add','itemName','button-disabled','.shop-price','gold','remove','2GWZGJi','querySelector','dataset','.shop-price-container','click','forEach','Owned','addEventListener','5620867KbjlJQ','3aTghjk','#shop-page-btn-left','1yjdXEq','1409836EcWlfI','classList','shopItemsOwned','1KxPfLK','1670863oIDVSi','1152115DYojGs','440778sYFpNq','includes','577149PxymYZ','display-none','innerText','shop-item-owned','innerHTML','#shop-page-btn-right','shop-item-too-expensive','494809XCeJsI'];const a13_0x743168=a13_0x472c;(function(_0x449a92,_0x5dc6d1){const _0x207ea9=a13_0x472c;while(!![]){try{const _0x56315d=-parseInt(_0x207ea9(0xfa))*-parseInt(_0x207ea9(0xf5))+parseInt(_0x207ea9(0xe2))*parseInt(_0x207ea9(0xea))+-parseInt(_0x207ea9(0xdb))*-parseInt(_0x207ea9(0xf3))+parseInt(_0x207ea9(0xf9))*-parseInt(_0x207ea9(0xfc))+parseInt(_0x207ea9(0xfb))+parseInt(_0x207ea9(0xf6))+-parseInt(_0x207ea9(0xf2));if(_0x56315d===_0x5dc6d1)break;else _0x449a92['push'](_0x449a92['shift']());}catch(_0x25a9e9){_0x449a92['push'](_0x449a92['shift']());}}}(a13_0x427b,0xd9d4a));import{updateGoldCount}from'./inventory.js';import{updateUnlocks}from'./master.js';const leftPageBtn=document['querySelector'](a13_0x743168(0xf4)),rightPageBtn=document['querySelector'](a13_0x743168(0xe0)),shopPage1=document[a13_0x743168(0xeb)]('.shop-page-1'),shopPage2=document[a13_0x743168(0xeb)]('.shop-page-2');leftPageBtn[a13_0x743168(0xf1)](a13_0x743168(0xee),function(){const _0x58146b=a13_0x743168;shopPage1['classList'][_0x58146b(0xe9)](_0x58146b(0xdc)),shopPage2[_0x58146b(0xf7)][_0x58146b(0xe4)]('display-none'),leftPageBtn[_0x58146b(0xf7)][_0x58146b(0xe4)]('button-disabled'),rightPageBtn['classList'][_0x58146b(0xe9)]('button-disabled');}),rightPageBtn['addEventListener']('click',function(){const _0x5b49b1=a13_0x743168;shopPage1[_0x5b49b1(0xf7)]['add']('display-none'),shopPage2['classList'][_0x5b49b1(0xe9)](_0x5b49b1(0xdc)),rightPageBtn[_0x5b49b1(0xf7)][_0x5b49b1(0xe4)](_0x5b49b1(0xe6)),leftPageBtn[_0x5b49b1(0xf7)]['remove'](_0x5b49b1(0xe6));});function a13_0x472c(_0x5c4f8e,_0x2483f8){return a13_0x472c=function(_0x427bf6,_0x472ccc){_0x427bf6=_0x427bf6-0xda;let _0x30d9ca=a13_0x427b[_0x427bf6];return _0x30d9ca;},a13_0x472c(_0x5c4f8e,_0x2483f8);}let shopPrices={'archer':0x19,'eagle':0x320,'commandPost':0x1f4,'bathHouse':0x5dc,'bookOfMages':0xbb8,'bookOfAlchemy':0xbb8,'soothsayer':0x32,'cavalier':0x96,'squire':0xfa0,'warlord':0x4e20,'legend':0xa,'savingDice':0x6a4,'extraBag1':0x1f40,'extraBag2':0x4e20,'potionRecipeBook':0x50};const shopItemContainers=document[a13_0x743168(0xe3)]('.shop-item-container');export function loadShopPrices(_0x4c0dd0){const _0x4a1c7b=a13_0x743168;shopItemContainers[_0x4a1c7b(0xef)](_0x5396f2=>{const _0x335396=_0x4a1c7b;_0x4c0dd0['shopItemsOwned'][_0x335396(0xda)](_0x5396f2[_0x335396(0xec)]['itemName'])?(_0x5396f2[_0x335396(0xf7)][_0x335396(0xe9)](_0x335396(0xe1)),_0x5396f2[_0x335396(0xf7)][_0x335396(0xe4)](_0x335396(0xde)),_0x5396f2[_0x335396(0xeb)](_0x335396(0xed))[_0x335396(0xdf)]=_0x335396(0xf0)):_0x5396f2['querySelector'](_0x335396(0xe7))[_0x335396(0xdd)]=shopPrices[_0x5396f2[_0x335396(0xec)][_0x335396(0xe5)]],!_0x4c0dd0['shopItemsOwned'][_0x335396(0xda)](_0x5396f2[_0x335396(0xec)]['itemName'])&&shopPrices[_0x5396f2[_0x335396(0xec)][_0x335396(0xe5)]]>_0x4c0dd0[_0x335396(0xe8)]?_0x5396f2[_0x335396(0xf7)][_0x335396(0xe4)]('shop-item-too-expensive'):_0x5396f2['classList']['remove'](_0x335396(0xe1));});}export function initShop(_0x27b04e){const _0xa36a3c=a13_0x743168;shopItemContainers[_0xa36a3c(0xef)](_0x18ccf4=>{const _0x22d8dc=_0xa36a3c;_0x18ccf4[_0x22d8dc(0xeb)]('.shop-item')[_0x22d8dc(0xf1)](_0x22d8dc(0xee),()=>buyShopItem(_0x27b04e,_0x18ccf4[_0x22d8dc(0xec)]['itemName']));}),loadShopPrices(_0x27b04e);}function buyShopItem(_0x4f3a63,_0x38f45d){const _0x13f1cf=a13_0x743168;shopPrices[_0x38f45d]<=_0x4f3a63['gold']&&(_0x4f3a63[_0x13f1cf(0xe8)]-=shopPrices[_0x38f45d],_0x4f3a63[_0x13f1cf(0xf8)]['push'](_0x38f45d),updateGoldCount(_0x4f3a63),loadShopPrices(_0x4f3a63),updateUnlocks());}